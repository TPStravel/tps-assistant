function Mw(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in n)){const o=Object.getOwnPropertyDescriptor(r,i);o&&Object.defineProperty(n,i,o.get?o:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const o of i)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const o={};return i.integrity&&(o.integrity=i.integrity),i.referrerPolicy&&(o.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?o.credentials="include":i.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(i){if(i.ep)return;i.ep=!0;const o=t(i);fetch(i.href,o)}})();var EP=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function bm(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var ng={exports:{}},wh={},rg={exports:{}},Xt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E0;function jw(){if(E0)return Xt;E0=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),_=Symbol.iterator;function I(X){return X===null||typeof X!="object"?null:(X=_&&X[_]||X["@@iterator"],typeof X=="function"?X:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},j=Object.assign,M={};function B(X,L,W){this.props=X,this.context=L,this.refs=M,this.updater=W||b}B.prototype.isReactComponent={},B.prototype.setState=function(X,L){if(typeof X!="object"&&typeof X!="function"&&X!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,X,L,"setState")},B.prototype.forceUpdate=function(X){this.updater.enqueueForceUpdate(this,X,"forceUpdate")};function V(){}V.prototype=B.prototype;function Q(X,L,W){this.props=X,this.context=L,this.refs=M,this.updater=W||b}var ne=Q.prototype=new V;ne.constructor=Q,j(ne,B.prototype),ne.isPureReactComponent=!0;var me=Array.isArray,xe=Object.prototype.hasOwnProperty,Ee={current:null},q={key:!0,ref:!0,__self:!0,__source:!0};function A(X,L,W){var Y,te={},oe=null,ve=null;if(L!=null)for(Y in L.ref!==void 0&&(ve=L.ref),L.key!==void 0&&(oe=""+L.key),L)xe.call(L,Y)&&!q.hasOwnProperty(Y)&&(te[Y]=L[Y]);var ue=arguments.length-2;if(ue===1)te.children=W;else if(1<ue){for(var ge=Array(ue),Ve=0;Ve<ue;Ve++)ge[Ve]=arguments[Ve+2];te.children=ge}if(X&&X.defaultProps)for(Y in ue=X.defaultProps,ue)te[Y]===void 0&&(te[Y]=ue[Y]);return{$$typeof:n,type:X,key:oe,ref:ve,props:te,_owner:Ee.current}}function N(X,L){return{$$typeof:n,type:X.type,key:L,ref:X.ref,props:X.props,_owner:X._owner}}function O(X){return typeof X=="object"&&X!==null&&X.$$typeof===n}function P(X){var L={"=":"=0",":":"=2"};return"$"+X.replace(/[=:]/g,function(W){return L[W]})}var C=/\/+/g;function R(X,L){return typeof X=="object"&&X!==null&&X.key!=null?P(""+X.key):L.toString(36)}function ie(X,L,W,Y,te){var oe=typeof X;(oe==="undefined"||oe==="boolean")&&(X=null);var ve=!1;if(X===null)ve=!0;else switch(oe){case"string":case"number":ve=!0;break;case"object":switch(X.$$typeof){case n:case e:ve=!0}}if(ve)return ve=X,te=te(ve),X=Y===""?"."+R(ve,0):Y,me(te)?(W="",X!=null&&(W=X.replace(C,"$&/")+"/"),ie(te,L,W,"",function(Ve){return Ve})):te!=null&&(O(te)&&(te=N(te,W+(!te.key||ve&&ve.key===te.key?"":(""+te.key).replace(C,"$&/")+"/")+X)),L.push(te)),1;if(ve=0,Y=Y===""?".":Y+":",me(X))for(var ue=0;ue<X.length;ue++){oe=X[ue];var ge=Y+R(oe,ue);ve+=ie(oe,L,W,ge,te)}else if(ge=I(X),typeof ge=="function")for(X=ge.call(X),ue=0;!(oe=X.next()).done;)oe=oe.value,ge=Y+R(oe,ue++),ve+=ie(oe,L,W,ge,te);else if(oe==="object")throw L=String(X),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(X).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.");return ve}function Ne(X,L,W){if(X==null)return X;var Y=[],te=0;return ie(X,Y,"","",function(oe){return L.call(W,oe,te++)}),Y}function Ae(X){if(X._status===-1){var L=X._result;L=L(),L.then(function(W){(X._status===0||X._status===-1)&&(X._status=1,X._result=W)},function(W){(X._status===0||X._status===-1)&&(X._status=2,X._result=W)}),X._status===-1&&(X._status=0,X._result=L)}if(X._status===1)return X._result.default;throw X._result}var ye={current:null},re={transition:null},ae={ReactCurrentDispatcher:ye,ReactCurrentBatchConfig:re,ReactCurrentOwner:Ee};function ce(){throw Error("act(...) is not supported in production builds of React.")}return Xt.Children={map:Ne,forEach:function(X,L,W){Ne(X,function(){L.apply(this,arguments)},W)},count:function(X){var L=0;return Ne(X,function(){L++}),L},toArray:function(X){return Ne(X,function(L){return L})||[]},only:function(X){if(!O(X))throw Error("React.Children.only expected to receive a single React element child.");return X}},Xt.Component=B,Xt.Fragment=t,Xt.Profiler=i,Xt.PureComponent=Q,Xt.StrictMode=r,Xt.Suspense=h,Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ae,Xt.act=ce,Xt.cloneElement=function(X,L,W){if(X==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+X+".");var Y=j({},X.props),te=X.key,oe=X.ref,ve=X._owner;if(L!=null){if(L.ref!==void 0&&(oe=L.ref,ve=Ee.current),L.key!==void 0&&(te=""+L.key),X.type&&X.type.defaultProps)var ue=X.type.defaultProps;for(ge in L)xe.call(L,ge)&&!q.hasOwnProperty(ge)&&(Y[ge]=L[ge]===void 0&&ue!==void 0?ue[ge]:L[ge])}var ge=arguments.length-2;if(ge===1)Y.children=W;else if(1<ge){ue=Array(ge);for(var Ve=0;Ve<ge;Ve++)ue[Ve]=arguments[Ve+2];Y.children=ue}return{$$typeof:n,type:X.type,key:te,ref:oe,props:Y,_owner:ve}},Xt.createContext=function(X){return X={$$typeof:l,_currentValue:X,_currentValue2:X,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},X.Provider={$$typeof:o,_context:X},X.Consumer=X},Xt.createElement=A,Xt.createFactory=function(X){var L=A.bind(null,X);return L.type=X,L},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(X){return{$$typeof:u,render:X}},Xt.isValidElement=O,Xt.lazy=function(X){return{$$typeof:v,_payload:{_status:-1,_result:X},_init:Ae}},Xt.memo=function(X,L){return{$$typeof:p,type:X,compare:L===void 0?null:L}},Xt.startTransition=function(X){var L=re.transition;re.transition={};try{X()}finally{re.transition=L}},Xt.unstable_act=ce,Xt.useCallback=function(X,L){return ye.current.useCallback(X,L)},Xt.useContext=function(X){return ye.current.useContext(X)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(X){return ye.current.useDeferredValue(X)},Xt.useEffect=function(X,L){return ye.current.useEffect(X,L)},Xt.useId=function(){return ye.current.useId()},Xt.useImperativeHandle=function(X,L,W){return ye.current.useImperativeHandle(X,L,W)},Xt.useInsertionEffect=function(X,L){return ye.current.useInsertionEffect(X,L)},Xt.useLayoutEffect=function(X,L){return ye.current.useLayoutEffect(X,L)},Xt.useMemo=function(X,L){return ye.current.useMemo(X,L)},Xt.useReducer=function(X,L,W){return ye.current.useReducer(X,L,W)},Xt.useRef=function(X){return ye.current.useRef(X)},Xt.useState=function(X){return ye.current.useState(X)},Xt.useSyncExternalStore=function(X,L,W){return ye.current.useSyncExternalStore(X,L,W)},Xt.useTransition=function(){return ye.current.useTransition()},Xt.version="18.3.1",Xt}var A0;function Em(){return A0||(A0=1,rg.exports=jw()),rg.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var I0;function Vw(){if(I0)return wh;I0=1;var n=Em(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function l(u,h,p){var v,_={},I=null,b=null;p!==void 0&&(I=""+p),h.key!==void 0&&(I=""+h.key),h.ref!==void 0&&(b=h.ref);for(v in h)r.call(h,v)&&!o.hasOwnProperty(v)&&(_[v]=h[v]);if(u&&u.defaultProps)for(v in h=u.defaultProps,h)_[v]===void 0&&(_[v]=h[v]);return{$$typeof:e,type:u,key:I,ref:b,props:_,_owner:i.current}}return wh.Fragment=t,wh.jsx=l,wh.jsxs=l,wh}var T0;function Bw(){return T0||(T0=1,ng.exports=Vw()),ng.exports}var Be=Bw(),ot=Em();const Ph=bm(ot),Uw=Mw({__proto__:null,default:Ph},[ot]);var Hf={},ig={exports:{}},gs={},sg={exports:{}},og={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var x0;function zw(){return x0||(x0=1,function(n){function e(re,ae){var ce=re.length;re.push(ae);e:for(;0<ce;){var X=ce-1>>>1,L=re[X];if(0<i(L,ae))re[X]=ae,re[ce]=L,ce=X;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var ae=re[0],ce=re.pop();if(ce!==ae){re[0]=ce;e:for(var X=0,L=re.length,W=L>>>1;X<W;){var Y=2*(X+1)-1,te=re[Y],oe=Y+1,ve=re[oe];if(0>i(te,ce))oe<L&&0>i(ve,te)?(re[X]=ve,re[oe]=ce,X=oe):(re[X]=te,re[Y]=ce,X=Y);else if(oe<L&&0>i(ve,ce))re[X]=ve,re[oe]=ce,X=oe;else break e}}return ae}function i(re,ae){var ce=re.sortIndex-ae.sortIndex;return ce!==0?ce:re.id-ae.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var h=[],p=[],v=1,_=null,I=3,b=!1,j=!1,M=!1,B=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,Q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ne(re){for(var ae=t(p);ae!==null;){if(ae.callback===null)r(p);else if(ae.startTime<=re)r(p),ae.sortIndex=ae.expirationTime,e(h,ae);else break;ae=t(p)}}function me(re){if(M=!1,ne(re),!j)if(t(h)!==null)j=!0,Ae(xe);else{var ae=t(p);ae!==null&&ye(me,ae.startTime-re)}}function xe(re,ae){j=!1,M&&(M=!1,V(A),A=-1),b=!0;var ce=I;try{for(ne(ae),_=t(h);_!==null&&(!(_.expirationTime>ae)||re&&!P());){var X=_.callback;if(typeof X=="function"){_.callback=null,I=_.priorityLevel;var L=X(_.expirationTime<=ae);ae=n.unstable_now(),typeof L=="function"?_.callback=L:_===t(h)&&r(h),ne(ae)}else r(h);_=t(h)}if(_!==null)var W=!0;else{var Y=t(p);Y!==null&&ye(me,Y.startTime-ae),W=!1}return W}finally{_=null,I=ce,b=!1}}var Ee=!1,q=null,A=-1,N=5,O=-1;function P(){return!(n.unstable_now()-O<N)}function C(){if(q!==null){var re=n.unstable_now();O=re;var ae=!0;try{ae=q(!0,re)}finally{ae?R():(Ee=!1,q=null)}}else Ee=!1}var R;if(typeof Q=="function")R=function(){Q(C)};else if(typeof MessageChannel<"u"){var ie=new MessageChannel,Ne=ie.port2;ie.port1.onmessage=C,R=function(){Ne.postMessage(null)}}else R=function(){B(C,0)};function Ae(re){q=re,Ee||(Ee=!0,R())}function ye(re,ae){A=B(function(){re(n.unstable_now())},ae)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){j||b||(j=!0,Ae(xe))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):N=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return I},n.unstable_getFirstCallbackNode=function(){return t(h)},n.unstable_next=function(re){switch(I){case 1:case 2:case 3:var ae=3;break;default:ae=I}var ce=I;I=ae;try{return re()}finally{I=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,ae){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var ce=I;I=re;try{return ae()}finally{I=ce}},n.unstable_scheduleCallback=function(re,ae,ce){var X=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?X+ce:X):ce=X,re){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ce+L,re={id:v++,callback:ae,priorityLevel:re,startTime:ce,expirationTime:L,sortIndex:-1},ce>X?(re.sortIndex=ce,e(p,re),t(h)===null&&re===t(p)&&(M?(V(A),A=-1):M=!0,ye(me,ce-X))):(re.sortIndex=L,e(h,re),j||b||(j=!0,Ae(xe))),re},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(re){var ae=I;return function(){var ce=I;I=ae;try{return re.apply(this,arguments)}finally{I=ce}}}}(og)),og}var P0;function qw(){return P0||(P0=1,sg.exports=zw()),sg.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N0;function Hw(){if(N0)return gs;N0=1;var n=Em(),e=qw();function t(s){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+s,c=1;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c]);return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function o(s,a){l(s,a),l(s+"Capture",a)}function l(s,a){for(i[s]=a,s=0;s<a.length;s++)r.add(a[s])}var u=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),h=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,v={},_={};function I(s){return h.call(_,s)?!0:h.call(v,s)?!1:p.test(s)?_[s]=!0:(v[s]=!0,!1)}function b(s,a,c,g){if(c!==null&&c.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return g?!1:c!==null?!c.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function j(s,a,c,g){if(a===null||typeof a>"u"||b(s,a,c,g))return!0;if(g)return!1;if(c!==null)switch(c.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function M(s,a,c,g,w,T,z){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=g,this.attributeNamespace=w,this.mustUseProperty=c,this.propertyName=s,this.type=a,this.sanitizeURL=T,this.removeEmptyString=z}var B={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){B[s]=new M(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var a=s[0];B[a]=new M(a,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){B[s]=new M(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){B[s]=new M(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){B[s]=new M(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){B[s]=new M(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){B[s]=new M(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){B[s]=new M(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){B[s]=new M(s,5,!1,s.toLowerCase(),null,!1,!1)});var V=/[\-:]([a-z])/g;function Q(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var a=s.replace(V,Q);B[a]=new M(a,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var a=s.replace(V,Q);B[a]=new M(a,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var a=s.replace(V,Q);B[a]=new M(a,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){B[s]=new M(s,1,!1,s.toLowerCase(),null,!1,!1)}),B.xlinkHref=new M("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){B[s]=new M(s,1,!1,s.toLowerCase(),null,!0,!0)});function ne(s,a,c,g){var w=B.hasOwnProperty(a)?B[a]:null;(w!==null?w.type!==0:g||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(j(a,c,w,g)&&(c=null),g||w===null?I(a)&&(c===null?s.removeAttribute(a):s.setAttribute(a,""+c)):w.mustUseProperty?s[w.propertyName]=c===null?w.type===3?!1:"":c:(a=w.attributeName,g=w.attributeNamespace,c===null?s.removeAttribute(a):(w=w.type,c=w===3||w===4&&c===!0?"":""+c,g?s.setAttributeNS(g,a,c):s.setAttribute(a,c))))}var me=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xe=Symbol.for("react.element"),Ee=Symbol.for("react.portal"),q=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),P=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),ie=Symbol.for("react.suspense_list"),Ne=Symbol.for("react.memo"),Ae=Symbol.for("react.lazy"),ye=Symbol.for("react.offscreen"),re=Symbol.iterator;function ae(s){return s===null||typeof s!="object"?null:(s=re&&s[re]||s["@@iterator"],typeof s=="function"?s:null)}var ce=Object.assign,X;function L(s){if(X===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);X=a&&a[1]||""}return`
`+X+s}var W=!1;function Y(s,a){if(!s||W)return"";W=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(Oe){var g=Oe}Reflect.construct(s,[],a)}else{try{a.call()}catch(Oe){g=Oe}s.call(a.prototype)}else{try{throw Error()}catch(Oe){g=Oe}s()}}catch(Oe){if(Oe&&g&&typeof Oe.stack=="string"){for(var w=Oe.stack.split(`
`),T=g.stack.split(`
`),z=w.length-1,se=T.length-1;1<=z&&0<=se&&w[z]!==T[se];)se--;for(;1<=z&&0<=se;z--,se--)if(w[z]!==T[se]){if(z!==1||se!==1)do if(z--,se--,0>se||w[z]!==T[se]){var fe=`
`+w[z].replace(" at new "," at ");return s.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",s.displayName)),fe}while(1<=z&&0<=se);break}}}finally{W=!1,Error.prepareStackTrace=c}return(s=s?s.displayName||s.name:"")?L(s):""}function te(s){switch(s.tag){case 5:return L(s.type);case 16:return L("Lazy");case 13:return L("Suspense");case 19:return L("SuspenseList");case 0:case 2:case 15:return s=Y(s.type,!1),s;case 11:return s=Y(s.type.render,!1),s;case 1:return s=Y(s.type,!0),s;default:return""}}function oe(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case q:return"Fragment";case Ee:return"Portal";case N:return"Profiler";case A:return"StrictMode";case R:return"Suspense";case ie:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case P:return(s.displayName||"Context")+".Consumer";case O:return(s._context.displayName||"Context")+".Provider";case C:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Ne:return a=s.displayName||null,a!==null?a:oe(s.type)||"Memo";case Ae:a=s._payload,s=s._init;try{return oe(s(a))}catch{}}return null}function ve(s){var a=s.type;switch(s.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=a.render,s=s.displayName||s.name||"",a.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return oe(a);case 8:return a===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ue(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function ge(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ve(s){var a=ge(s)?"checked":"value",c=Object.getOwnPropertyDescriptor(s.constructor.prototype,a),g=""+s[a];if(!s.hasOwnProperty(a)&&typeof c<"u"&&typeof c.get=="function"&&typeof c.set=="function"){var w=c.get,T=c.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return w.call(this)},set:function(z){g=""+z,T.call(this,z)}}),Object.defineProperty(s,a,{enumerable:c.enumerable}),{getValue:function(){return g},setValue:function(z){g=""+z},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function Re(s){s._valueTracker||(s._valueTracker=Ve(s))}function Ke(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),g="";return s&&(g=ge(s)?s.checked?"true":"false":s.value),s=g,s!==c?(a.setValue(s),!0):!1}function Ge(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function st(s,a){var c=a.checked;return ce({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:c??s._wrapperState.initialChecked})}function Ce(s,a){var c=a.defaultValue==null?"":a.defaultValue,g=a.checked!=null?a.checked:a.defaultChecked;c=ue(a.value!=null?a.value:c),s._wrapperState={initialChecked:g,initialValue:c,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Z(s,a){a=a.checked,a!=null&&ne(s,"checked",a,!1)}function bt(s,a){Z(s,a);var c=ue(a.value),g=a.type;if(c!=null)g==="number"?(c===0&&s.value===""||s.value!=c)&&(s.value=""+c):s.value!==""+c&&(s.value=""+c);else if(g==="submit"||g==="reset"){s.removeAttribute("value");return}a.hasOwnProperty("value")?ze(s,a.type,c):a.hasOwnProperty("defaultValue")&&ze(s,a.type,ue(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(s.defaultChecked=!!a.defaultChecked)}function We(s,a,c){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var g=a.type;if(!(g!=="submit"&&g!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+s._wrapperState.initialValue,c||a===s.value||(s.value=a),s.defaultValue=a}c=s.name,c!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,c!==""&&(s.name=c)}function ze(s,a,c){(a!=="number"||Ge(s.ownerDocument)!==s)&&(c==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+c&&(s.defaultValue=""+c))}var Xe=Array.isArray;function nt(s,a,c,g){if(s=s.options,a){a={};for(var w=0;w<c.length;w++)a["$"+c[w]]=!0;for(c=0;c<s.length;c++)w=a.hasOwnProperty("$"+s[c].value),s[c].selected!==w&&(s[c].selected=w),w&&g&&(s[c].defaultSelected=!0)}else{for(c=""+ue(c),a=null,w=0;w<s.length;w++){if(s[w].value===c){s[w].selected=!0,g&&(s[w].defaultSelected=!0);return}a!==null||s[w].disabled||(a=s[w])}a!==null&&(a.selected=!0)}}function tt(s,a){if(a.dangerouslySetInnerHTML!=null)throw Error(t(91));return ce({},a,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function pt(s,a){var c=a.value;if(c==null){if(c=a.children,a=a.defaultValue,c!=null){if(a!=null)throw Error(t(92));if(Xe(c)){if(1<c.length)throw Error(t(93));c=c[0]}a=c}a==null&&(a=""),c=a}s._wrapperState={initialValue:ue(c)}}function gt(s,a){var c=ue(a.value),g=ue(a.defaultValue);c!=null&&(c=""+c,c!==s.value&&(s.value=c),a.defaultValue==null&&s.defaultValue!==c&&(s.defaultValue=c)),g!=null&&(s.defaultValue=""+g)}function At(s){var a=s.textContent;a===s._wrapperState.initialValue&&a!==""&&a!==null&&(s.value=a)}function ct(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mt(s,a){return s==null||s==="http://www.w3.org/1999/xhtml"?ct(a):s==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var jt,It=function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,c,g,w){MSApp.execUnsafeLocalFunction(function(){return s(a,c,g,w)})}:s}(function(s,a){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=a;else{for(jt=jt||document.createElement("div"),jt.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=jt.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;a.firstChild;)s.appendChild(a.firstChild)}});function Ot(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var it={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rn=["Webkit","ms","Moz","O"];Object.keys(it).forEach(function(s){rn.forEach(function(a){a=a+s.charAt(0).toUpperCase()+s.substring(1),it[a]=it[s]})});function Ht(s,a,c){return a==null||typeof a=="boolean"||a===""?"":c||typeof a!="number"||a===0||it.hasOwnProperty(s)&&it[s]?(""+a).trim():a+"px"}function _r(s,a){s=s.style;for(var c in a)if(a.hasOwnProperty(c)){var g=c.indexOf("--")===0,w=Ht(c,a[c],g);c==="float"&&(c="cssFloat"),g?s.setProperty(c,w):s[c]=w}}var un=ce({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function bn(s,a){if(a){if(un[s]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(t(137,s));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(t(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(t(61))}if(a.style!=null&&typeof a.style!="object")throw Error(t(62))}}function di(s,a){if(s.indexOf("-")===-1)return typeof a.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yt=null;function Ji(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var xn=null,Hn=null,wr=null;function Pn(s){if(s=Pl(s)){if(typeof xn!="function")throw Error(t(280));var a=s.stateNode;a&&(a=xu(a),xn(s.stateNode,s.type,a))}}function xt(s){Hn?wr?wr.push(s):wr=[s]:Hn=s}function Zt(){if(Hn){var s=Hn,a=wr;if(wr=Hn=null,Pn(s),a)for(s=0;s<a.length;s++)Pn(a[s])}}function Fi(s,a){return s(a)}function Jn(){}var Sr=!1;function pi(s,a,c){if(Sr)return s(a,c);Sr=!0;try{return Fi(s,a,c)}finally{Sr=!1,(Hn!==null||wr!==null)&&(Jn(),Zt())}}function ft(s,a){var c=s.stateNode;if(c===null)return null;var g=xu(c);if(g===null)return null;c=g[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(s=s.type,g=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!g;break e;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(t(231,a,typeof c));return c}var Mr=!1;if(u)try{var nr={};Object.defineProperty(nr,"passive",{get:function(){Mr=!0}}),window.addEventListener("test",nr,nr),window.removeEventListener("test",nr,nr)}catch{Mr=!1}function rr(s,a,c,g,w,T,z,se,fe){var Oe=Array.prototype.slice.call(arguments,3);try{a.apply(c,Oe)}catch(Je){this.onError(Je)}}var Ln=!1,Rn=null,jn=!1,js=null,ys={onError:function(s){Ln=!0,Rn=s}};function jr(s,a,c,g,w,T,z,se,fe){Ln=!1,Rn=null,rr.apply(ys,arguments)}function gi(s,a,c,g,w,T,z,se,fe){if(jr.apply(this,arguments),Ln){if(Ln){var Oe=Rn;Ln=!1,Rn=null}else throw Error(t(198));jn||(jn=!0,js=Oe)}}function Xn(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function Vr(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function Wn(s){if(Xn(s)!==s)throw Error(t(188))}function Mi(s){var a=s.alternate;if(!a){if(a=Xn(s),a===null)throw Error(t(188));return a!==s?null:s}for(var c=s,g=a;;){var w=c.return;if(w===null)break;var T=w.alternate;if(T===null){if(g=w.return,g!==null){c=g;continue}break}if(w.child===T.child){for(T=w.child;T;){if(T===c)return Wn(w),s;if(T===g)return Wn(w),a;T=T.sibling}throw Error(t(188))}if(c.return!==g.return)c=w,g=T;else{for(var z=!1,se=w.child;se;){if(se===c){z=!0,c=w,g=T;break}if(se===g){z=!0,g=w,c=T;break}se=se.sibling}if(!z){for(se=T.child;se;){if(se===c){z=!0,c=T,g=w;break}if(se===g){z=!0,g=T,c=w;break}se=se.sibling}if(!z)throw Error(t(189))}}if(c.alternate!==g)throw Error(t(190))}if(c.tag!==3)throw Error(t(188));return c.stateNode.current===c?s:a}function _s(s){return s=Mi(s),s!==null?ws(s):null}function ws(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var a=ws(s);if(a!==null)return a;s=s.sibling}return null}var Ss=e.unstable_scheduleCallback,Vs=e.unstable_cancelCallback,co=e.unstable_shouldYield,al=e.unstable_requestPaint,En=e.unstable_now,ll=e.unstable_getCurrentPriorityLevel,Xi=e.unstable_ImmediatePriority,bs=e.unstable_UserBlockingPriority,mi=e.unstable_NormalPriority,ho=e.unstable_LowPriority,ul=e.unstable_IdlePriority,Bs=null,Xr=null;function fo(s){if(Xr&&typeof Xr.onCommitFiberRoot=="function")try{Xr.onCommitFiberRoot(Bs,s,void 0,(s.current.flags&128)===128)}catch{}}var Ar=Math.clz32?Math.clz32:Aa,On=Math.log,Ea=Math.LN2;function Aa(s){return s>>>=0,s===0?32:31-(On(s)/Ea|0)|0}var po=64,Us=4194304;function zs(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function Ir(s,a){var c=s.pendingLanes;if(c===0)return 0;var g=0,w=s.suspendedLanes,T=s.pingedLanes,z=c&268435455;if(z!==0){var se=z&~w;se!==0?g=zs(se):(T&=z,T!==0&&(g=zs(T)))}else z=c&~w,z!==0?g=zs(z):T!==0&&(g=zs(T));if(g===0)return 0;if(a!==0&&a!==g&&(a&w)===0&&(w=g&-g,T=a&-a,w>=T||w===16&&(T&4194240)!==0))return a;if((g&4)!==0&&(g|=c&16),a=s.entangledLanes,a!==0)for(s=s.entanglements,a&=g;0<a;)c=31-Ar(a),w=1<<c,g|=s[c],a&=~w;return g}function Go(s,a){switch(s){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $n(s,a){for(var c=s.suspendedLanes,g=s.pingedLanes,w=s.expirationTimes,T=s.pendingLanes;0<T;){var z=31-Ar(T),se=1<<z,fe=w[z];fe===-1?((se&c)===0||(se&g)!==0)&&(w[z]=Go(se,a)):fe<=a&&(s.expiredLanes|=se),T&=~se}}function Tr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function qs(){var s=po;return po<<=1,(po&4194240)===0&&(po=64),s}function Hs(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Es(s,a,c){s.pendingLanes|=a,a!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,a=31-Ar(a),s[a]=c}function vn(s,a){var c=s.pendingLanes&~a;s.pendingLanes=a,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=a,s.mutableReadLanes&=a,s.entangledLanes&=a,a=s.entanglements;var g=s.eventTimes;for(s=s.expirationTimes;0<c;){var w=31-Ar(c),T=1<<w;a[w]=0,g[w]=-1,s[w]=-1,c&=~T}}function As(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var g=31-Ar(c),w=1<<g;w&a|s[g]&a&&(s[g]|=a),c&=~w}}var Kt=0;function Zi(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var cl,Ko,hl,es,go,Ws=!1,ji=[],sn=null,Vi=null,vi=null,Pt=new Map,yi=new Map,ts=[],ns="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ia(s,a){switch(s){case"focusin":case"focusout":sn=null;break;case"dragenter":case"dragleave":Vi=null;break;case"mouseover":case"mouseout":vi=null;break;case"pointerover":case"pointerout":Pt.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":yi.delete(a.pointerId)}}function xr(s,a,c,g,w,T){return s===null||s.nativeEvent!==T?(s={blockedOn:a,domEventName:c,eventSystemFlags:g,nativeEvent:T,targetContainers:[w]},a!==null&&(a=Pl(a),a!==null&&Ko(a)),s):(s.eventSystemFlags|=g,a=s.targetContainers,w!==null&&a.indexOf(w)===-1&&a.push(w),s)}function Qo(s,a,c,g,w){switch(a){case"focusin":return sn=xr(sn,s,a,c,g,w),!0;case"dragenter":return Vi=xr(Vi,s,a,c,g,w),!0;case"mouseover":return vi=xr(vi,s,a,c,g,w),!0;case"pointerover":var T=w.pointerId;return Pt.set(T,xr(Pt.get(T)||null,s,a,c,g,w)),!0;case"gotpointercapture":return T=w.pointerId,yi.set(T,xr(yi.get(T)||null,s,a,c,g,w)),!0}return!1}function Yo(s){var a=sa(s.target);if(a!==null){var c=Xn(a);if(c!==null){if(a=c.tag,a===13){if(a=Vr(c),a!==null){s.blockedOn=a,go(s.priority,function(){hl(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Is(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=vo(s.domEventName,s.eventSystemFlags,a[0],s.nativeEvent);if(c===null){c=s.nativeEvent;var g=new c.constructor(c.type,c);Yt=g,c.target.dispatchEvent(g),Yt=null}else return a=Pl(c),a!==null&&Ko(a),s.blockedOn=c,!1;a.shift()}return!0}function mo(s,a,c){Is(s)&&c.delete(a)}function fl(){Ws=!1,sn!==null&&Is(sn)&&(sn=null),Vi!==null&&Is(Vi)&&(Vi=null),vi!==null&&Is(vi)&&(vi=null),Pt.forEach(mo),yi.forEach(mo)}function Zr(s,a){s.blockedOn===a&&(s.blockedOn=null,Ws||(Ws=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,fl)))}function Pr(s){function a(w){return Zr(w,s)}if(0<ji.length){Zr(ji[0],s);for(var c=1;c<ji.length;c++){var g=ji[c];g.blockedOn===s&&(g.blockedOn=null)}}for(sn!==null&&Zr(sn,s),Vi!==null&&Zr(Vi,s),vi!==null&&Zr(vi,s),Pt.forEach(a),yi.forEach(a),c=0;c<ts.length;c++)g=ts[c],g.blockedOn===s&&(g.blockedOn=null);for(;0<ts.length&&(c=ts[0],c.blockedOn===null);)Yo(c),c.blockedOn===null&&ts.shift()}var Br=me.ReactCurrentBatchConfig,$s=!0;function fn(s,a,c,g){var w=Kt,T=Br.transition;Br.transition=null;try{Kt=1,Gs(s,a,c,g)}finally{Kt=w,Br.transition=T}}function Ta(s,a,c,g){var w=Kt,T=Br.transition;Br.transition=null;try{Kt=4,Gs(s,a,c,g)}finally{Kt=w,Br.transition=T}}function Gs(s,a,c,g){if($s){var w=vo(s,a,c,g);if(w===null)Au(s,a,g,Ks,c),Ia(s,g);else if(Qo(w,s,a,c,g))g.stopPropagation();else if(Ia(s,g),a&4&&-1<ns.indexOf(s)){for(;w!==null;){var T=Pl(w);if(T!==null&&cl(T),T=vo(s,a,c,g),T===null&&Au(s,a,g,Ks,c),T===w)break;w=T}w!==null&&g.stopPropagation()}else Au(s,a,g,null,c)}}var Ks=null;function vo(s,a,c,g){if(Ks=null,s=Ji(g),s=sa(s),s!==null)if(a=Xn(s),a===null)s=null;else if(c=a.tag,c===13){if(s=Vr(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null);return Ks=s,null}function Jo(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ll()){case Xi:return 1;case bs:return 4;case mi:case ho:return 16;case ul:return 536870912;default:return 16}default:return 16}}var Ur=null,ei=null,Gn=null;function xa(){if(Gn)return Gn;var s,a=ei,c=a.length,g,w="value"in Ur?Ur.value:Ur.textContent,T=w.length;for(s=0;s<c&&a[s]===w[s];s++);var z=c-s;for(g=1;g<=z&&a[c-g]===w[T-g];g++);return Gn=w.slice(s,1<g?1-g:void 0)}function Bi(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function ir(){return!0}function yo(){return!1}function Vn(s){function a(c,g,w,T,z){this._reactName=c,this._targetInst=w,this.type=g,this.nativeEvent=T,this.target=z,this.currentTarget=null;for(var se in s)s.hasOwnProperty(se)&&(c=s[se],this[se]=c?c(T):T[se]);return this.isDefaultPrevented=(T.defaultPrevented!=null?T.defaultPrevented:T.returnValue===!1)?ir:yo,this.isPropagationStopped=yo,this}return ce(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=ir)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=ir)},persist:function(){},isPersistent:ir}),a}var Ui={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ts=Vn(Ui),rs=ce({},Ui,{view:0,detail:0}),Pa=Vn(rs),Qs,is,zi,xs=ce({},rs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:at,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==zi&&(zi&&s.type==="mousemove"?(Qs=s.screenX-zi.screenX,is=s.screenY-zi.screenY):is=Qs=0,zi=s),Qs)},movementY:function(s){return"movementY"in s?s.movementY:is}}),Ys=Vn(xs),Xo=ce({},xs,{dataTransfer:0}),dl=Vn(Xo),Ps=ce({},rs,{relatedTarget:0}),ss=Vn(Ps),Zo=ce({},Ui,{animationName:0,elapsedTime:0,pseudoElement:0}),zr=Vn(Zo),ea=ce({},Ui,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),y=Vn(ea),F=ce({},Ui,{data:0}),ee=Vn(F),le={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},be={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Fe={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $e(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Fe[s])?!!a[s]:!1}function at(){return $e}var d=ce({},rs,{key:function(s){if(s.key){var a=le[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Bi(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?be[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:at,charCode:function(s){return s.type==="keypress"?Bi(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Bi(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),E=Vn(d),k=ce({},xs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),G=Vn(k),we=ce({},rs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:at}),ke=Vn(we),Qe=ce({},Ui,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ut=Vn(Qe),Jt=ce({},xs,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),zt=Vn(Jt),dn=[9,13,27,32],yn=u&&"CompositionEvent"in window,ti=null;u&&"documentMode"in document&&(ti=document.documentMode);var Nr=u&&"TextEvent"in window&&!ti,Ns=u&&(!yn||ti&&8<ti&&11>=ti),Cs=" ",pl=!1;function gl(s,a){switch(s){case"keyup":return dn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Na(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Kn=!1;function ml(s,a){switch(s){case"compositionend":return Na(a);case"keypress":return a.which!==32?null:(pl=!0,Cs);case"textInput":return s=a.data,s===Cs&&pl?null:s;default:return null}}function vl(s,a){if(Kn)return s==="compositionend"||!yn&&gl(s,a)?(s=xa(),Gn=ei=Ur=null,Kn=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Ns&&a.locale!=="ko"?null:a.data;default:return null}}var yl={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _l(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!yl[s.type]:a==="textarea"}function ni(s,a,c,g){xt(g),a=rc(a,"onChange"),0<a.length&&(c=new Ts("onChange","change",null,c,g),s.push({event:c,listeners:a}))}var Ca=null,_o=null;function ec(s){bu(s,0)}function ri(s){var a=Va(s);if(Ke(a))return s}function wl(s,a){if(s==="change")return a}var yu=!1;if(u){var Sl;if(u){var Js="oninput"in document;if(!Js){var ta=document.createElement("div");ta.setAttribute("oninput","return;"),Js=typeof ta.oninput=="function"}Sl=Js}else Sl=!1;yu=Sl&&(!document.documentMode||9<document.documentMode)}function ii(){Ca&&(Ca.detachEvent("onpropertychange",qr),_o=Ca=null)}function qr(s){if(s.propertyName==="value"&&ri(_o)){var a=[];ni(a,_o,s,Ji(s)),pi(ec,a)}}function na(s,a,c){s==="focusin"?(ii(),Ca=a,_o=c,Ca.attachEvent("onpropertychange",qr)):s==="focusout"&&ii()}function wo(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return ri(_o)}function So(s,a){if(s==="click")return ri(a)}function bl(s,a){if(s==="input"||s==="change")return ri(a)}function bo(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var cn=typeof Object.is=="function"?Object.is:bo;function Eo(s,a){if(cn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),g=Object.keys(a);if(c.length!==g.length)return!1;for(g=0;g<c.length;g++){var w=c[g];if(!h.call(a,w)||!cn(s[w],a[w]))return!1}return!0}function Hr(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function qi(s,a){var c=Hr(s);s=0;for(var g;c;){if(c.nodeType===3){if(g=s+c.textContent.length,s<=a&&g>=a)return{node:c,offset:a-s};s=g}e:{for(;c;){if(c.nextSibling){c=c.nextSibling;break e}c=c.parentNode}c=void 0}c=Hr(c)}}function ka(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?ka(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function _u(){for(var s=window,a=Ge();a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=Ge(s.document)}return a}function La(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}function Ra(s){var a=_u(),c=s.focusedElem,g=s.selectionRange;if(a!==c&&c&&c.ownerDocument&&ka(c.ownerDocument.documentElement,c)){if(g!==null&&La(c)){if(a=g.start,s=g.end,s===void 0&&(s=a),"selectionStart"in c)c.selectionStart=a,c.selectionEnd=Math.min(s,c.value.length);else if(s=(a=c.ownerDocument||document)&&a.defaultView||window,s.getSelection){s=s.getSelection();var w=c.textContent.length,T=Math.min(g.start,w);g=g.end===void 0?T:Math.min(g.end,w),!s.extend&&T>g&&(w=g,g=T,T=w),w=qi(c,T);var z=qi(c,g);w&&z&&(s.rangeCount!==1||s.anchorNode!==w.node||s.anchorOffset!==w.offset||s.focusNode!==z.node||s.focusOffset!==z.offset)&&(a=a.createRange(),a.setStart(w.node,w.offset),s.removeAllRanges(),T>g?(s.addRange(a),s.extend(z.node,z.offset)):(a.setEnd(z.node,z.offset),s.addRange(a)))}}for(a=[],s=c;s=s.parentNode;)s.nodeType===1&&a.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof c.focus=="function"&&c.focus(),c=0;c<a.length;c++)s=a[c],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var Oa=u&&"documentMode"in document&&11>=document.documentMode,Hi=null,Ao=null,Xs=null,Io=!1;function To(s,a,c){var g=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Io||Hi==null||Hi!==Ge(g)||(g=Hi,"selectionStart"in g&&La(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Xs&&Eo(Xs,g)||(Xs=g,g=rc(Ao,"onSelect"),0<g.length&&(a=new Ts("onSelect","select",null,a,c),s.push({event:a,listeners:g}),a.target=Hi)))}function ra(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Cr={animationend:ra("Animation","AnimationEnd"),animationiteration:ra("Animation","AnimationIteration"),animationstart:ra("Animation","AnimationStart"),transitionend:ra("Transition","TransitionEnd")},_i={},Nn={};u&&(Nn=document.createElement("div").style,"AnimationEvent"in window||(delete Cr.animationend.animation,delete Cr.animationiteration.animation,delete Cr.animationstart.animation),"TransitionEvent"in window||delete Cr.transitionend.transition);function _n(s){if(_i[s])return _i[s];if(!Cr[s])return s;var a=Cr[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in Nn)return _i[s]=a[c];return s}var Qn=_n("animationend"),sr=_n("animationiteration"),Zs=_n("animationstart"),El=_n("transitionend"),Da=new Map,wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function eo(s,a){Da.set(s,a),o(a,[s])}for(var Al=0;Al<wu.length;Al++){var si=wu[Al],os=si.toLowerCase(),tc=si[0].toUpperCase()+si.slice(1);eo(os,"on"+tc)}eo(Qn,"onAnimationEnd"),eo(sr,"onAnimationIteration"),eo(Zs,"onAnimationStart"),eo("dblclick","onDoubleClick"),eo("focusin","onFocus"),eo("focusout","onBlur"),eo(El,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ia="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cf=new Set("cancel close invalid load scroll toggle".split(" ").concat(ia));function Su(s,a,c){var g=s.type||"unknown-event";s.currentTarget=c,gi(g,a,void 0,s),s.currentTarget=null}function bu(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var g=s[c],w=g.event;g=g.listeners;e:{var T=void 0;if(a)for(var z=g.length-1;0<=z;z--){var se=g[z],fe=se.instance,Oe=se.currentTarget;if(se=se.listener,fe!==T&&w.isPropagationStopped())break e;Su(w,se,Oe),T=fe}else for(z=0;z<g.length;z++){if(se=g[z],fe=se.instance,Oe=se.currentTarget,se=se.listener,fe!==T&&w.isPropagationStopped())break e;Su(w,se,Oe),T=fe}}}if(jn)throw s=js,jn=!1,js=null,s}function Cn(s,a){var c=a[Si];c===void 0&&(c=a[Si]=new Set);var g=s+"__bubble";c.has(g)||(Eu(a,s,2,!1),c.add(g))}function nc(s,a,c){var g=0;a&&(g|=4),Eu(c,s,g,a)}var Il="_reactListening"+Math.random().toString(36).slice(2);function Fa(s){if(!s[Il]){s[Il]=!0,r.forEach(function(c){c!=="selectionchange"&&(cf.has(c)||nc(c,!1,s),nc(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Il]||(a[Il]=!0,nc("selectionchange",!1,a))}}function Eu(s,a,c,g){switch(Jo(a)){case 1:var w=fn;break;case 4:w=Ta;break;default:w=Gs}c=w.bind(null,a,c,s),w=void 0,!Mr||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(w=!0),g?w!==void 0?s.addEventListener(a,c,{capture:!0,passive:w}):s.addEventListener(a,c,!0):w!==void 0?s.addEventListener(a,c,{passive:w}):s.addEventListener(a,c,!1)}function Au(s,a,c,g,w){var T=g;if((a&1)===0&&(a&2)===0&&g!==null)e:for(;;){if(g===null)return;var z=g.tag;if(z===3||z===4){var se=g.stateNode.containerInfo;if(se===w||se.nodeType===8&&se.parentNode===w)break;if(z===4)for(z=g.return;z!==null;){var fe=z.tag;if((fe===3||fe===4)&&(fe=z.stateNode.containerInfo,fe===w||fe.nodeType===8&&fe.parentNode===w))return;z=z.return}for(;se!==null;){if(z=sa(se),z===null)return;if(fe=z.tag,fe===5||fe===6){g=T=z;continue e}se=se.parentNode}}g=g.return}pi(function(){var Oe=T,Je=Ji(c),et=[];e:{var Ye=Da.get(s);if(Ye!==void 0){var dt=Ts,_t=s;switch(s){case"keypress":if(Bi(c)===0)break e;case"keydown":case"keyup":dt=E;break;case"focusin":_t="focus",dt=ss;break;case"focusout":_t="blur",dt=ss;break;case"beforeblur":case"afterblur":dt=ss;break;case"click":if(c.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":dt=Ys;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":dt=dl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":dt=ke;break;case Qn:case sr:case Zs:dt=zr;break;case El:dt=Ut;break;case"scroll":dt=Pa;break;case"wheel":dt=zt;break;case"copy":case"cut":case"paste":dt=y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":dt=G}var St=(a&4)!==0,dr=!St&&s==="scroll",Pe=St?Ye!==null?Ye+"Capture":null:Ye;St=[];for(var _e=Oe,Le;_e!==null;){Le=_e;var rt=Le.stateNode;if(Le.tag===5&&rt!==null&&(Le=rt,Pe!==null&&(rt=ft(_e,Pe),rt!=null&&St.push(Iu(_e,rt,Le)))),dr)break;_e=_e.return}0<St.length&&(Ye=new dt(Ye,_t,null,c,Je),et.push({event:Ye,listeners:St}))}}if((a&7)===0){e:{if(Ye=s==="mouseover"||s==="pointerover",dt=s==="mouseout"||s==="pointerout",Ye&&c!==Yt&&(_t=c.relatedTarget||c.fromElement)&&(sa(_t)||_t[Wr]))break e;if((dt||Ye)&&(Ye=Je.window===Je?Je:(Ye=Je.ownerDocument)?Ye.defaultView||Ye.parentWindow:window,dt?(_t=c.relatedTarget||c.toElement,dt=Oe,_t=_t?sa(_t):null,_t!==null&&(dr=Xn(_t),_t!==dr||_t.tag!==5&&_t.tag!==6)&&(_t=null)):(dt=null,_t=Oe),dt!==_t)){if(St=Ys,rt="onMouseLeave",Pe="onMouseEnter",_e="mouse",(s==="pointerout"||s==="pointerover")&&(St=G,rt="onPointerLeave",Pe="onPointerEnter",_e="pointer"),dr=dt==null?Ye:Va(dt),Le=_t==null?Ye:Va(_t),Ye=new St(rt,_e+"leave",dt,c,Je),Ye.target=dr,Ye.relatedTarget=Le,rt=null,sa(Je)===Oe&&(St=new St(Pe,_e+"enter",_t,c,Je),St.target=Le,St.relatedTarget=dr,rt=St),dr=rt,dt&&_t)t:{for(St=dt,Pe=_t,_e=0,Le=St;Le;Le=Ma(Le))_e++;for(Le=0,rt=Pe;rt;rt=Ma(rt))Le++;for(;0<_e-Le;)St=Ma(St),_e--;for(;0<Le-_e;)Pe=Ma(Pe),Le--;for(;_e--;){if(St===Pe||Pe!==null&&St===Pe.alternate)break t;St=Ma(St),Pe=Ma(Pe)}St=null}else St=null;dt!==null&&hf(et,Ye,dt,St,!1),_t!==null&&dr!==null&&hf(et,dr,_t,St,!0)}}e:{if(Ye=Oe?Va(Oe):window,dt=Ye.nodeName&&Ye.nodeName.toLowerCase(),dt==="select"||dt==="input"&&Ye.type==="file")var Et=wl;else if(_l(Ye))if(yu)Et=bl;else{Et=wo;var Ct=na}else(dt=Ye.nodeName)&&dt.toLowerCase()==="input"&&(Ye.type==="checkbox"||Ye.type==="radio")&&(Et=So);if(Et&&(Et=Et(s,Oe))){ni(et,Et,c,Je);break e}Ct&&Ct(s,Ye,Oe),s==="focusout"&&(Ct=Ye._wrapperState)&&Ct.controlled&&Ye.type==="number"&&ze(Ye,"number",Ye.value)}switch(Ct=Oe?Va(Oe):window,s){case"focusin":(_l(Ct)||Ct.contentEditable==="true")&&(Hi=Ct,Ao=Oe,Xs=null);break;case"focusout":Xs=Ao=Hi=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,To(et,c,Je);break;case"selectionchange":if(Oa)break;case"keydown":case"keyup":To(et,c,Je)}var kt;if(yn)e:{switch(s){case"compositionstart":var Bt="onCompositionStart";break e;case"compositionend":Bt="onCompositionEnd";break e;case"compositionupdate":Bt="onCompositionUpdate";break e}Bt=void 0}else Kn?gl(s,c)&&(Bt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Bt="onCompositionStart");Bt&&(Ns&&c.locale!=="ko"&&(Kn||Bt!=="onCompositionStart"?Bt==="onCompositionEnd"&&Kn&&(kt=xa()):(Ur=Je,ei="value"in Ur?Ur.value:Ur.textContent,Kn=!0)),Ct=rc(Oe,Bt),0<Ct.length&&(Bt=new ee(Bt,s,null,c,Je),et.push({event:Bt,listeners:Ct}),kt?Bt.data=kt:(kt=Na(c),kt!==null&&(Bt.data=kt)))),(kt=Nr?ml(s,c):vl(s,c))&&(Oe=rc(Oe,"onBeforeInput"),0<Oe.length&&(Je=new ee("onBeforeInput","beforeinput",null,c,Je),et.push({event:Je,listeners:Oe}),Je.data=kt))}bu(et,a)})}function Iu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function rc(s,a){for(var c=a+"Capture",g=[];s!==null;){var w=s,T=w.stateNode;w.tag===5&&T!==null&&(w=T,T=ft(s,c),T!=null&&g.unshift(Iu(s,T,w)),T=ft(s,a),T!=null&&g.push(Iu(s,T,w))),s=s.return}return g}function Ma(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function hf(s,a,c,g,w){for(var T=a._reactName,z=[];c!==null&&c!==g;){var se=c,fe=se.alternate,Oe=se.stateNode;if(fe!==null&&fe===g)break;se.tag===5&&Oe!==null&&(se=Oe,w?(fe=ft(c,T),fe!=null&&z.unshift(Iu(c,fe,se))):w||(fe=ft(c,T),fe!=null&&z.push(Iu(c,fe,se)))),c=c.return}z.length!==0&&s.push({event:a,listeners:z})}var mp=/\r\n?/g,vp=/\u0000|\uFFFD/g;function ff(s){return(typeof s=="string"?s:""+s).replace(mp,`
`).replace(vp,"")}function ic(s,a,c){if(a=ff(a),ff(s)!==a&&c)throw Error(t(425))}function Tl(){}var Tu=null,ja=null;function rh(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var ih=typeof setTimeout=="function"?setTimeout:void 0,df=typeof clearTimeout=="function"?clearTimeout:void 0,pf=typeof Promise=="function"?Promise:void 0,yp=typeof queueMicrotask=="function"?queueMicrotask:typeof pf<"u"?function(s){return pf.resolve(null).then(s).catch(_p)}:ih;function _p(s){setTimeout(function(){throw s})}function sh(s,a){var c=a,g=0;do{var w=c.nextSibling;if(s.removeChild(c),w&&w.nodeType===8)if(c=w.data,c==="/$"){if(g===0){s.removeChild(w),Pr(a);return}g--}else c!=="$"&&c!=="$?"&&c!=="$!"||g++;c=w}while(c);Pr(a)}function oi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return s}function as(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"){if(a===0)return s;a--}else c==="/$"&&a++}s=s.previousSibling}return null}var wi=Math.random().toString(36).slice(2),to="__reactFiber$"+wi,xl="__reactProps$"+wi,Wr="__reactContainer$"+wi,Si="__reactEvents$"+wi,wp="__reactListeners$"+wi,Sp="__reactHandles$"+wi;function sa(s){var a=s[to];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Wr]||c[to]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=as(s);s!==null;){if(c=s[to])return c;s=as(s)}return a}s=c,c=s.parentNode}return null}function Pl(s){return s=s[to]||s[Wr],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Va(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(t(33))}function xu(s){return s[xl]||null}var oh=[],xo=-1;function ks(s){return{current:s}}function wn(s){0>xo||(s.current=oh[xo],oh[xo]=null,xo--)}function An(s,a){xo++,oh[xo]=s.current,s.current=a}var oa={},kr=ks(oa),bi=ks(!1),Ba=oa;function Nl(s,a){var c=s.type.contextTypes;if(!c)return oa;var g=s.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===a)return g.__reactInternalMemoizedMaskedChildContext;var w={},T;for(T in c)w[T]=a[T];return g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=a,s.__reactInternalMemoizedMaskedChildContext=w),w}function Ei(s){return s=s.childContextTypes,s!=null}function sc(){wn(bi),wn(kr)}function gf(s,a,c){if(kr.current!==oa)throw Error(t(168));An(kr,a),An(bi,c)}function ah(s,a,c){var g=s.stateNode;if(a=a.childContextTypes,typeof g.getChildContext!="function")return c;g=g.getChildContext();for(var w in g)if(!(w in a))throw Error(t(108,ve(s)||"Unknown",w));return ce({},c,g)}function Ua(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||oa,Ba=kr.current,An(kr,s),An(bi,bi.current),!0}function mf(s,a,c){var g=s.stateNode;if(!g)throw Error(t(169));c?(s=ah(s,a,Ba),g.__reactInternalMemoizedMergedChildContext=s,wn(bi),wn(kr),An(kr,s)):wn(bi),An(bi,c)}var Po=null,Pu=!1,f=!1;function m(s){Po===null?Po=[s]:Po.push(s)}function S(s){Pu=!0,m(s)}function x(){if(!f&&Po!==null){f=!0;var s=0,a=Kt;try{var c=Po;for(Kt=1;s<c.length;s++){var g=c[s];do g=g(!0);while(g!==null)}Po=null,Pu=!1}catch(w){throw Po!==null&&(Po=Po.slice(s+1)),Ss(Xi,x),w}finally{Kt=a,f=!1}}return null}var D=[],U=0,H=null,$=0,K=[],J=0,he=null,Ie=1,Te="";function Se(s,a){D[U++]=$,D[U++]=H,H=s,$=a}function qe(s,a,c){K[J++]=Ie,K[J++]=Te,K[J++]=he,he=s;var g=Ie;s=Te;var w=32-Ar(g)-1;g&=~(1<<w),c+=1;var T=32-Ar(a)+w;if(30<T){var z=w-w%5;T=(g&(1<<z)-1).toString(32),g>>=z,w-=z,Ie=1<<32-Ar(a)+w|c<<w|g,Te=T+s}else Ie=1<<T|c<<w|g,Te=s}function De(s){s.return!==null&&(Se(s,1),qe(s,1,0))}function de(s){for(;s===H;)H=D[--U],D[U]=null,$=D[--U],D[U]=null;for(;s===he;)he=K[--J],K[J]=null,Te=K[--J],K[J]=null,Ie=K[--J],K[J]=null}var pe=null,je=null,Me=!1,Ue=null;function ht(s,a){var c=ao(5,null,null,0);c.elementType="DELETED",c.stateNode=a,c.return=s,a=s.deletions,a===null?(s.deletions=[c],s.flags|=16):a.push(c)}function lt(s,a){switch(s.tag){case 5:var c=s.type;return a=a.nodeType!==1||c.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(s.stateNode=a,pe=s,je=oi(a.firstChild),!0):!1;case 6:return a=s.pendingProps===""||a.nodeType!==3?null:a,a!==null?(s.stateNode=a,pe=s,je=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(c=he!==null?{id:Ie,overflow:Te}:null,s.memoizedState={dehydrated:a,treeContext:c,retryLane:1073741824},c=ao(18,null,null,0),c.stateNode=a,c.return=s,s.child=c,pe=s,je=null,!0):!1;default:return!1}}function Tt(s){return(s.mode&1)!==0&&(s.flags&128)===0}function ut(s){if(Me){var a=je;if(a){var c=a;if(!lt(s,a)){if(Tt(s))throw Error(t(418));a=oi(c.nextSibling);var g=pe;a&&lt(s,a)?ht(g,c):(s.flags=s.flags&-4097|2,Me=!1,pe=s)}}else{if(Tt(s))throw Error(t(418));s.flags=s.flags&-4097|2,Me=!1,pe=s}}}function on(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;pe=s}function an(s){if(s!==pe)return!1;if(!Me)return on(s),Me=!0,!1;var a;if((a=s.tag!==3)&&!(a=s.tag!==5)&&(a=s.type,a=a!=="head"&&a!=="body"&&!rh(s.type,s.memoizedProps)),a&&(a=je)){if(Tt(s))throw en(),Error(t(418));for(;a;)ht(s,a),a=oi(a.nextSibling)}if(on(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(t(317));e:{for(s=s.nextSibling,a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"){if(a===0){je=oi(s.nextSibling);break e}a--}else c!=="$"&&c!=="$!"&&c!=="$?"||a++}s=s.nextSibling}je=null}}else je=pe?oi(s.stateNode.nextSibling):null;return!0}function en(){for(var s=je;s;)s=oi(s.nextSibling)}function Gt(){je=pe=null,Me=!1}function Sn(s){Ue===null?Ue=[s]:Ue.push(s)}var In=me.ReactCurrentBatchConfig;function Vt(s,a,c){if(s=c.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(c._owner){if(c=c._owner,c){if(c.tag!==1)throw Error(t(309));var g=c.stateNode}if(!g)throw Error(t(147,s));var w=g,T=""+s;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===T?a.ref:(a=function(z){var se=w.refs;z===null?delete se[T]:se[T]=z},a._stringRef=T,a)}if(typeof s!="string")throw Error(t(284));if(!c._owner)throw Error(t(290,s))}return s}function Bn(s,a){throw s=Object.prototype.toString.call(a),Error(t(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s))}function ai(s){var a=s._init;return a(s._payload)}function Zn(s){function a(Pe,_e){if(s){var Le=Pe.deletions;Le===null?(Pe.deletions=[_e],Pe.flags|=16):Le.push(_e)}}function c(Pe,_e){if(!s)return null;for(;_e!==null;)a(Pe,_e),_e=_e.sibling;return null}function g(Pe,_e){for(Pe=new Map;_e!==null;)_e.key!==null?Pe.set(_e.key,_e):Pe.set(_e.index,_e),_e=_e.sibling;return Pe}function w(Pe,_e){return Pe=Ul(Pe,_e),Pe.index=0,Pe.sibling=null,Pe}function T(Pe,_e,Le){return Pe.index=Le,s?(Le=Pe.alternate,Le!==null?(Le=Le.index,Le<_e?(Pe.flags|=2,_e):Le):(Pe.flags|=2,_e)):(Pe.flags|=1048576,_e)}function z(Pe){return s&&Pe.alternate===null&&(Pe.flags|=2),Pe}function se(Pe,_e,Le,rt){return _e===null||_e.tag!==6?(_e=Yp(Le,Pe.mode,rt),_e.return=Pe,_e):(_e=w(_e,Le),_e.return=Pe,_e)}function fe(Pe,_e,Le,rt){var Et=Le.type;return Et===q?Je(Pe,_e,Le.props.children,rt,Le.key):_e!==null&&(_e.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ae&&ai(Et)===_e.type)?(rt=w(_e,Le.props),rt.ref=Vt(Pe,_e,Le),rt.return=Pe,rt):(rt=Ff(Le.type,Le.key,Le.props,null,Pe.mode,rt),rt.ref=Vt(Pe,_e,Le),rt.return=Pe,rt)}function Oe(Pe,_e,Le,rt){return _e===null||_e.tag!==4||_e.stateNode.containerInfo!==Le.containerInfo||_e.stateNode.implementation!==Le.implementation?(_e=Jp(Le,Pe.mode,rt),_e.return=Pe,_e):(_e=w(_e,Le.children||[]),_e.return=Pe,_e)}function Je(Pe,_e,Le,rt,Et){return _e===null||_e.tag!==7?(_e=Fu(Le,Pe.mode,rt,Et),_e.return=Pe,_e):(_e=w(_e,Le),_e.return=Pe,_e)}function et(Pe,_e,Le){if(typeof _e=="string"&&_e!==""||typeof _e=="number")return _e=Yp(""+_e,Pe.mode,Le),_e.return=Pe,_e;if(typeof _e=="object"&&_e!==null){switch(_e.$$typeof){case xe:return Le=Ff(_e.type,_e.key,_e.props,null,Pe.mode,Le),Le.ref=Vt(Pe,null,_e),Le.return=Pe,Le;case Ee:return _e=Jp(_e,Pe.mode,Le),_e.return=Pe,_e;case Ae:var rt=_e._init;return et(Pe,rt(_e._payload),Le)}if(Xe(_e)||ae(_e))return _e=Fu(_e,Pe.mode,Le,null),_e.return=Pe,_e;Bn(Pe,_e)}return null}function Ye(Pe,_e,Le,rt){var Et=_e!==null?_e.key:null;if(typeof Le=="string"&&Le!==""||typeof Le=="number")return Et!==null?null:se(Pe,_e,""+Le,rt);if(typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case xe:return Le.key===Et?fe(Pe,_e,Le,rt):null;case Ee:return Le.key===Et?Oe(Pe,_e,Le,rt):null;case Ae:return Et=Le._init,Ye(Pe,_e,Et(Le._payload),rt)}if(Xe(Le)||ae(Le))return Et!==null?null:Je(Pe,_e,Le,rt,null);Bn(Pe,Le)}return null}function dt(Pe,_e,Le,rt,Et){if(typeof rt=="string"&&rt!==""||typeof rt=="number")return Pe=Pe.get(Le)||null,se(_e,Pe,""+rt,Et);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case xe:return Pe=Pe.get(rt.key===null?Le:rt.key)||null,fe(_e,Pe,rt,Et);case Ee:return Pe=Pe.get(rt.key===null?Le:rt.key)||null,Oe(_e,Pe,rt,Et);case Ae:var Ct=rt._init;return dt(Pe,_e,Le,Ct(rt._payload),Et)}if(Xe(rt)||ae(rt))return Pe=Pe.get(Le)||null,Je(_e,Pe,rt,Et,null);Bn(_e,rt)}return null}function _t(Pe,_e,Le,rt){for(var Et=null,Ct=null,kt=_e,Bt=_e=0,Qr=null;kt!==null&&Bt<Le.length;Bt++){kt.index>Bt?(Qr=kt,kt=null):Qr=kt.sibling;var mn=Ye(Pe,kt,Le[Bt],rt);if(mn===null){kt===null&&(kt=Qr);break}s&&kt&&mn.alternate===null&&a(Pe,kt),_e=T(mn,_e,Bt),Ct===null?Et=mn:Ct.sibling=mn,Ct=mn,kt=Qr}if(Bt===Le.length)return c(Pe,kt),Me&&Se(Pe,Bt),Et;if(kt===null){for(;Bt<Le.length;Bt++)kt=et(Pe,Le[Bt],rt),kt!==null&&(_e=T(kt,_e,Bt),Ct===null?Et=kt:Ct.sibling=kt,Ct=kt);return Me&&Se(Pe,Bt),Et}for(kt=g(Pe,kt);Bt<Le.length;Bt++)Qr=dt(kt,Pe,Bt,Le[Bt],rt),Qr!==null&&(s&&Qr.alternate!==null&&kt.delete(Qr.key===null?Bt:Qr.key),_e=T(Qr,_e,Bt),Ct===null?Et=Qr:Ct.sibling=Qr,Ct=Qr);return s&&kt.forEach(function(zl){return a(Pe,zl)}),Me&&Se(Pe,Bt),Et}function St(Pe,_e,Le,rt){var Et=ae(Le);if(typeof Et!="function")throw Error(t(150));if(Le=Et.call(Le),Le==null)throw Error(t(151));for(var Ct=Et=null,kt=_e,Bt=_e=0,Qr=null,mn=Le.next();kt!==null&&!mn.done;Bt++,mn=Le.next()){kt.index>Bt?(Qr=kt,kt=null):Qr=kt.sibling;var zl=Ye(Pe,kt,mn.value,rt);if(zl===null){kt===null&&(kt=Qr);break}s&&kt&&zl.alternate===null&&a(Pe,kt),_e=T(zl,_e,Bt),Ct===null?Et=zl:Ct.sibling=zl,Ct=zl,kt=Qr}if(mn.done)return c(Pe,kt),Me&&Se(Pe,Bt),Et;if(kt===null){for(;!mn.done;Bt++,mn=Le.next())mn=et(Pe,mn.value,rt),mn!==null&&(_e=T(mn,_e,Bt),Ct===null?Et=mn:Ct.sibling=mn,Ct=mn);return Me&&Se(Pe,Bt),Et}for(kt=g(Pe,kt);!mn.done;Bt++,mn=Le.next())mn=dt(kt,Pe,Bt,mn.value,rt),mn!==null&&(s&&mn.alternate!==null&&kt.delete(mn.key===null?Bt:mn.key),_e=T(mn,_e,Bt),Ct===null?Et=mn:Ct.sibling=mn,Ct=mn);return s&&kt.forEach(function(Fw){return a(Pe,Fw)}),Me&&Se(Pe,Bt),Et}function dr(Pe,_e,Le,rt){if(typeof Le=="object"&&Le!==null&&Le.type===q&&Le.key===null&&(Le=Le.props.children),typeof Le=="object"&&Le!==null){switch(Le.$$typeof){case xe:e:{for(var Et=Le.key,Ct=_e;Ct!==null;){if(Ct.key===Et){if(Et=Le.type,Et===q){if(Ct.tag===7){c(Pe,Ct.sibling),_e=w(Ct,Le.props.children),_e.return=Pe,Pe=_e;break e}}else if(Ct.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===Ae&&ai(Et)===Ct.type){c(Pe,Ct.sibling),_e=w(Ct,Le.props),_e.ref=Vt(Pe,Ct,Le),_e.return=Pe,Pe=_e;break e}c(Pe,Ct);break}else a(Pe,Ct);Ct=Ct.sibling}Le.type===q?(_e=Fu(Le.props.children,Pe.mode,rt,Le.key),_e.return=Pe,Pe=_e):(rt=Ff(Le.type,Le.key,Le.props,null,Pe.mode,rt),rt.ref=Vt(Pe,_e,Le),rt.return=Pe,Pe=rt)}return z(Pe);case Ee:e:{for(Ct=Le.key;_e!==null;){if(_e.key===Ct)if(_e.tag===4&&_e.stateNode.containerInfo===Le.containerInfo&&_e.stateNode.implementation===Le.implementation){c(Pe,_e.sibling),_e=w(_e,Le.children||[]),_e.return=Pe,Pe=_e;break e}else{c(Pe,_e);break}else a(Pe,_e);_e=_e.sibling}_e=Jp(Le,Pe.mode,rt),_e.return=Pe,Pe=_e}return z(Pe);case Ae:return Ct=Le._init,dr(Pe,_e,Ct(Le._payload),rt)}if(Xe(Le))return _t(Pe,_e,Le,rt);if(ae(Le))return St(Pe,_e,Le,rt);Bn(Pe,Le)}return typeof Le=="string"&&Le!==""||typeof Le=="number"?(Le=""+Le,_e!==null&&_e.tag===6?(c(Pe,_e.sibling),_e=w(_e,Le),_e.return=Pe,Pe=_e):(c(Pe,_e),_e=Yp(Le,Pe.mode,rt),_e.return=Pe,Pe=_e),z(Pe)):c(Pe,_e)}return dr}var cr=Zn(!0),pn=Zn(!1),$r=ks(null),Gr=null,Un=null,hr=null;function Lr(){hr=Un=Gr=null}function Ai(s){var a=$r.current;wn($r),s._currentValue=a}function ls(s,a,c){for(;s!==null;){var g=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,g!==null&&(g.childLanes|=a)):g!==null&&(g.childLanes&a)!==a&&(g.childLanes|=a),s===c)break;s=s.return}}function zn(s,a){Gr=s,hr=Un=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&a)!==0&&(fs=!0),s.firstContext=null)}function or(s){var a=s._currentValue;if(hr!==s)if(s={context:s,memoizedValue:a,next:null},Un===null){if(Gr===null)throw Error(t(308));Un=s,Gr.dependencies={lanes:0,firstContext:s}}else Un=Un.next=s;return a}var Wi=null;function aa(s){Wi===null?Wi=[s]:Wi.push(s)}function No(s,a,c,g){var w=a.interleaved;return w===null?(c.next=c,aa(a)):(c.next=w.next,w.next=c),a.interleaved=c,gn(s,g)}function gn(s,a){s.lanes|=a;var c=s.alternate;for(c!==null&&(c.lanes|=a),c=s,s=s.return;s!==null;)s.childLanes|=a,c=s.alternate,c!==null&&(c.childLanes|=a),c=s,s=s.return;return c.tag===3?c.stateNode:null}var no=!1;function oc(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function lh(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function us(s,a){return{eventTime:s,lane:a,tag:0,payload:null,callback:null,next:null}}function cs(s,a,c){var g=s.updateQueue;if(g===null)return null;if(g=g.shared,(hn&2)!==0){var w=g.pending;return w===null?a.next=a:(a.next=w.next,w.next=a),g.pending=a,gn(s,c)}return w=g.interleaved,w===null?(a.next=a,aa(g)):(a.next=w.next,w.next=a),g.interleaved=a,gn(s,c)}function za(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194240)!==0)){var g=a.lanes;g&=s.pendingLanes,c|=g,a.lanes=c,As(s,c)}}function hs(s,a){var c=s.updateQueue,g=s.alternate;if(g!==null&&(g=g.updateQueue,c===g)){var w=null,T=null;if(c=c.firstBaseUpdate,c!==null){do{var z={eventTime:c.eventTime,lane:c.lane,tag:c.tag,payload:c.payload,callback:c.callback,next:null};T===null?w=T=z:T=T.next=z,c=c.next}while(c!==null);T===null?w=T=a:T=T.next=a}else w=T=a;c={baseState:g.baseState,firstBaseUpdate:w,lastBaseUpdate:T,shared:g.shared,effects:g.effects},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}function Co(s,a,c,g){var w=s.updateQueue;no=!1;var T=w.firstBaseUpdate,z=w.lastBaseUpdate,se=w.shared.pending;if(se!==null){w.shared.pending=null;var fe=se,Oe=fe.next;fe.next=null,z===null?T=Oe:z.next=Oe,z=fe;var Je=s.alternate;Je!==null&&(Je=Je.updateQueue,se=Je.lastBaseUpdate,se!==z&&(se===null?Je.firstBaseUpdate=Oe:se.next=Oe,Je.lastBaseUpdate=fe))}if(T!==null){var et=w.baseState;z=0,Je=Oe=fe=null,se=T;do{var Ye=se.lane,dt=se.eventTime;if((g&Ye)===Ye){Je!==null&&(Je=Je.next={eventTime:dt,lane:0,tag:se.tag,payload:se.payload,callback:se.callback,next:null});e:{var _t=s,St=se;switch(Ye=a,dt=c,St.tag){case 1:if(_t=St.payload,typeof _t=="function"){et=_t.call(dt,et,Ye);break e}et=_t;break e;case 3:_t.flags=_t.flags&-65537|128;case 0:if(_t=St.payload,Ye=typeof _t=="function"?_t.call(dt,et,Ye):_t,Ye==null)break e;et=ce({},et,Ye);break e;case 2:no=!0}}se.callback!==null&&se.lane!==0&&(s.flags|=64,Ye=w.effects,Ye===null?w.effects=[se]:Ye.push(se))}else dt={eventTime:dt,lane:Ye,tag:se.tag,payload:se.payload,callback:se.callback,next:null},Je===null?(Oe=Je=dt,fe=et):Je=Je.next=dt,z|=Ye;if(se=se.next,se===null){if(se=w.shared.pending,se===null)break;Ye=se,se=Ye.next,Ye.next=null,w.lastBaseUpdate=Ye,w.shared.pending=null}}while(!0);if(Je===null&&(fe=et),w.baseState=fe,w.firstBaseUpdate=Oe,w.lastBaseUpdate=Je,a=w.shared.interleaved,a!==null){w=a;do z|=w.lane,w=w.next;while(w!==a)}else T===null&&(w.shared.lanes=0);Lu|=z,s.lanes=z,s.memoizedState=et}}function qa(s,a,c){if(s=a.effects,a.effects=null,s!==null)for(a=0;a<s.length;a++){var g=s[a],w=g.callback;if(w!==null){if(g.callback=null,g=c,typeof w!="function")throw Error(t(191,w));w.call(g)}}}var Cl={},$i=ks(Cl),kl=ks(Cl),la=ks(Cl);function ko(s){if(s===Cl)throw Error(t(174));return s}function Ll(s,a){switch(An(la,a),An(kl,s),An($i,Cl),s=a.nodeType,s){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:mt(null,"");break;default:s=s===8?a.parentNode:a,a=s.namespaceURI||null,s=s.tagName,a=mt(a,s)}wn($i),An($i,a)}function ro(){wn($i),wn(kl),wn(la)}function vf(s){ko(la.current);var a=ko($i.current),c=mt(a,s.type);a!==c&&(An(kl,s),An($i,c))}function uh(s){kl.current===s&&(wn($i),wn(kl))}var Dn=ks(0);function Ls(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||c.data==="$?"||c.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var ch=[];function hh(){for(var s=0;s<ch.length;s++)ch[s]._workInProgressVersionPrimary=null;ch.length=0}var ac=me.ReactCurrentDispatcher,lc=me.ReactCurrentBatchConfig,io=0,Mn=null,ar=null,er=null,Rl=!1,Lo=!1,Ol=0,bp=0;function fr(){throw Error(t(321))}function uc(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!cn(s[c],a[c]))return!1;return!0}function Nu(s,a,c,g,w,T){if(io=T,Mn=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,ac.current=s===null||s.memoizedState===null?lw:uw,s=c(g,w),Lo){T=0;do{if(Lo=!1,Ol=0,25<=T)throw Error(t(301));T+=1,er=ar=null,a.updateQueue=null,ac.current=cw,s=c(g,w)}while(Lo)}if(ac.current=bf,a=ar!==null&&ar.next!==null,io=0,er=ar=Mn=null,Rl=!1,a)throw Error(t(300));return s}function so(){var s=Ol!==0;return Ol=0,s}function Rs(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return er===null?Mn.memoizedState=er=s:er=er.next=s,er}function Gi(){if(ar===null){var s=Mn.alternate;s=s!==null?s.memoizedState:null}else s=ar.next;var a=er===null?Mn.memoizedState:er.next;if(a!==null)er=a,ar=s;else{if(s===null)throw Error(t(310));ar=s,s={memoizedState:ar.memoizedState,baseState:ar.baseState,baseQueue:ar.baseQueue,queue:ar.queue,next:null},er===null?Mn.memoizedState=er=s:er=er.next=s}return er}function Cu(s,a){return typeof a=="function"?a(s):a}function cc(s){var a=Gi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var g=ar,w=g.baseQueue,T=c.pending;if(T!==null){if(w!==null){var z=w.next;w.next=T.next,T.next=z}g.baseQueue=w=T,c.pending=null}if(w!==null){T=w.next,g=g.baseState;var se=z=null,fe=null,Oe=T;do{var Je=Oe.lane;if((io&Je)===Je)fe!==null&&(fe=fe.next={lane:0,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null}),g=Oe.hasEagerState?Oe.eagerState:s(g,Oe.action);else{var et={lane:Je,action:Oe.action,hasEagerState:Oe.hasEagerState,eagerState:Oe.eagerState,next:null};fe===null?(se=fe=et,z=g):fe=fe.next=et,Mn.lanes|=Je,Lu|=Je}Oe=Oe.next}while(Oe!==null&&Oe!==T);fe===null?z=g:fe.next=se,cn(g,a.memoizedState)||(fs=!0),a.memoizedState=g,a.baseState=z,a.baseQueue=fe,c.lastRenderedState=g}if(s=c.interleaved,s!==null){w=s;do T=w.lane,Mn.lanes|=T,Lu|=T,w=w.next;while(w!==s)}else w===null&&(c.lanes=0);return[a.memoizedState,c.dispatch]}function ua(s){var a=Gi(),c=a.queue;if(c===null)throw Error(t(311));c.lastRenderedReducer=s;var g=c.dispatch,w=c.pending,T=a.memoizedState;if(w!==null){c.pending=null;var z=w=w.next;do T=s(T,z.action),z=z.next;while(z!==w);cn(T,a.memoizedState)||(fs=!0),a.memoizedState=T,a.baseQueue===null&&(a.baseState=T),c.lastRenderedState=T}return[T,g]}function yf(){}function fh(s,a){var c=Mn,g=Gi(),w=a(),T=!cn(g.memoizedState,w);if(T&&(g.memoizedState=w,fs=!0),g=g.queue,dc(wf.bind(null,c,g,s),[s]),g.getSnapshot!==a||T||er!==null&&er.memoizedState.tag&1){if(c.flags|=2048,Ki(9,dh.bind(null,c,g,w,a),void 0,null),Kr===null)throw Error(t(349));(io&30)!==0||_f(c,a,w)}return w}function _f(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Mn.updateQueue,a===null?(a={lastEffect:null,stores:null},Mn.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function dh(s,a,c,g){a.value=c,a.getSnapshot=g,Dl(a)&&hc(s)}function wf(s,a,c){return c(function(){Dl(a)&&hc(s)})}function Dl(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!cn(s,c)}catch{return!0}}function hc(s){var a=gn(s,1);a!==null&&Mo(a,s,1,-1)}function ku(s){var a=Rs();return typeof s=="function"&&(s=s()),a.memoizedState=a.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:s},a.queue=s,s=s.dispatch=aw.bind(null,Mn,s),[a.memoizedState,s]}function Ki(s,a,c,g){return s={tag:s,create:a,destroy:c,deps:g,next:null},a=Mn.updateQueue,a===null?(a={lastEffect:null,stores:null},Mn.updateQueue=a,a.lastEffect=s.next=s):(c=a.lastEffect,c===null?a.lastEffect=s.next=s:(g=c.next,c.next=s,s.next=g,a.lastEffect=s)),s}function Ro(){return Gi().memoizedState}function Os(s,a,c,g){var w=Rs();Mn.flags|=s,w.memoizedState=Ki(1|a,c,void 0,g===void 0?null:g)}function Ha(s,a,c,g){var w=Gi();g=g===void 0?null:g;var T=void 0;if(ar!==null){var z=ar.memoizedState;if(T=z.destroy,g!==null&&uc(g,z.deps)){w.memoizedState=Ki(a,c,T,g);return}}Mn.flags|=s,w.memoizedState=Ki(1|a,c,T,g)}function fc(s,a){return Os(8390656,8,s,a)}function dc(s,a){return Ha(2048,8,s,a)}function Sf(s,a){return Ha(4,2,s,a)}function pc(s,a){return Ha(4,4,s,a)}function gc(s,a){if(typeof a=="function")return s=s(),a(s),function(){a(null)};if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function S1(s,a,c){return c=c!=null?c.concat([s]):null,Ha(4,4,gc.bind(null,a,s),c)}function Ep(){}function b1(s,a){var c=Gi();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&uc(a,g[1])?g[0]:(c.memoizedState=[s,a],s)}function E1(s,a){var c=Gi();a=a===void 0?null:a;var g=c.memoizedState;return g!==null&&a!==null&&uc(a,g[1])?g[0]:(s=s(),c.memoizedState=[s,a],s)}function A1(s,a,c){return(io&21)===0?(s.baseState&&(s.baseState=!1,fs=!0),s.memoizedState=c):(cn(c,a)||(c=qs(),Mn.lanes|=c,Lu|=c,s.baseState=!0),a)}function sw(s,a){var c=Kt;Kt=c!==0&&4>c?c:4,s(!0);var g=lc.transition;lc.transition={};try{s(!1),a()}finally{Kt=c,lc.transition=g}}function I1(){return Gi().memoizedState}function ow(s,a,c){var g=Vl(s);if(c={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null},T1(s))x1(a,c);else if(c=No(s,a,c,g),c!==null){var w=Yi();Mo(c,s,g,w),P1(c,a,g)}}function aw(s,a,c){var g=Vl(s),w={lane:g,action:c,hasEagerState:!1,eagerState:null,next:null};if(T1(s))x1(a,w);else{var T=s.alternate;if(s.lanes===0&&(T===null||T.lanes===0)&&(T=a.lastRenderedReducer,T!==null))try{var z=a.lastRenderedState,se=T(z,c);if(w.hasEagerState=!0,w.eagerState=se,cn(se,z)){var fe=a.interleaved;fe===null?(w.next=w,aa(a)):(w.next=fe.next,fe.next=w),a.interleaved=w;return}}catch{}finally{}c=No(s,a,w,g),c!==null&&(w=Yi(),Mo(c,s,g,w),P1(c,a,g))}}function T1(s){var a=s.alternate;return s===Mn||a!==null&&a===Mn}function x1(s,a){Lo=Rl=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function P1(s,a,c){if((c&4194240)!==0){var g=a.lanes;g&=s.pendingLanes,c|=g,a.lanes=c,As(s,c)}}var bf={readContext:or,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useInsertionEffect:fr,useLayoutEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useMutableSource:fr,useSyncExternalStore:fr,useId:fr,unstable_isNewReconciler:!1},lw={readContext:or,useCallback:function(s,a){return Rs().memoizedState=[s,a===void 0?null:a],s},useContext:or,useEffect:fc,useImperativeHandle:function(s,a,c){return c=c!=null?c.concat([s]):null,Os(4194308,4,gc.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Os(4194308,4,s,a)},useInsertionEffect:function(s,a){return Os(4,2,s,a)},useMemo:function(s,a){var c=Rs();return a=a===void 0?null:a,s=s(),c.memoizedState=[s,a],s},useReducer:function(s,a,c){var g=Rs();return a=c!==void 0?c(a):a,g.memoizedState=g.baseState=a,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:a},g.queue=s,s=s.dispatch=ow.bind(null,Mn,s),[g.memoizedState,s]},useRef:function(s){var a=Rs();return s={current:s},a.memoizedState=s},useState:ku,useDebugValue:Ep,useDeferredValue:function(s){return Rs().memoizedState=s},useTransition:function(){var s=ku(!1),a=s[0];return s=sw.bind(null,s[1]),Rs().memoizedState=s,[a,s]},useMutableSource:function(){},useSyncExternalStore:function(s,a,c){var g=Mn,w=Rs();if(Me){if(c===void 0)throw Error(t(407));c=c()}else{if(c=a(),Kr===null)throw Error(t(349));(io&30)!==0||_f(g,a,c)}w.memoizedState=c;var T={value:c,getSnapshot:a};return w.queue=T,fc(wf.bind(null,g,T,s),[s]),g.flags|=2048,Ki(9,dh.bind(null,g,T,c,a),void 0,null),c},useId:function(){var s=Rs(),a=Kr.identifierPrefix;if(Me){var c=Te,g=Ie;c=(g&~(1<<32-Ar(g)-1)).toString(32)+c,a=":"+a+"R"+c,c=Ol++,0<c&&(a+="H"+c.toString(32)),a+=":"}else c=bp++,a=":"+a+"r"+c.toString(32)+":";return s.memoizedState=a},unstable_isNewReconciler:!1},uw={readContext:or,useCallback:b1,useContext:or,useEffect:dc,useImperativeHandle:S1,useInsertionEffect:Sf,useLayoutEffect:pc,useMemo:E1,useReducer:cc,useRef:Ro,useState:function(){return cc(Cu)},useDebugValue:Ep,useDeferredValue:function(s){var a=Gi();return A1(a,ar.memoizedState,s)},useTransition:function(){var s=cc(Cu)[0],a=Gi().memoizedState;return[s,a]},useMutableSource:yf,useSyncExternalStore:fh,useId:I1,unstable_isNewReconciler:!1},cw={readContext:or,useCallback:b1,useContext:or,useEffect:dc,useImperativeHandle:S1,useInsertionEffect:Sf,useLayoutEffect:pc,useMemo:E1,useReducer:ua,useRef:Ro,useState:function(){return ua(Cu)},useDebugValue:Ep,useDeferredValue:function(s){var a=Gi();return ar===null?a.memoizedState=s:A1(a,ar.memoizedState,s)},useTransition:function(){var s=ua(Cu)[0],a=Gi().memoizedState;return[s,a]},useMutableSource:yf,useSyncExternalStore:fh,useId:I1,unstable_isNewReconciler:!1};function Oo(s,a){if(s&&s.defaultProps){a=ce({},a),s=s.defaultProps;for(var c in s)a[c]===void 0&&(a[c]=s[c]);return a}return a}function Ap(s,a,c,g){a=s.memoizedState,c=c(g,a),c=c==null?a:ce({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Ef={isMounted:function(s){return(s=s._reactInternals)?Xn(s)===s:!1},enqueueSetState:function(s,a,c){s=s._reactInternals;var g=Yi(),w=Vl(s),T=us(g,w);T.payload=a,c!=null&&(T.callback=c),a=cs(s,T,w),a!==null&&(Mo(a,s,w,g),za(a,s,w))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var g=Yi(),w=Vl(s),T=us(g,w);T.tag=1,T.payload=a,c!=null&&(T.callback=c),a=cs(s,T,w),a!==null&&(Mo(a,s,w,g),za(a,s,w))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Yi(),g=Vl(s),w=us(c,g);w.tag=2,a!=null&&(w.callback=a),a=cs(s,w,g),a!==null&&(Mo(a,s,g,c),za(a,s,g))}};function N1(s,a,c,g,w,T,z){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(g,T,z):a.prototype&&a.prototype.isPureReactComponent?!Eo(c,g)||!Eo(w,T):!0}function C1(s,a,c){var g=!1,w=oa,T=a.contextType;return typeof T=="object"&&T!==null?T=or(T):(w=Ei(a)?Ba:kr.current,g=a.contextTypes,T=(g=g!=null)?Nl(s,w):oa),a=new a(c,T),s.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=Ef,s.stateNode=a,a._reactInternals=s,g&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=w,s.__reactInternalMemoizedMaskedChildContext=T),a}function k1(s,a,c,g){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,g),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,g),a.state!==s&&Ef.enqueueReplaceState(a,a.state,null)}function Ip(s,a,c,g){var w=s.stateNode;w.props=c,w.state=s.memoizedState,w.refs={},oc(s);var T=a.contextType;typeof T=="object"&&T!==null?w.context=or(T):(T=Ei(a)?Ba:kr.current,w.context=Nl(s,T)),w.state=s.memoizedState,T=a.getDerivedStateFromProps,typeof T=="function"&&(Ap(s,a,T,c),w.state=s.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof w.getSnapshotBeforeUpdate=="function"||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(a=w.state,typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount(),a!==w.state&&Ef.enqueueReplaceState(w,w.state,null),Co(s,c,w,g),w.state=s.memoizedState),typeof w.componentDidMount=="function"&&(s.flags|=4194308)}function mc(s,a){try{var c="",g=a;do c+=te(g),g=g.return;while(g);var w=c}catch(T){w=`
Error generating stack: `+T.message+`
`+T.stack}return{value:s,source:a,stack:w,digest:null}}function Tp(s,a,c){return{value:s,source:null,stack:c??null,digest:a??null}}function xp(s,a){try{console.error(a.value)}catch(c){setTimeout(function(){throw c})}}var hw=typeof WeakMap=="function"?WeakMap:Map;function L1(s,a,c){c=us(-1,c),c.tag=3,c.payload={element:null};var g=a.value;return c.callback=function(){Cf||(Cf=!0,zp=g),xp(s,a)},c}function R1(s,a,c){c=us(-1,c),c.tag=3;var g=s.type.getDerivedStateFromError;if(typeof g=="function"){var w=a.value;c.payload=function(){return g(w)},c.callback=function(){xp(s,a)}}var T=s.stateNode;return T!==null&&typeof T.componentDidCatch=="function"&&(c.callback=function(){xp(s,a),typeof g!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var z=a.stack;this.componentDidCatch(a.value,{componentStack:z!==null?z:""})}),c}function O1(s,a,c){var g=s.pingCache;if(g===null){g=s.pingCache=new hw;var w=new Set;g.set(a,w)}else w=g.get(a),w===void 0&&(w=new Set,g.set(a,w));w.has(c)||(w.add(c),s=Iw.bind(null,s,a,c),a.then(s,s))}function D1(s){do{var a;if((a=s.tag===13)&&(a=s.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return s;s=s.return}while(s!==null);return null}function F1(s,a,c,g,w){return(s.mode&1)===0?(s===a?s.flags|=65536:(s.flags|=128,c.flags|=131072,c.flags&=-52805,c.tag===1&&(c.alternate===null?c.tag=17:(a=us(-1,1),a.tag=2,cs(c,a,1))),c.lanes|=1),s):(s.flags|=65536,s.lanes=w,s)}var fw=me.ReactCurrentOwner,fs=!1;function Qi(s,a,c,g){a.child=s===null?pn(a,null,c,g):cr(a,s.child,c,g)}function M1(s,a,c,g,w){c=c.render;var T=a.ref;return zn(a,w),g=Nu(s,a,c,g,T,w),c=so(),s!==null&&!fs?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~w,Wa(s,a,w)):(Me&&c&&De(a),a.flags|=1,Qi(s,a,g,w),a.child)}function j1(s,a,c,g,w){if(s===null){var T=c.type;return typeof T=="function"&&!Qp(T)&&T.defaultProps===void 0&&c.compare===null&&c.defaultProps===void 0?(a.tag=15,a.type=T,V1(s,a,T,g,w)):(s=Ff(c.type,null,g,a,a.mode,w),s.ref=a.ref,s.return=a,a.child=s)}if(T=s.child,(s.lanes&w)===0){var z=T.memoizedProps;if(c=c.compare,c=c!==null?c:Eo,c(z,g)&&s.ref===a.ref)return Wa(s,a,w)}return a.flags|=1,s=Ul(T,g),s.ref=a.ref,s.return=a,a.child=s}function V1(s,a,c,g,w){if(s!==null){var T=s.memoizedProps;if(Eo(T,g)&&s.ref===a.ref)if(fs=!1,a.pendingProps=g=T,(s.lanes&w)!==0)(s.flags&131072)!==0&&(fs=!0);else return a.lanes=s.lanes,Wa(s,a,w)}return Pp(s,a,c,g,w)}function B1(s,a,c){var g=a.pendingProps,w=g.children,T=s!==null?s.memoizedState:null;if(g.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},An(yc,Ds),Ds|=c;else{if((c&1073741824)===0)return s=T!==null?T.baseLanes|c:c,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:s,cachePool:null,transitions:null},a.updateQueue=null,An(yc,Ds),Ds|=s,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=T!==null?T.baseLanes:c,An(yc,Ds),Ds|=g}else T!==null?(g=T.baseLanes|c,a.memoizedState=null):g=c,An(yc,Ds),Ds|=g;return Qi(s,a,w,c),a.child}function U1(s,a){var c=a.ref;(s===null&&c!==null||s!==null&&s.ref!==c)&&(a.flags|=512,a.flags|=2097152)}function Pp(s,a,c,g,w){var T=Ei(c)?Ba:kr.current;return T=Nl(a,T),zn(a,w),c=Nu(s,a,c,g,T,w),g=so(),s!==null&&!fs?(a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~w,Wa(s,a,w)):(Me&&g&&De(a),a.flags|=1,Qi(s,a,c,w),a.child)}function z1(s,a,c,g,w){if(Ei(c)){var T=!0;Ua(a)}else T=!1;if(zn(a,w),a.stateNode===null)If(s,a),C1(a,c,g),Ip(a,c,g,w),g=!0;else if(s===null){var z=a.stateNode,se=a.memoizedProps;z.props=se;var fe=z.context,Oe=c.contextType;typeof Oe=="object"&&Oe!==null?Oe=or(Oe):(Oe=Ei(c)?Ba:kr.current,Oe=Nl(a,Oe));var Je=c.getDerivedStateFromProps,et=typeof Je=="function"||typeof z.getSnapshotBeforeUpdate=="function";et||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(se!==g||fe!==Oe)&&k1(a,z,g,Oe),no=!1;var Ye=a.memoizedState;z.state=Ye,Co(a,g,z,w),fe=a.memoizedState,se!==g||Ye!==fe||bi.current||no?(typeof Je=="function"&&(Ap(a,c,Je,g),fe=a.memoizedState),(se=no||N1(a,c,se,g,Ye,fe,Oe))?(et||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(a.flags|=4194308)):(typeof z.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=g,a.memoizedState=fe),z.props=g,z.state=fe,z.context=Oe,g=se):(typeof z.componentDidMount=="function"&&(a.flags|=4194308),g=!1)}else{z=a.stateNode,lh(s,a),se=a.memoizedProps,Oe=a.type===a.elementType?se:Oo(a.type,se),z.props=Oe,et=a.pendingProps,Ye=z.context,fe=c.contextType,typeof fe=="object"&&fe!==null?fe=or(fe):(fe=Ei(c)?Ba:kr.current,fe=Nl(a,fe));var dt=c.getDerivedStateFromProps;(Je=typeof dt=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(se!==et||Ye!==fe)&&k1(a,z,g,fe),no=!1,Ye=a.memoizedState,z.state=Ye,Co(a,g,z,w);var _t=a.memoizedState;se!==et||Ye!==_t||bi.current||no?(typeof dt=="function"&&(Ap(a,c,dt,g),_t=a.memoizedState),(Oe=no||N1(a,c,Oe,g,Ye,_t,fe)||!1)?(Je||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(g,_t,fe),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(g,_t,fe)),typeof z.componentDidUpdate=="function"&&(a.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof z.componentDidUpdate!="function"||se===s.memoizedProps&&Ye===s.memoizedState||(a.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||se===s.memoizedProps&&Ye===s.memoizedState||(a.flags|=1024),a.memoizedProps=g,a.memoizedState=_t),z.props=g,z.state=_t,z.context=fe,g=Oe):(typeof z.componentDidUpdate!="function"||se===s.memoizedProps&&Ye===s.memoizedState||(a.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||se===s.memoizedProps&&Ye===s.memoizedState||(a.flags|=1024),g=!1)}return Np(s,a,c,g,T,w)}function Np(s,a,c,g,w,T){U1(s,a);var z=(a.flags&128)!==0;if(!g&&!z)return w&&mf(a,c,!1),Wa(s,a,T);g=a.stateNode,fw.current=a;var se=z&&typeof c.getDerivedStateFromError!="function"?null:g.render();return a.flags|=1,s!==null&&z?(a.child=cr(a,s.child,null,T),a.child=cr(a,null,se,T)):Qi(s,a,se,T),a.memoizedState=g.state,w&&mf(a,c,!0),a.child}function q1(s){var a=s.stateNode;a.pendingContext?gf(s,a.pendingContext,a.pendingContext!==a.context):a.context&&gf(s,a.context,!1),Ll(s,a.containerInfo)}function H1(s,a,c,g,w){return Gt(),Sn(w),a.flags|=256,Qi(s,a,c,g),a.child}var Cp={dehydrated:null,treeContext:null,retryLane:0};function kp(s){return{baseLanes:s,cachePool:null,transitions:null}}function W1(s,a,c){var g=a.pendingProps,w=Dn.current,T=!1,z=(a.flags&128)!==0,se;if((se=z)||(se=s!==null&&s.memoizedState===null?!1:(w&2)!==0),se?(T=!0,a.flags&=-129):(s===null||s.memoizedState!==null)&&(w|=1),An(Dn,w&1),s===null)return ut(a),s=a.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((a.mode&1)===0?a.lanes=1:s.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(z=g.children,s=g.fallback,T?(g=a.mode,T=a.child,z={mode:"hidden",children:z},(g&1)===0&&T!==null?(T.childLanes=0,T.pendingProps=z):T=Mf(z,g,0,null),s=Fu(s,g,c,null),T.return=a,s.return=a,T.sibling=s,a.child=T,a.child.memoizedState=kp(c),a.memoizedState=Cp,s):Lp(a,z));if(w=s.memoizedState,w!==null&&(se=w.dehydrated,se!==null))return dw(s,a,z,g,se,w,c);if(T){T=g.fallback,z=a.mode,w=s.child,se=w.sibling;var fe={mode:"hidden",children:g.children};return(z&1)===0&&a.child!==w?(g=a.child,g.childLanes=0,g.pendingProps=fe,a.deletions=null):(g=Ul(w,fe),g.subtreeFlags=w.subtreeFlags&14680064),se!==null?T=Ul(se,T):(T=Fu(T,z,c,null),T.flags|=2),T.return=a,g.return=a,g.sibling=T,a.child=g,g=T,T=a.child,z=s.child.memoizedState,z=z===null?kp(c):{baseLanes:z.baseLanes|c,cachePool:null,transitions:z.transitions},T.memoizedState=z,T.childLanes=s.childLanes&~c,a.memoizedState=Cp,g}return T=s.child,s=T.sibling,g=Ul(T,{mode:"visible",children:g.children}),(a.mode&1)===0&&(g.lanes=c),g.return=a,g.sibling=null,s!==null&&(c=a.deletions,c===null?(a.deletions=[s],a.flags|=16):c.push(s)),a.child=g,a.memoizedState=null,g}function Lp(s,a){return a=Mf({mode:"visible",children:a},s.mode,0,null),a.return=s,s.child=a}function Af(s,a,c,g){return g!==null&&Sn(g),cr(a,s.child,null,c),s=Lp(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function dw(s,a,c,g,w,T,z){if(c)return a.flags&256?(a.flags&=-257,g=Tp(Error(t(422))),Af(s,a,z,g)):a.memoizedState!==null?(a.child=s.child,a.flags|=128,null):(T=g.fallback,w=a.mode,g=Mf({mode:"visible",children:g.children},w,0,null),T=Fu(T,w,z,null),T.flags|=2,g.return=a,T.return=a,g.sibling=T,a.child=g,(a.mode&1)!==0&&cr(a,s.child,null,z),a.child.memoizedState=kp(z),a.memoizedState=Cp,T);if((a.mode&1)===0)return Af(s,a,z,null);if(w.data==="$!"){if(g=w.nextSibling&&w.nextSibling.dataset,g)var se=g.dgst;return g=se,T=Error(t(419)),g=Tp(T,g,void 0),Af(s,a,z,g)}if(se=(z&s.childLanes)!==0,fs||se){if(g=Kr,g!==null){switch(z&-z){case 4:w=2;break;case 16:w=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:w=32;break;case 536870912:w=268435456;break;default:w=0}w=(w&(g.suspendedLanes|z))!==0?0:w,w!==0&&w!==T.retryLane&&(T.retryLane=w,gn(s,w),Mo(g,s,w,-1))}return Kp(),g=Tp(Error(t(421))),Af(s,a,z,g)}return w.data==="$?"?(a.flags|=128,a.child=s.child,a=Tw.bind(null,s),w._reactRetry=a,null):(s=T.treeContext,je=oi(w.nextSibling),pe=a,Me=!0,Ue=null,s!==null&&(K[J++]=Ie,K[J++]=Te,K[J++]=he,Ie=s.id,Te=s.overflow,he=a),a=Lp(a,g.children),a.flags|=4096,a)}function $1(s,a,c){s.lanes|=a;var g=s.alternate;g!==null&&(g.lanes|=a),ls(s.return,a,c)}function Rp(s,a,c,g,w){var T=s.memoizedState;T===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:g,tail:c,tailMode:w}:(T.isBackwards=a,T.rendering=null,T.renderingStartTime=0,T.last=g,T.tail=c,T.tailMode=w)}function G1(s,a,c){var g=a.pendingProps,w=g.revealOrder,T=g.tail;if(Qi(s,a,g.children,c),g=Dn.current,(g&2)!==0)g=g&1|2,a.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&$1(s,c,a);else if(s.tag===19)$1(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break e;for(;s.sibling===null;){if(s.return===null||s.return===a)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}g&=1}if(An(Dn,g),(a.mode&1)===0)a.memoizedState=null;else switch(w){case"forwards":for(c=a.child,w=null;c!==null;)s=c.alternate,s!==null&&Ls(s)===null&&(w=c),c=c.sibling;c=w,c===null?(w=a.child,a.child=null):(w=c.sibling,c.sibling=null),Rp(a,!1,w,c,T);break;case"backwards":for(c=null,w=a.child,a.child=null;w!==null;){if(s=w.alternate,s!==null&&Ls(s)===null){a.child=w;break}s=w.sibling,w.sibling=c,c=w,w=s}Rp(a,!0,c,null,T);break;case"together":Rp(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function If(s,a){(a.mode&1)===0&&s!==null&&(s.alternate=null,a.alternate=null,a.flags|=2)}function Wa(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Lu|=a.lanes,(c&a.childLanes)===0)return null;if(s!==null&&a.child!==s.child)throw Error(t(153));if(a.child!==null){for(s=a.child,c=Ul(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ul(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function pw(s,a,c){switch(a.tag){case 3:q1(a),Gt();break;case 5:vf(a);break;case 1:Ei(a.type)&&Ua(a);break;case 4:Ll(a,a.stateNode.containerInfo);break;case 10:var g=a.type._context,w=a.memoizedProps.value;An($r,g._currentValue),g._currentValue=w;break;case 13:if(g=a.memoizedState,g!==null)return g.dehydrated!==null?(An(Dn,Dn.current&1),a.flags|=128,null):(c&a.child.childLanes)!==0?W1(s,a,c):(An(Dn,Dn.current&1),s=Wa(s,a,c),s!==null?s.sibling:null);An(Dn,Dn.current&1);break;case 19:if(g=(c&a.childLanes)!==0,(s.flags&128)!==0){if(g)return G1(s,a,c);a.flags|=128}if(w=a.memoizedState,w!==null&&(w.rendering=null,w.tail=null,w.lastEffect=null),An(Dn,Dn.current),g)break;return null;case 22:case 23:return a.lanes=0,B1(s,a,c)}return Wa(s,a,c)}var K1,Op,Q1,Y1;K1=function(s,a){for(var c=a.child;c!==null;){if(c.tag===5||c.tag===6)s.appendChild(c.stateNode);else if(c.tag!==4&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===a)break;for(;c.sibling===null;){if(c.return===null||c.return===a)return;c=c.return}c.sibling.return=c.return,c=c.sibling}},Op=function(){},Q1=function(s,a,c,g){var w=s.memoizedProps;if(w!==g){s=a.stateNode,ko($i.current);var T=null;switch(c){case"input":w=st(s,w),g=st(s,g),T=[];break;case"select":w=ce({},w,{value:void 0}),g=ce({},g,{value:void 0}),T=[];break;case"textarea":w=tt(s,w),g=tt(s,g),T=[];break;default:typeof w.onClick!="function"&&typeof g.onClick=="function"&&(s.onclick=Tl)}bn(c,g);var z;c=null;for(Oe in w)if(!g.hasOwnProperty(Oe)&&w.hasOwnProperty(Oe)&&w[Oe]!=null)if(Oe==="style"){var se=w[Oe];for(z in se)se.hasOwnProperty(z)&&(c||(c={}),c[z]="")}else Oe!=="dangerouslySetInnerHTML"&&Oe!=="children"&&Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&Oe!=="autoFocus"&&(i.hasOwnProperty(Oe)?T||(T=[]):(T=T||[]).push(Oe,null));for(Oe in g){var fe=g[Oe];if(se=w!=null?w[Oe]:void 0,g.hasOwnProperty(Oe)&&fe!==se&&(fe!=null||se!=null))if(Oe==="style")if(se){for(z in se)!se.hasOwnProperty(z)||fe&&fe.hasOwnProperty(z)||(c||(c={}),c[z]="");for(z in fe)fe.hasOwnProperty(z)&&se[z]!==fe[z]&&(c||(c={}),c[z]=fe[z])}else c||(T||(T=[]),T.push(Oe,c)),c=fe;else Oe==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,se=se?se.__html:void 0,fe!=null&&se!==fe&&(T=T||[]).push(Oe,fe)):Oe==="children"?typeof fe!="string"&&typeof fe!="number"||(T=T||[]).push(Oe,""+fe):Oe!=="suppressContentEditableWarning"&&Oe!=="suppressHydrationWarning"&&(i.hasOwnProperty(Oe)?(fe!=null&&Oe==="onScroll"&&Cn("scroll",s),T||se===fe||(T=[])):(T=T||[]).push(Oe,fe))}c&&(T=T||[]).push("style",c);var Oe=T;(a.updateQueue=Oe)&&(a.flags|=4)}},Y1=function(s,a,c,g){c!==g&&(a.flags|=4)};function ph(s,a){if(!Me)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var g=null;c!==null;)c.alternate!==null&&(g=c),c=c.sibling;g===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:g.sibling=null}}function Ii(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,g=0;if(a)for(var w=s.child;w!==null;)c|=w.lanes|w.childLanes,g|=w.subtreeFlags&14680064,g|=w.flags&14680064,w.return=s,w=w.sibling;else for(w=s.child;w!==null;)c|=w.lanes|w.childLanes,g|=w.subtreeFlags,g|=w.flags,w.return=s,w=w.sibling;return s.subtreeFlags|=g,s.childLanes=c,a}function gw(s,a,c){var g=a.pendingProps;switch(de(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ii(a),null;case 1:return Ei(a.type)&&sc(),Ii(a),null;case 3:return g=a.stateNode,ro(),wn(bi),wn(kr),hh(),g.pendingContext&&(g.context=g.pendingContext,g.pendingContext=null),(s===null||s.child===null)&&(an(a)?a.flags|=4:s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,Ue!==null&&(Wp(Ue),Ue=null))),Op(s,a),Ii(a),null;case 5:uh(a);var w=ko(la.current);if(c=a.type,s!==null&&a.stateNode!=null)Q1(s,a,c,g,w),s.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!g){if(a.stateNode===null)throw Error(t(166));return Ii(a),null}if(s=ko($i.current),an(a)){g=a.stateNode,c=a.type;var T=a.memoizedProps;switch(g[to]=a,g[xl]=T,s=(a.mode&1)!==0,c){case"dialog":Cn("cancel",g),Cn("close",g);break;case"iframe":case"object":case"embed":Cn("load",g);break;case"video":case"audio":for(w=0;w<ia.length;w++)Cn(ia[w],g);break;case"source":Cn("error",g);break;case"img":case"image":case"link":Cn("error",g),Cn("load",g);break;case"details":Cn("toggle",g);break;case"input":Ce(g,T),Cn("invalid",g);break;case"select":g._wrapperState={wasMultiple:!!T.multiple},Cn("invalid",g);break;case"textarea":pt(g,T),Cn("invalid",g)}bn(c,T),w=null;for(var z in T)if(T.hasOwnProperty(z)){var se=T[z];z==="children"?typeof se=="string"?g.textContent!==se&&(T.suppressHydrationWarning!==!0&&ic(g.textContent,se,s),w=["children",se]):typeof se=="number"&&g.textContent!==""+se&&(T.suppressHydrationWarning!==!0&&ic(g.textContent,se,s),w=["children",""+se]):i.hasOwnProperty(z)&&se!=null&&z==="onScroll"&&Cn("scroll",g)}switch(c){case"input":Re(g),We(g,T,!0);break;case"textarea":Re(g),At(g);break;case"select":case"option":break;default:typeof T.onClick=="function"&&(g.onclick=Tl)}g=w,a.updateQueue=g,g!==null&&(a.flags|=4)}else{z=w.nodeType===9?w:w.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=ct(c)),s==="http://www.w3.org/1999/xhtml"?c==="script"?(s=z.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof g.is=="string"?s=z.createElement(c,{is:g.is}):(s=z.createElement(c),c==="select"&&(z=s,g.multiple?z.multiple=!0:g.size&&(z.size=g.size))):s=z.createElementNS(s,c),s[to]=a,s[xl]=g,K1(s,a,!1,!1),a.stateNode=s;e:{switch(z=di(c,g),c){case"dialog":Cn("cancel",s),Cn("close",s),w=g;break;case"iframe":case"object":case"embed":Cn("load",s),w=g;break;case"video":case"audio":for(w=0;w<ia.length;w++)Cn(ia[w],s);w=g;break;case"source":Cn("error",s),w=g;break;case"img":case"image":case"link":Cn("error",s),Cn("load",s),w=g;break;case"details":Cn("toggle",s),w=g;break;case"input":Ce(s,g),w=st(s,g),Cn("invalid",s);break;case"option":w=g;break;case"select":s._wrapperState={wasMultiple:!!g.multiple},w=ce({},g,{value:void 0}),Cn("invalid",s);break;case"textarea":pt(s,g),w=tt(s,g),Cn("invalid",s);break;default:w=g}bn(c,w),se=w;for(T in se)if(se.hasOwnProperty(T)){var fe=se[T];T==="style"?_r(s,fe):T==="dangerouslySetInnerHTML"?(fe=fe?fe.__html:void 0,fe!=null&&It(s,fe)):T==="children"?typeof fe=="string"?(c!=="textarea"||fe!=="")&&Ot(s,fe):typeof fe=="number"&&Ot(s,""+fe):T!=="suppressContentEditableWarning"&&T!=="suppressHydrationWarning"&&T!=="autoFocus"&&(i.hasOwnProperty(T)?fe!=null&&T==="onScroll"&&Cn("scroll",s):fe!=null&&ne(s,T,fe,z))}switch(c){case"input":Re(s),We(s,g,!1);break;case"textarea":Re(s),At(s);break;case"option":g.value!=null&&s.setAttribute("value",""+ue(g.value));break;case"select":s.multiple=!!g.multiple,T=g.value,T!=null?nt(s,!!g.multiple,T,!1):g.defaultValue!=null&&nt(s,!!g.multiple,g.defaultValue,!0);break;default:typeof w.onClick=="function"&&(s.onclick=Tl)}switch(c){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}}g&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return Ii(a),null;case 6:if(s&&a.stateNode!=null)Y1(s,a,s.memoizedProps,g);else{if(typeof g!="string"&&a.stateNode===null)throw Error(t(166));if(c=ko(la.current),ko($i.current),an(a)){if(g=a.stateNode,c=a.memoizedProps,g[to]=a,(T=g.nodeValue!==c)&&(s=pe,s!==null))switch(s.tag){case 3:ic(g.nodeValue,c,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&ic(g.nodeValue,c,(s.mode&1)!==0)}T&&(a.flags|=4)}else g=(c.nodeType===9?c:c.ownerDocument).createTextNode(g),g[to]=a,a.stateNode=g}return Ii(a),null;case 13:if(wn(Dn),g=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(Me&&je!==null&&(a.mode&1)!==0&&(a.flags&128)===0)en(),Gt(),a.flags|=98560,T=!1;else if(T=an(a),g!==null&&g.dehydrated!==null){if(s===null){if(!T)throw Error(t(318));if(T=a.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(t(317));T[to]=a}else Gt(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Ii(a),T=!1}else Ue!==null&&(Wp(Ue),Ue=null),T=!0;if(!T)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=c,a):(g=g!==null,g!==(s!==null&&s.memoizedState!==null)&&g&&(a.child.flags|=8192,(a.mode&1)!==0&&(s===null||(Dn.current&1)!==0?Rr===0&&(Rr=3):Kp())),a.updateQueue!==null&&(a.flags|=4),Ii(a),null);case 4:return ro(),Op(s,a),s===null&&Fa(a.stateNode.containerInfo),Ii(a),null;case 10:return Ai(a.type._context),Ii(a),null;case 17:return Ei(a.type)&&sc(),Ii(a),null;case 19:if(wn(Dn),T=a.memoizedState,T===null)return Ii(a),null;if(g=(a.flags&128)!==0,z=T.rendering,z===null)if(g)ph(T,!1);else{if(Rr!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(z=Ls(s),z!==null){for(a.flags|=128,ph(T,!1),g=z.updateQueue,g!==null&&(a.updateQueue=g,a.flags|=4),a.subtreeFlags=0,g=c,c=a.child;c!==null;)T=c,s=g,T.flags&=14680066,z=T.alternate,z===null?(T.childLanes=0,T.lanes=s,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=z.childLanes,T.lanes=z.lanes,T.child=z.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=z.memoizedProps,T.memoizedState=z.memoizedState,T.updateQueue=z.updateQueue,T.type=z.type,s=z.dependencies,T.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),c=c.sibling;return An(Dn,Dn.current&1|2),a.child}s=s.sibling}T.tail!==null&&En()>_c&&(a.flags|=128,g=!0,ph(T,!1),a.lanes=4194304)}else{if(!g)if(s=Ls(z),s!==null){if(a.flags|=128,g=!0,c=s.updateQueue,c!==null&&(a.updateQueue=c,a.flags|=4),ph(T,!0),T.tail===null&&T.tailMode==="hidden"&&!z.alternate&&!Me)return Ii(a),null}else 2*En()-T.renderingStartTime>_c&&c!==1073741824&&(a.flags|=128,g=!0,ph(T,!1),a.lanes=4194304);T.isBackwards?(z.sibling=a.child,a.child=z):(c=T.last,c!==null?c.sibling=z:a.child=z,T.last=z)}return T.tail!==null?(a=T.tail,T.rendering=a,T.tail=a.sibling,T.renderingStartTime=En(),a.sibling=null,c=Dn.current,An(Dn,g?c&1|2:c&1),a):(Ii(a),null);case 22:case 23:return Gp(),g=a.memoizedState!==null,s!==null&&s.memoizedState!==null!==g&&(a.flags|=8192),g&&(a.mode&1)!==0?(Ds&1073741824)!==0&&(Ii(a),a.subtreeFlags&6&&(a.flags|=8192)):Ii(a),null;case 24:return null;case 25:return null}throw Error(t(156,a.tag))}function mw(s,a){switch(de(a),a.tag){case 1:return Ei(a.type)&&sc(),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return ro(),wn(bi),wn(kr),hh(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 5:return uh(a),null;case 13:if(wn(Dn),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(t(340));Gt()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return wn(Dn),null;case 4:return ro(),null;case 10:return Ai(a.type._context),null;case 22:case 23:return Gp(),null;case 24:return null;default:return null}}var Tf=!1,Ti=!1,vw=typeof WeakSet=="function"?WeakSet:Set,yt=null;function vc(s,a){var c=s.ref;if(c!==null)if(typeof c=="function")try{c(null)}catch(g){lr(s,a,g)}else c.current=null}function Dp(s,a,c){try{c()}catch(g){lr(s,a,g)}}var J1=!1;function yw(s,a){if(Tu=$s,s=_u(),La(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else e:{c=(c=s.ownerDocument)&&c.defaultView||window;var g=c.getSelection&&c.getSelection();if(g&&g.rangeCount!==0){c=g.anchorNode;var w=g.anchorOffset,T=g.focusNode;g=g.focusOffset;try{c.nodeType,T.nodeType}catch{c=null;break e}var z=0,se=-1,fe=-1,Oe=0,Je=0,et=s,Ye=null;t:for(;;){for(var dt;et!==c||w!==0&&et.nodeType!==3||(se=z+w),et!==T||g!==0&&et.nodeType!==3||(fe=z+g),et.nodeType===3&&(z+=et.nodeValue.length),(dt=et.firstChild)!==null;)Ye=et,et=dt;for(;;){if(et===s)break t;if(Ye===c&&++Oe===w&&(se=z),Ye===T&&++Je===g&&(fe=z),(dt=et.nextSibling)!==null)break;et=Ye,Ye=et.parentNode}et=dt}c=se===-1||fe===-1?null:{start:se,end:fe}}else c=null}c=c||{start:0,end:0}}else c=null;for(ja={focusedElem:s,selectionRange:c},$s=!1,yt=a;yt!==null;)if(a=yt,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,yt=s;else for(;yt!==null;){a=yt;try{var _t=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(_t!==null){var St=_t.memoizedProps,dr=_t.memoizedState,Pe=a.stateNode,_e=Pe.getSnapshotBeforeUpdate(a.elementType===a.type?St:Oo(a.type,St),dr);Pe.__reactInternalSnapshotBeforeUpdate=_e}break;case 3:var Le=a.stateNode.containerInfo;Le.nodeType===1?Le.textContent="":Le.nodeType===9&&Le.documentElement&&Le.removeChild(Le.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(rt){lr(a,a.return,rt)}if(s=a.sibling,s!==null){s.return=a.return,yt=s;break}yt=a.return}return _t=J1,J1=!1,_t}function gh(s,a,c){var g=a.updateQueue;if(g=g!==null?g.lastEffect:null,g!==null){var w=g=g.next;do{if((w.tag&s)===s){var T=w.destroy;w.destroy=void 0,T!==void 0&&Dp(a,c,T)}w=w.next}while(w!==g)}}function xf(s,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var c=a=a.next;do{if((c.tag&s)===s){var g=c.create;c.destroy=g()}c=c.next}while(c!==a)}}function Fp(s){var a=s.ref;if(a!==null){var c=s.stateNode;switch(s.tag){case 5:s=c;break;default:s=c}typeof a=="function"?a(s):a.current=s}}function X1(s){var a=s.alternate;a!==null&&(s.alternate=null,X1(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&(delete a[to],delete a[xl],delete a[Si],delete a[wp],delete a[Sp])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function Z1(s){return s.tag===5||s.tag===3||s.tag===4}function e0(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||Z1(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function Mp(s,a,c){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?c.nodeType===8?c.parentNode.insertBefore(s,a):c.insertBefore(s,a):(c.nodeType===8?(a=c.parentNode,a.insertBefore(s,c)):(a=c,a.appendChild(s)),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Tl));else if(g!==4&&(s=s.child,s!==null))for(Mp(s,a,c),s=s.sibling;s!==null;)Mp(s,a,c),s=s.sibling}function jp(s,a,c){var g=s.tag;if(g===5||g===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(g!==4&&(s=s.child,s!==null))for(jp(s,a,c),s=s.sibling;s!==null;)jp(s,a,c),s=s.sibling}var li=null,Do=!1;function Fl(s,a,c){for(c=c.child;c!==null;)t0(s,a,c),c=c.sibling}function t0(s,a,c){if(Xr&&typeof Xr.onCommitFiberUnmount=="function")try{Xr.onCommitFiberUnmount(Bs,c)}catch{}switch(c.tag){case 5:Ti||vc(c,a);case 6:var g=li,w=Do;li=null,Fl(s,a,c),li=g,Do=w,li!==null&&(Do?(s=li,c=c.stateNode,s.nodeType===8?s.parentNode.removeChild(c):s.removeChild(c)):li.removeChild(c.stateNode));break;case 18:li!==null&&(Do?(s=li,c=c.stateNode,s.nodeType===8?sh(s.parentNode,c):s.nodeType===1&&sh(s,c),Pr(s)):sh(li,c.stateNode));break;case 4:g=li,w=Do,li=c.stateNode.containerInfo,Do=!0,Fl(s,a,c),li=g,Do=w;break;case 0:case 11:case 14:case 15:if(!Ti&&(g=c.updateQueue,g!==null&&(g=g.lastEffect,g!==null))){w=g=g.next;do{var T=w,z=T.destroy;T=T.tag,z!==void 0&&((T&2)!==0||(T&4)!==0)&&Dp(c,a,z),w=w.next}while(w!==g)}Fl(s,a,c);break;case 1:if(!Ti&&(vc(c,a),g=c.stateNode,typeof g.componentWillUnmount=="function"))try{g.props=c.memoizedProps,g.state=c.memoizedState,g.componentWillUnmount()}catch(se){lr(c,a,se)}Fl(s,a,c);break;case 21:Fl(s,a,c);break;case 22:c.mode&1?(Ti=(g=Ti)||c.memoizedState!==null,Fl(s,a,c),Ti=g):Fl(s,a,c);break;default:Fl(s,a,c)}}function n0(s){var a=s.updateQueue;if(a!==null){s.updateQueue=null;var c=s.stateNode;c===null&&(c=s.stateNode=new vw),a.forEach(function(g){var w=xw.bind(null,s,g);c.has(g)||(c.add(g),g.then(w,w))})}}function Fo(s,a){var c=a.deletions;if(c!==null)for(var g=0;g<c.length;g++){var w=c[g];try{var T=s,z=a,se=z;e:for(;se!==null;){switch(se.tag){case 5:li=se.stateNode,Do=!1;break e;case 3:li=se.stateNode.containerInfo,Do=!0;break e;case 4:li=se.stateNode.containerInfo,Do=!0;break e}se=se.return}if(li===null)throw Error(t(160));t0(T,z,w),li=null,Do=!1;var fe=w.alternate;fe!==null&&(fe.return=null),w.return=null}catch(Oe){lr(w,a,Oe)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)r0(a,s),a=a.sibling}function r0(s,a){var c=s.alternate,g=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(Fo(a,s),ca(s),g&4){try{gh(3,s,s.return),xf(3,s)}catch(St){lr(s,s.return,St)}try{gh(5,s,s.return)}catch(St){lr(s,s.return,St)}}break;case 1:Fo(a,s),ca(s),g&512&&c!==null&&vc(c,c.return);break;case 5:if(Fo(a,s),ca(s),g&512&&c!==null&&vc(c,c.return),s.flags&32){var w=s.stateNode;try{Ot(w,"")}catch(St){lr(s,s.return,St)}}if(g&4&&(w=s.stateNode,w!=null)){var T=s.memoizedProps,z=c!==null?c.memoizedProps:T,se=s.type,fe=s.updateQueue;if(s.updateQueue=null,fe!==null)try{se==="input"&&T.type==="radio"&&T.name!=null&&Z(w,T),di(se,z);var Oe=di(se,T);for(z=0;z<fe.length;z+=2){var Je=fe[z],et=fe[z+1];Je==="style"?_r(w,et):Je==="dangerouslySetInnerHTML"?It(w,et):Je==="children"?Ot(w,et):ne(w,Je,et,Oe)}switch(se){case"input":bt(w,T);break;case"textarea":gt(w,T);break;case"select":var Ye=w._wrapperState.wasMultiple;w._wrapperState.wasMultiple=!!T.multiple;var dt=T.value;dt!=null?nt(w,!!T.multiple,dt,!1):Ye!==!!T.multiple&&(T.defaultValue!=null?nt(w,!!T.multiple,T.defaultValue,!0):nt(w,!!T.multiple,T.multiple?[]:"",!1))}w[xl]=T}catch(St){lr(s,s.return,St)}}break;case 6:if(Fo(a,s),ca(s),g&4){if(s.stateNode===null)throw Error(t(162));w=s.stateNode,T=s.memoizedProps;try{w.nodeValue=T}catch(St){lr(s,s.return,St)}}break;case 3:if(Fo(a,s),ca(s),g&4&&c!==null&&c.memoizedState.isDehydrated)try{Pr(a.containerInfo)}catch(St){lr(s,s.return,St)}break;case 4:Fo(a,s),ca(s);break;case 13:Fo(a,s),ca(s),w=s.child,w.flags&8192&&(T=w.memoizedState!==null,w.stateNode.isHidden=T,!T||w.alternate!==null&&w.alternate.memoizedState!==null||(Up=En())),g&4&&n0(s);break;case 22:if(Je=c!==null&&c.memoizedState!==null,s.mode&1?(Ti=(Oe=Ti)||Je,Fo(a,s),Ti=Oe):Fo(a,s),ca(s),g&8192){if(Oe=s.memoizedState!==null,(s.stateNode.isHidden=Oe)&&!Je&&(s.mode&1)!==0)for(yt=s,Je=s.child;Je!==null;){for(et=yt=Je;yt!==null;){switch(Ye=yt,dt=Ye.child,Ye.tag){case 0:case 11:case 14:case 15:gh(4,Ye,Ye.return);break;case 1:vc(Ye,Ye.return);var _t=Ye.stateNode;if(typeof _t.componentWillUnmount=="function"){g=Ye,c=Ye.return;try{a=g,_t.props=a.memoizedProps,_t.state=a.memoizedState,_t.componentWillUnmount()}catch(St){lr(g,c,St)}}break;case 5:vc(Ye,Ye.return);break;case 22:if(Ye.memoizedState!==null){o0(et);continue}}dt!==null?(dt.return=Ye,yt=dt):o0(et)}Je=Je.sibling}e:for(Je=null,et=s;;){if(et.tag===5){if(Je===null){Je=et;try{w=et.stateNode,Oe?(T=w.style,typeof T.setProperty=="function"?T.setProperty("display","none","important"):T.display="none"):(se=et.stateNode,fe=et.memoizedProps.style,z=fe!=null&&fe.hasOwnProperty("display")?fe.display:null,se.style.display=Ht("display",z))}catch(St){lr(s,s.return,St)}}}else if(et.tag===6){if(Je===null)try{et.stateNode.nodeValue=Oe?"":et.memoizedProps}catch(St){lr(s,s.return,St)}}else if((et.tag!==22&&et.tag!==23||et.memoizedState===null||et===s)&&et.child!==null){et.child.return=et,et=et.child;continue}if(et===s)break e;for(;et.sibling===null;){if(et.return===null||et.return===s)break e;Je===et&&(Je=null),et=et.return}Je===et&&(Je=null),et.sibling.return=et.return,et=et.sibling}}break;case 19:Fo(a,s),ca(s),g&4&&n0(s);break;case 21:break;default:Fo(a,s),ca(s)}}function ca(s){var a=s.flags;if(a&2){try{e:{for(var c=s.return;c!==null;){if(Z1(c)){var g=c;break e}c=c.return}throw Error(t(160))}switch(g.tag){case 5:var w=g.stateNode;g.flags&32&&(Ot(w,""),g.flags&=-33);var T=e0(s);jp(s,T,w);break;case 3:case 4:var z=g.stateNode.containerInfo,se=e0(s);Mp(s,se,z);break;default:throw Error(t(161))}}catch(fe){lr(s,s.return,fe)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _w(s,a,c){yt=s,i0(s)}function i0(s,a,c){for(var g=(s.mode&1)!==0;yt!==null;){var w=yt,T=w.child;if(w.tag===22&&g){var z=w.memoizedState!==null||Tf;if(!z){var se=w.alternate,fe=se!==null&&se.memoizedState!==null||Ti;se=Tf;var Oe=Ti;if(Tf=z,(Ti=fe)&&!Oe)for(yt=w;yt!==null;)z=yt,fe=z.child,z.tag===22&&z.memoizedState!==null?a0(w):fe!==null?(fe.return=z,yt=fe):a0(w);for(;T!==null;)yt=T,i0(T),T=T.sibling;yt=w,Tf=se,Ti=Oe}s0(s)}else(w.subtreeFlags&8772)!==0&&T!==null?(T.return=w,yt=T):s0(s)}}function s0(s){for(;yt!==null;){var a=yt;if((a.flags&8772)!==0){var c=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Ti||xf(5,a);break;case 1:var g=a.stateNode;if(a.flags&4&&!Ti)if(c===null)g.componentDidMount();else{var w=a.elementType===a.type?c.memoizedProps:Oo(a.type,c.memoizedProps);g.componentDidUpdate(w,c.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var T=a.updateQueue;T!==null&&qa(a,T,g);break;case 3:var z=a.updateQueue;if(z!==null){if(c=null,a.child!==null)switch(a.child.tag){case 5:c=a.child.stateNode;break;case 1:c=a.child.stateNode}qa(a,z,c)}break;case 5:var se=a.stateNode;if(c===null&&a.flags&4){c=se;var fe=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":fe.autoFocus&&c.focus();break;case"img":fe.src&&(c.src=fe.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var Oe=a.alternate;if(Oe!==null){var Je=Oe.memoizedState;if(Je!==null){var et=Je.dehydrated;et!==null&&Pr(et)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ti||a.flags&512&&Fp(a)}catch(Ye){lr(a,a.return,Ye)}}if(a===s){yt=null;break}if(c=a.sibling,c!==null){c.return=a.return,yt=c;break}yt=a.return}}function o0(s){for(;yt!==null;){var a=yt;if(a===s){yt=null;break}var c=a.sibling;if(c!==null){c.return=a.return,yt=c;break}yt=a.return}}function a0(s){for(;yt!==null;){var a=yt;try{switch(a.tag){case 0:case 11:case 15:var c=a.return;try{xf(4,a)}catch(fe){lr(a,c,fe)}break;case 1:var g=a.stateNode;if(typeof g.componentDidMount=="function"){var w=a.return;try{g.componentDidMount()}catch(fe){lr(a,w,fe)}}var T=a.return;try{Fp(a)}catch(fe){lr(a,T,fe)}break;case 5:var z=a.return;try{Fp(a)}catch(fe){lr(a,z,fe)}}}catch(fe){lr(a,a.return,fe)}if(a===s){yt=null;break}var se=a.sibling;if(se!==null){se.return=a.return,yt=se;break}yt=a.return}}var ww=Math.ceil,Pf=me.ReactCurrentDispatcher,Vp=me.ReactCurrentOwner,oo=me.ReactCurrentBatchConfig,hn=0,Kr=null,br=null,ui=0,Ds=0,yc=ks(0),Rr=0,mh=null,Lu=0,Nf=0,Bp=0,vh=null,ds=null,Up=0,_c=1/0,$a=null,Cf=!1,zp=null,Ml=null,kf=!1,jl=null,Lf=0,yh=0,qp=null,Rf=-1,Of=0;function Yi(){return(hn&6)!==0?En():Rf!==-1?Rf:Rf=En()}function Vl(s){return(s.mode&1)===0?1:(hn&2)!==0&&ui!==0?ui&-ui:In.transition!==null?(Of===0&&(Of=qs()),Of):(s=Kt,s!==0||(s=window.event,s=s===void 0?16:Jo(s.type)),s)}function Mo(s,a,c,g){if(50<yh)throw yh=0,qp=null,Error(t(185));Es(s,c,g),((hn&2)===0||s!==Kr)&&(s===Kr&&((hn&2)===0&&(Nf|=c),Rr===4&&Bl(s,ui)),ps(s,g),c===1&&hn===0&&(a.mode&1)===0&&(_c=En()+500,Pu&&x()))}function ps(s,a){var c=s.callbackNode;$n(s,a);var g=Ir(s,s===Kr?ui:0);if(g===0)c!==null&&Vs(c),s.callbackNode=null,s.callbackPriority=0;else if(a=g&-g,s.callbackPriority!==a){if(c!=null&&Vs(c),a===1)s.tag===0?S(u0.bind(null,s)):m(u0.bind(null,s)),yp(function(){(hn&6)===0&&x()}),c=null;else{switch(Zi(g)){case 1:c=Xi;break;case 4:c=bs;break;case 16:c=mi;break;case 536870912:c=ul;break;default:c=mi}c=v0(c,l0.bind(null,s))}s.callbackPriority=a,s.callbackNode=c}}function l0(s,a){if(Rf=-1,Of=0,(hn&6)!==0)throw Error(t(327));var c=s.callbackNode;if(wc()&&s.callbackNode!==c)return null;var g=Ir(s,s===Kr?ui:0);if(g===0)return null;if((g&30)!==0||(g&s.expiredLanes)!==0||a)a=Df(s,g);else{a=g;var w=hn;hn|=2;var T=h0();(Kr!==s||ui!==a)&&($a=null,_c=En()+500,Ou(s,a));do try{Ew();break}catch(se){c0(s,se)}while(!0);Lr(),Pf.current=T,hn=w,br!==null?a=0:(Kr=null,ui=0,a=Rr)}if(a!==0){if(a===2&&(w=Tr(s),w!==0&&(g=w,a=Hp(s,w))),a===1)throw c=mh,Ou(s,0),Bl(s,g),ps(s,En()),c;if(a===6)Bl(s,g);else{if(w=s.current.alternate,(g&30)===0&&!Sw(w)&&(a=Df(s,g),a===2&&(T=Tr(s),T!==0&&(g=T,a=Hp(s,T))),a===1))throw c=mh,Ou(s,0),Bl(s,g),ps(s,En()),c;switch(s.finishedWork=w,s.finishedLanes=g,a){case 0:case 1:throw Error(t(345));case 2:Du(s,ds,$a);break;case 3:if(Bl(s,g),(g&130023424)===g&&(a=Up+500-En(),10<a)){if(Ir(s,0)!==0)break;if(w=s.suspendedLanes,(w&g)!==g){Yi(),s.pingedLanes|=s.suspendedLanes&w;break}s.timeoutHandle=ih(Du.bind(null,s,ds,$a),a);break}Du(s,ds,$a);break;case 4:if(Bl(s,g),(g&4194240)===g)break;for(a=s.eventTimes,w=-1;0<g;){var z=31-Ar(g);T=1<<z,z=a[z],z>w&&(w=z),g&=~T}if(g=w,g=En()-g,g=(120>g?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*ww(g/1960))-g,10<g){s.timeoutHandle=ih(Du.bind(null,s,ds,$a),g);break}Du(s,ds,$a);break;case 5:Du(s,ds,$a);break;default:throw Error(t(329))}}}return ps(s,En()),s.callbackNode===c?l0.bind(null,s):null}function Hp(s,a){var c=vh;return s.current.memoizedState.isDehydrated&&(Ou(s,a).flags|=256),s=Df(s,a),s!==2&&(a=ds,ds=c,a!==null&&Wp(a)),s}function Wp(s){ds===null?ds=s:ds.push.apply(ds,s)}function Sw(s){for(var a=s;;){if(a.flags&16384){var c=a.updateQueue;if(c!==null&&(c=c.stores,c!==null))for(var g=0;g<c.length;g++){var w=c[g],T=w.getSnapshot;w=w.value;try{if(!cn(T(),w))return!1}catch{return!1}}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Bl(s,a){for(a&=~Bp,a&=~Nf,s.suspendedLanes|=a,s.pingedLanes&=~a,s=s.expirationTimes;0<a;){var c=31-Ar(a),g=1<<c;s[c]=-1,a&=~g}}function u0(s){if((hn&6)!==0)throw Error(t(327));wc();var a=Ir(s,0);if((a&1)===0)return ps(s,En()),null;var c=Df(s,a);if(s.tag!==0&&c===2){var g=Tr(s);g!==0&&(a=g,c=Hp(s,g))}if(c===1)throw c=mh,Ou(s,0),Bl(s,a),ps(s,En()),c;if(c===6)throw Error(t(345));return s.finishedWork=s.current.alternate,s.finishedLanes=a,Du(s,ds,$a),ps(s,En()),null}function $p(s,a){var c=hn;hn|=1;try{return s(a)}finally{hn=c,hn===0&&(_c=En()+500,Pu&&x())}}function Ru(s){jl!==null&&jl.tag===0&&(hn&6)===0&&wc();var a=hn;hn|=1;var c=oo.transition,g=Kt;try{if(oo.transition=null,Kt=1,s)return s()}finally{Kt=g,oo.transition=c,hn=a,(hn&6)===0&&x()}}function Gp(){Ds=yc.current,wn(yc)}function Ou(s,a){s.finishedWork=null,s.finishedLanes=0;var c=s.timeoutHandle;if(c!==-1&&(s.timeoutHandle=-1,df(c)),br!==null)for(c=br.return;c!==null;){var g=c;switch(de(g),g.tag){case 1:g=g.type.childContextTypes,g!=null&&sc();break;case 3:ro(),wn(bi),wn(kr),hh();break;case 5:uh(g);break;case 4:ro();break;case 13:wn(Dn);break;case 19:wn(Dn);break;case 10:Ai(g.type._context);break;case 22:case 23:Gp()}c=c.return}if(Kr=s,br=s=Ul(s.current,null),ui=Ds=a,Rr=0,mh=null,Bp=Nf=Lu=0,ds=vh=null,Wi!==null){for(a=0;a<Wi.length;a++)if(c=Wi[a],g=c.interleaved,g!==null){c.interleaved=null;var w=g.next,T=c.pending;if(T!==null){var z=T.next;T.next=w,g.next=z}c.pending=g}Wi=null}return s}function c0(s,a){do{var c=br;try{if(Lr(),ac.current=bf,Rl){for(var g=Mn.memoizedState;g!==null;){var w=g.queue;w!==null&&(w.pending=null),g=g.next}Rl=!1}if(io=0,er=ar=Mn=null,Lo=!1,Ol=0,Vp.current=null,c===null||c.return===null){Rr=1,mh=a,br=null;break}e:{var T=s,z=c.return,se=c,fe=a;if(a=ui,se.flags|=32768,fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Oe=fe,Je=se,et=Je.tag;if((Je.mode&1)===0&&(et===0||et===11||et===15)){var Ye=Je.alternate;Ye?(Je.updateQueue=Ye.updateQueue,Je.memoizedState=Ye.memoizedState,Je.lanes=Ye.lanes):(Je.updateQueue=null,Je.memoizedState=null)}var dt=D1(z);if(dt!==null){dt.flags&=-257,F1(dt,z,se,T,a),dt.mode&1&&O1(T,Oe,a),a=dt,fe=Oe;var _t=a.updateQueue;if(_t===null){var St=new Set;St.add(fe),a.updateQueue=St}else _t.add(fe);break e}else{if((a&1)===0){O1(T,Oe,a),Kp();break e}fe=Error(t(426))}}else if(Me&&se.mode&1){var dr=D1(z);if(dr!==null){(dr.flags&65536)===0&&(dr.flags|=256),F1(dr,z,se,T,a),Sn(mc(fe,se));break e}}T=fe=mc(fe,se),Rr!==4&&(Rr=2),vh===null?vh=[T]:vh.push(T),T=z;do{switch(T.tag){case 3:T.flags|=65536,a&=-a,T.lanes|=a;var Pe=L1(T,fe,a);hs(T,Pe);break e;case 1:se=fe;var _e=T.type,Le=T.stateNode;if((T.flags&128)===0&&(typeof _e.getDerivedStateFromError=="function"||Le!==null&&typeof Le.componentDidCatch=="function"&&(Ml===null||!Ml.has(Le)))){T.flags|=65536,a&=-a,T.lanes|=a;var rt=R1(T,se,a);hs(T,rt);break e}}T=T.return}while(T!==null)}d0(c)}catch(Et){a=Et,br===c&&c!==null&&(br=c=c.return);continue}break}while(!0)}function h0(){var s=Pf.current;return Pf.current=bf,s===null?bf:s}function Kp(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Kr===null||(Lu&268435455)===0&&(Nf&268435455)===0||Bl(Kr,ui)}function Df(s,a){var c=hn;hn|=2;var g=h0();(Kr!==s||ui!==a)&&($a=null,Ou(s,a));do try{bw();break}catch(w){c0(s,w)}while(!0);if(Lr(),hn=c,Pf.current=g,br!==null)throw Error(t(261));return Kr=null,ui=0,Rr}function bw(){for(;br!==null;)f0(br)}function Ew(){for(;br!==null&&!co();)f0(br)}function f0(s){var a=m0(s.alternate,s,Ds);s.memoizedProps=s.pendingProps,a===null?d0(s):br=a,Vp.current=null}function d0(s){var a=s;do{var c=a.alternate;if(s=a.return,(a.flags&32768)===0){if(c=gw(c,a,Ds),c!==null){br=c;return}}else{if(c=mw(c,a),c!==null){c.flags&=32767,br=c;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{Rr=6,br=null;return}}if(a=a.sibling,a!==null){br=a;return}br=a=s}while(a!==null);Rr===0&&(Rr=5)}function Du(s,a,c){var g=Kt,w=oo.transition;try{oo.transition=null,Kt=1,Aw(s,a,c,g)}finally{oo.transition=w,Kt=g}return null}function Aw(s,a,c,g){do wc();while(jl!==null);if((hn&6)!==0)throw Error(t(327));c=s.finishedWork;var w=s.finishedLanes;if(c===null)return null;if(s.finishedWork=null,s.finishedLanes=0,c===s.current)throw Error(t(177));s.callbackNode=null,s.callbackPriority=0;var T=c.lanes|c.childLanes;if(vn(s,T),s===Kr&&(br=Kr=null,ui=0),(c.subtreeFlags&2064)===0&&(c.flags&2064)===0||kf||(kf=!0,v0(mi,function(){return wc(),null})),T=(c.flags&15990)!==0,(c.subtreeFlags&15990)!==0||T){T=oo.transition,oo.transition=null;var z=Kt;Kt=1;var se=hn;hn|=4,Vp.current=null,yw(s,c),r0(c,s),Ra(ja),$s=!!Tu,ja=Tu=null,s.current=c,_w(c),al(),hn=se,Kt=z,oo.transition=T}else s.current=c;if(kf&&(kf=!1,jl=s,Lf=w),T=s.pendingLanes,T===0&&(Ml=null),fo(c.stateNode),ps(s,En()),a!==null)for(g=s.onRecoverableError,c=0;c<a.length;c++)w=a[c],g(w.value,{componentStack:w.stack,digest:w.digest});if(Cf)throw Cf=!1,s=zp,zp=null,s;return(Lf&1)!==0&&s.tag!==0&&wc(),T=s.pendingLanes,(T&1)!==0?s===qp?yh++:(yh=0,qp=s):yh=0,x(),null}function wc(){if(jl!==null){var s=Zi(Lf),a=oo.transition,c=Kt;try{if(oo.transition=null,Kt=16>s?16:s,jl===null)var g=!1;else{if(s=jl,jl=null,Lf=0,(hn&6)!==0)throw Error(t(331));var w=hn;for(hn|=4,yt=s.current;yt!==null;){var T=yt,z=T.child;if((yt.flags&16)!==0){var se=T.deletions;if(se!==null){for(var fe=0;fe<se.length;fe++){var Oe=se[fe];for(yt=Oe;yt!==null;){var Je=yt;switch(Je.tag){case 0:case 11:case 15:gh(8,Je,T)}var et=Je.child;if(et!==null)et.return=Je,yt=et;else for(;yt!==null;){Je=yt;var Ye=Je.sibling,dt=Je.return;if(X1(Je),Je===Oe){yt=null;break}if(Ye!==null){Ye.return=dt,yt=Ye;break}yt=dt}}}var _t=T.alternate;if(_t!==null){var St=_t.child;if(St!==null){_t.child=null;do{var dr=St.sibling;St.sibling=null,St=dr}while(St!==null)}}yt=T}}if((T.subtreeFlags&2064)!==0&&z!==null)z.return=T,yt=z;else e:for(;yt!==null;){if(T=yt,(T.flags&2048)!==0)switch(T.tag){case 0:case 11:case 15:gh(9,T,T.return)}var Pe=T.sibling;if(Pe!==null){Pe.return=T.return,yt=Pe;break e}yt=T.return}}var _e=s.current;for(yt=_e;yt!==null;){z=yt;var Le=z.child;if((z.subtreeFlags&2064)!==0&&Le!==null)Le.return=z,yt=Le;else e:for(z=_e;yt!==null;){if(se=yt,(se.flags&2048)!==0)try{switch(se.tag){case 0:case 11:case 15:xf(9,se)}}catch(Et){lr(se,se.return,Et)}if(se===z){yt=null;break e}var rt=se.sibling;if(rt!==null){rt.return=se.return,yt=rt;break e}yt=se.return}}if(hn=w,x(),Xr&&typeof Xr.onPostCommitFiberRoot=="function")try{Xr.onPostCommitFiberRoot(Bs,s)}catch{}g=!0}return g}finally{Kt=c,oo.transition=a}}return!1}function p0(s,a,c){a=mc(c,a),a=L1(s,a,1),s=cs(s,a,1),a=Yi(),s!==null&&(Es(s,1,a),ps(s,a))}function lr(s,a,c){if(s.tag===3)p0(s,s,c);else for(;a!==null;){if(a.tag===3){p0(a,s,c);break}else if(a.tag===1){var g=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ml===null||!Ml.has(g))){s=mc(c,s),s=R1(a,s,1),a=cs(a,s,1),s=Yi(),a!==null&&(Es(a,1,s),ps(a,s));break}}a=a.return}}function Iw(s,a,c){var g=s.pingCache;g!==null&&g.delete(a),a=Yi(),s.pingedLanes|=s.suspendedLanes&c,Kr===s&&(ui&c)===c&&(Rr===4||Rr===3&&(ui&130023424)===ui&&500>En()-Up?Ou(s,0):Bp|=c),ps(s,a)}function g0(s,a){a===0&&((s.mode&1)===0?a=1:(a=Us,Us<<=1,(Us&130023424)===0&&(Us=4194304)));var c=Yi();s=gn(s,a),s!==null&&(Es(s,a,c),ps(s,c))}function Tw(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),g0(s,c)}function xw(s,a){var c=0;switch(s.tag){case 13:var g=s.stateNode,w=s.memoizedState;w!==null&&(c=w.retryLane);break;case 19:g=s.stateNode;break;default:throw Error(t(314))}g!==null&&g.delete(a),g0(s,c)}var m0;m0=function(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps||bi.current)fs=!0;else{if((s.lanes&c)===0&&(a.flags&128)===0)return fs=!1,pw(s,a,c);fs=(s.flags&131072)!==0}else fs=!1,Me&&(a.flags&1048576)!==0&&qe(a,$,a.index);switch(a.lanes=0,a.tag){case 2:var g=a.type;If(s,a),s=a.pendingProps;var w=Nl(a,kr.current);zn(a,c),w=Nu(null,a,g,s,w,c);var T=so();return a.flags|=1,typeof w=="object"&&w!==null&&typeof w.render=="function"&&w.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Ei(g)?(T=!0,Ua(a)):T=!1,a.memoizedState=w.state!==null&&w.state!==void 0?w.state:null,oc(a),w.updater=Ef,a.stateNode=w,w._reactInternals=a,Ip(a,g,s,c),a=Np(null,a,g,!0,T,c)):(a.tag=0,Me&&T&&De(a),Qi(null,a,w,c),a=a.child),a;case 16:g=a.elementType;e:{switch(If(s,a),s=a.pendingProps,w=g._init,g=w(g._payload),a.type=g,w=a.tag=Nw(g),s=Oo(g,s),w){case 0:a=Pp(null,a,g,s,c);break e;case 1:a=z1(null,a,g,s,c);break e;case 11:a=M1(null,a,g,s,c);break e;case 14:a=j1(null,a,g,Oo(g.type,s),c);break e}throw Error(t(306,g,""))}return a;case 0:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Oo(g,w),Pp(s,a,g,w,c);case 1:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Oo(g,w),z1(s,a,g,w,c);case 3:e:{if(q1(a),s===null)throw Error(t(387));g=a.pendingProps,T=a.memoizedState,w=T.element,lh(s,a),Co(a,g,null,c);var z=a.memoizedState;if(g=z.element,T.isDehydrated)if(T={element:g,isDehydrated:!1,cache:z.cache,pendingSuspenseBoundaries:z.pendingSuspenseBoundaries,transitions:z.transitions},a.updateQueue.baseState=T,a.memoizedState=T,a.flags&256){w=mc(Error(t(423)),a),a=H1(s,a,g,c,w);break e}else if(g!==w){w=mc(Error(t(424)),a),a=H1(s,a,g,c,w);break e}else for(je=oi(a.stateNode.containerInfo.firstChild),pe=a,Me=!0,Ue=null,c=pn(a,null,g,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling;else{if(Gt(),g===w){a=Wa(s,a,c);break e}Qi(s,a,g,c)}a=a.child}return a;case 5:return vf(a),s===null&&ut(a),g=a.type,w=a.pendingProps,T=s!==null?s.memoizedProps:null,z=w.children,rh(g,w)?z=null:T!==null&&rh(g,T)&&(a.flags|=32),U1(s,a),Qi(s,a,z,c),a.child;case 6:return s===null&&ut(a),null;case 13:return W1(s,a,c);case 4:return Ll(a,a.stateNode.containerInfo),g=a.pendingProps,s===null?a.child=cr(a,null,g,c):Qi(s,a,g,c),a.child;case 11:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Oo(g,w),M1(s,a,g,w,c);case 7:return Qi(s,a,a.pendingProps,c),a.child;case 8:return Qi(s,a,a.pendingProps.children,c),a.child;case 12:return Qi(s,a,a.pendingProps.children,c),a.child;case 10:e:{if(g=a.type._context,w=a.pendingProps,T=a.memoizedProps,z=w.value,An($r,g._currentValue),g._currentValue=z,T!==null)if(cn(T.value,z)){if(T.children===w.children&&!bi.current){a=Wa(s,a,c);break e}}else for(T=a.child,T!==null&&(T.return=a);T!==null;){var se=T.dependencies;if(se!==null){z=T.child;for(var fe=se.firstContext;fe!==null;){if(fe.context===g){if(T.tag===1){fe=us(-1,c&-c),fe.tag=2;var Oe=T.updateQueue;if(Oe!==null){Oe=Oe.shared;var Je=Oe.pending;Je===null?fe.next=fe:(fe.next=Je.next,Je.next=fe),Oe.pending=fe}}T.lanes|=c,fe=T.alternate,fe!==null&&(fe.lanes|=c),ls(T.return,c,a),se.lanes|=c;break}fe=fe.next}}else if(T.tag===10)z=T.type===a.type?null:T.child;else if(T.tag===18){if(z=T.return,z===null)throw Error(t(341));z.lanes|=c,se=z.alternate,se!==null&&(se.lanes|=c),ls(z,c,a),z=T.sibling}else z=T.child;if(z!==null)z.return=T;else for(z=T;z!==null;){if(z===a){z=null;break}if(T=z.sibling,T!==null){T.return=z.return,z=T;break}z=z.return}T=z}Qi(s,a,w.children,c),a=a.child}return a;case 9:return w=a.type,g=a.pendingProps.children,zn(a,c),w=or(w),g=g(w),a.flags|=1,Qi(s,a,g,c),a.child;case 14:return g=a.type,w=Oo(g,a.pendingProps),w=Oo(g.type,w),j1(s,a,g,w,c);case 15:return V1(s,a,a.type,a.pendingProps,c);case 17:return g=a.type,w=a.pendingProps,w=a.elementType===g?w:Oo(g,w),If(s,a),a.tag=1,Ei(g)?(s=!0,Ua(a)):s=!1,zn(a,c),C1(a,g,w),Ip(a,g,w,c),Np(null,a,g,!0,s,c);case 19:return G1(s,a,c);case 22:return B1(s,a,c)}throw Error(t(156,a.tag))};function v0(s,a){return Ss(s,a)}function Pw(s,a,c,g){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ao(s,a,c,g){return new Pw(s,a,c,g)}function Qp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Nw(s){if(typeof s=="function")return Qp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===C)return 11;if(s===Ne)return 14}return 2}function Ul(s,a){var c=s.alternate;return c===null?(c=ao(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&14680064,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c}function Ff(s,a,c,g,w,T){var z=2;if(g=s,typeof s=="function")Qp(s)&&(z=1);else if(typeof s=="string")z=5;else e:switch(s){case q:return Fu(c.children,w,T,a);case A:z=8,w|=8;break;case N:return s=ao(12,c,a,w|2),s.elementType=N,s.lanes=T,s;case R:return s=ao(13,c,a,w),s.elementType=R,s.lanes=T,s;case ie:return s=ao(19,c,a,w),s.elementType=ie,s.lanes=T,s;case ye:return Mf(c,w,T,a);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case O:z=10;break e;case P:z=9;break e;case C:z=11;break e;case Ne:z=14;break e;case Ae:z=16,g=null;break e}throw Error(t(130,s==null?s:typeof s,""))}return a=ao(z,c,a,w),a.elementType=s,a.type=g,a.lanes=T,a}function Fu(s,a,c,g){return s=ao(7,s,g,a),s.lanes=c,s}function Mf(s,a,c,g){return s=ao(22,s,g,a),s.elementType=ye,s.lanes=c,s.stateNode={isHidden:!1},s}function Yp(s,a,c){return s=ao(6,s,null,a),s.lanes=c,s}function Jp(s,a,c){return a=ao(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}function Cw(s,a,c,g,w){this.tag=a,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Hs(0),this.expirationTimes=Hs(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Hs(0),this.identifierPrefix=g,this.onRecoverableError=w,this.mutableSourceEagerHydrationData=null}function Xp(s,a,c,g,w,T,z,se,fe){return s=new Cw(s,a,c,se,fe),a===1?(a=1,T===!0&&(a|=8)):a=0,T=ao(3,null,null,a),s.current=T,T.stateNode=s,T.memoizedState={element:g,isDehydrated:c,cache:null,transitions:null,pendingSuspenseBoundaries:null},oc(T),s}function kw(s,a,c){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ee,key:g==null?null:""+g,children:s,containerInfo:a,implementation:c}}function y0(s){if(!s)return oa;s=s._reactInternals;e:{if(Xn(s)!==s||s.tag!==1)throw Error(t(170));var a=s;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Ei(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(t(171))}if(s.tag===1){var c=s.type;if(Ei(c))return ah(s,c,a)}return a}function _0(s,a,c,g,w,T,z,se,fe){return s=Xp(c,g,!0,s,w,T,z,se,fe),s.context=y0(null),c=s.current,g=Yi(),w=Vl(c),T=us(g,w),T.callback=a??null,cs(c,T,w),s.current.lanes=w,Es(s,w,g),ps(s,g),s}function jf(s,a,c,g){var w=a.current,T=Yi(),z=Vl(w);return c=y0(c),a.context===null?a.context=c:a.pendingContext=c,a=us(T,z),a.payload={element:s},g=g===void 0?null:g,g!==null&&(a.callback=g),s=cs(w,a,z),s!==null&&(Mo(s,w,z,T),za(s,w,z)),z}function Vf(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function w0(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Zp(s,a){w0(s,a),(s=s.alternate)&&w0(s,a)}function Lw(){return null}var S0=typeof reportError=="function"?reportError:function(s){console.error(s)};function eg(s){this._internalRoot=s}Bf.prototype.render=eg.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(t(409));jf(s,a,null,null)},Bf.prototype.unmount=eg.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;Ru(function(){jf(null,s,null,null)}),a[Wr]=null}};function Bf(s){this._internalRoot=s}Bf.prototype.unstable_scheduleHydration=function(s){if(s){var a=es();s={blockedOn:null,target:s,priority:a};for(var c=0;c<ts.length&&a!==0&&a<ts[c].priority;c++);ts.splice(c,0,s),c===0&&Yo(s)}};function tg(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function Uf(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function b0(){}function Rw(s,a,c,g,w){if(w){if(typeof g=="function"){var T=g;g=function(){var Oe=Vf(z);T.call(Oe)}}var z=_0(a,g,s,0,null,!1,!1,"",b0);return s._reactRootContainer=z,s[Wr]=z.current,Fa(s.nodeType===8?s.parentNode:s),Ru(),z}for(;w=s.lastChild;)s.removeChild(w);if(typeof g=="function"){var se=g;g=function(){var Oe=Vf(fe);se.call(Oe)}}var fe=Xp(s,0,!1,null,null,!1,!1,"",b0);return s._reactRootContainer=fe,s[Wr]=fe.current,Fa(s.nodeType===8?s.parentNode:s),Ru(function(){jf(a,fe,c,g)}),fe}function zf(s,a,c,g,w){var T=c._reactRootContainer;if(T){var z=T;if(typeof w=="function"){var se=w;w=function(){var fe=Vf(z);se.call(fe)}}jf(a,z,s,w)}else z=Rw(c,a,s,w,g);return Vf(z)}cl=function(s){switch(s.tag){case 3:var a=s.stateNode;if(a.current.memoizedState.isDehydrated){var c=zs(a.pendingLanes);c!==0&&(As(a,c|1),ps(a,En()),(hn&6)===0&&(_c=En()+500,x()))}break;case 13:Ru(function(){var g=gn(s,1);if(g!==null){var w=Yi();Mo(g,s,1,w)}}),Zp(s,1)}},Ko=function(s){if(s.tag===13){var a=gn(s,134217728);if(a!==null){var c=Yi();Mo(a,s,134217728,c)}Zp(s,134217728)}},hl=function(s){if(s.tag===13){var a=Vl(s),c=gn(s,a);if(c!==null){var g=Yi();Mo(c,s,a,g)}Zp(s,a)}},es=function(){return Kt},go=function(s,a){var c=Kt;try{return Kt=s,a()}finally{Kt=c}},xn=function(s,a,c){switch(a){case"input":if(bt(s,c),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<c.length;a++){var g=c[a];if(g!==s&&g.form===s.form){var w=xu(g);if(!w)throw Error(t(90));Ke(g),bt(g,w)}}}break;case"textarea":gt(s,c);break;case"select":a=c.value,a!=null&&nt(s,!!c.multiple,a,!1)}},Fi=$p,Jn=Ru;var Ow={usingClientEntryPoint:!1,Events:[Pl,Va,xu,xt,Zt,$p]},_h={findFiberByHostInstance:sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Dw={bundleType:_h.bundleType,version:_h.version,rendererPackageName:_h.rendererPackageName,rendererConfig:_h.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:me.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=_s(s),s===null?null:s.stateNode},findFiberByHostInstance:_h.findFiberByHostInstance||Lw,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qf.isDisabled&&qf.supportsFiber)try{Bs=qf.inject(Dw),Xr=qf}catch{}}return gs.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ow,gs.createPortal=function(s,a){var c=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!tg(a))throw Error(t(200));return kw(s,a,null,c)},gs.createRoot=function(s,a){if(!tg(s))throw Error(t(299));var c=!1,g="",w=S0;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(g=a.identifierPrefix),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=Xp(s,1,!1,null,null,c,!1,g,w),s[Wr]=a.current,Fa(s.nodeType===8?s.parentNode:s),new eg(a)},gs.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(t(188)):(s=Object.keys(s).join(","),Error(t(268,s)));return s=_s(a),s=s===null?null:s.stateNode,s},gs.flushSync=function(s){return Ru(s)},gs.hydrate=function(s,a,c){if(!Uf(a))throw Error(t(200));return zf(null,s,a,!0,c)},gs.hydrateRoot=function(s,a,c){if(!tg(s))throw Error(t(405));var g=c!=null&&c.hydratedSources||null,w=!1,T="",z=S0;if(c!=null&&(c.unstable_strictMode===!0&&(w=!0),c.identifierPrefix!==void 0&&(T=c.identifierPrefix),c.onRecoverableError!==void 0&&(z=c.onRecoverableError)),a=_0(a,null,s,1,c??null,w,!1,T,z),s[Wr]=a.current,Fa(s),g)for(s=0;s<g.length;s++)c=g[s],w=c._getVersion,w=w(c._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[c,w]:a.mutableSourceEagerHydrationData.push(c,w);return new Bf(a)},gs.render=function(s,a,c){if(!Uf(a))throw Error(t(200));return zf(null,s,a,!1,c)},gs.unmountComponentAtNode=function(s){if(!Uf(s))throw Error(t(40));return s._reactRootContainer?(Ru(function(){zf(null,null,s,!1,function(){s._reactRootContainer=null,s[Wr]=null})}),!0):!1},gs.unstable_batchedUpdates=$p,gs.unstable_renderSubtreeIntoContainer=function(s,a,c,g){if(!Uf(c))throw Error(t(200));if(s==null||s._reactInternals===void 0)throw Error(t(38));return zf(s,a,c,!1,g)},gs.version="18.3.1-next-f1338f8080-20240426",gs}var C0;function zv(){if(C0)return ig.exports;C0=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),ig.exports=Hw(),ig.exports}var k0;function Ww(){if(k0)return Hf;k0=1;var n=zv();return Hf.createRoot=n.createRoot,Hf.hydrateRoot=n.hydrateRoot,Hf}var $w=Ww();const Gw=bm($w);zv();/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function jh(){return jh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},jh.apply(this,arguments)}var Yl;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(Yl||(Yl={}));const L0="popstate";function Kw(n){n===void 0&&(n={});function e(r,i){let{pathname:o,search:l,hash:u}=r.location;return Rg("",{pathname:o,search:l,hash:u},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:_d(i)}return Yw(e,t,null,n)}function yr(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function qv(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Qw(){return Math.random().toString(36).substr(2,8)}function R0(n,e){return{usr:n.state,key:n.key,idx:e}}function Rg(n,e,t,r){return t===void 0&&(t=null),jh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof e=="string"?Qc(e):e,{state:t,key:e&&e.key||r||Qw()})}function _d(n){let{pathname:e="/",search:t="",hash:r=""}=n;return t&&t!=="?"&&(e+=t.charAt(0)==="?"?t:"?"+t),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Qc(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substr(t),n=n.substr(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substr(r),n=n.substr(0,r)),n&&(e.pathname=n)}return e}function Yw(n,e,t,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:o=!1}=r,l=i.history,u=Yl.Pop,h=null,p=v();p==null&&(p=0,l.replaceState(jh({},l.state,{idx:p}),""));function v(){return(l.state||{idx:null}).idx}function _(){u=Yl.Pop;let B=v(),V=B==null?null:B-p;p=B,h&&h({action:u,location:M.location,delta:V})}function I(B,V){u=Yl.Push;let Q=Rg(M.location,B,V);p=v()+1;let ne=R0(Q,p),me=M.createHref(Q);try{l.pushState(ne,"",me)}catch(xe){if(xe instanceof DOMException&&xe.name==="DataCloneError")throw xe;i.location.assign(me)}o&&h&&h({action:u,location:M.location,delta:1})}function b(B,V){u=Yl.Replace;let Q=Rg(M.location,B,V);p=v();let ne=R0(Q,p),me=M.createHref(Q);l.replaceState(ne,"",me),o&&h&&h({action:u,location:M.location,delta:0})}function j(B){let V=i.location.origin!=="null"?i.location.origin:i.location.href,Q=typeof B=="string"?B:_d(B);return Q=Q.replace(/ $/,"%20"),yr(V,"No window.location.(origin|href) available to create URL for href: "+Q),new URL(Q,V)}let M={get action(){return u},get location(){return n(i,l)},listen(B){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(L0,_),h=B,()=>{i.removeEventListener(L0,_),h=null}},createHref(B){return e(i,B)},createURL:j,encodeLocation(B){let V=j(B);return{pathname:V.pathname,search:V.search,hash:V.hash}},push:I,replace:b,go(B){return l.go(B)}};return M}var O0;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(O0||(O0={}));function Jw(n,e,t){return t===void 0&&(t="/"),Xw(n,e,t)}function Xw(n,e,t,r){let i=typeof e=="string"?Qc(e):e,o=Am(i.pathname||"/",t);if(o==null)return null;let l=Hv(n);Zw(l);let u=null;for(let h=0;u==null&&h<l.length;++h){let p=h4(o);u=l4(l[h],p)}return u}function Hv(n,e,t,r){e===void 0&&(e=[]),t===void 0&&(t=[]),r===void 0&&(r="");let i=(o,l,u)=>{let h={relativePath:u===void 0?o.path||"":u,caseSensitive:o.caseSensitive===!0,childrenIndex:l,route:o};h.relativePath.startsWith("/")&&(yr(h.relativePath.startsWith(r),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(r.length));let p=Zl([r,h.relativePath]),v=t.concat(h);o.children&&o.children.length>0&&(yr(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Hv(o.children,e,v,p)),!(o.path==null&&!o.index)&&e.push({path:p,score:o4(p,o.index),routesMeta:v})};return n.forEach((o,l)=>{var u;if(o.path===""||!((u=o.path)!=null&&u.includes("?")))i(o,l);else for(let h of Wv(o.path))i(o,l,h)}),e}function Wv(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),o=t.replace(/\?$/,"");if(r.length===0)return i?[o,""]:[o];let l=Wv(r.join("/")),u=[];return u.push(...l.map(h=>h===""?o:[o,h].join("/"))),i&&u.push(...l),u.map(h=>n.startsWith("/")&&h===""?"/":h)}function Zw(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:a4(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}const e4=/^:[\w-]+$/,t4=3,n4=2,r4=1,i4=10,s4=-2,D0=n=>n==="*";function o4(n,e){let t=n.split("/"),r=t.length;return t.some(D0)&&(r+=s4),e&&(r+=n4),t.filter(i=>!D0(i)).reduce((i,o)=>i+(e4.test(o)?t4:o===""?r4:i4),r)}function a4(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function l4(n,e,t){let{routesMeta:r}=n,i={},o="/",l=[];for(let u=0;u<r.length;++u){let h=r[u],p=u===r.length-1,v=o==="/"?e:e.slice(o.length)||"/",_=u4({path:h.relativePath,caseSensitive:h.caseSensitive,end:p},v),I=h.route;if(!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:Zl([o,_.pathname]),pathnameBase:g4(Zl([o,_.pathnameBase])),route:I}),_.pathnameBase!=="/"&&(o=Zl([o,_.pathnameBase]))}return l}function u4(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=c4(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let o=i[0],l=o.replace(/(.)\/+$/,"$1"),u=i.slice(1);return{params:r.reduce((p,v,_)=>{let{paramName:I,isOptional:b}=v;if(I==="*"){let M=u[_]||"";l=o.slice(0,o.length-M.length).replace(/(.)\/+$/,"$1")}const j=u[_];return b&&!j?p[I]=void 0:p[I]=(j||"").replace(/%2F/g,"/"),p},{}),pathname:o,pathnameBase:l,pattern:n}}function c4(n,e,t){e===void 0&&(e=!1),t===void 0&&(t=!0),qv(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,u,h)=>(r.push({paramName:u,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function h4(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qv(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),n}}function Am(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function f4(n,e){e===void 0&&(e="/");let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?Qc(n):n;return{pathname:t?t.startsWith("/")?t:d4(t,e):e,search:m4(r),hash:v4(i)}}function d4(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function ag(n,e,t,r){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+t+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function p4(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Im(n,e){let t=p4(n);return e?t.map((r,i)=>i===t.length-1?r.pathname:r.pathnameBase):t.map(r=>r.pathnameBase)}function Tm(n,e,t,r){r===void 0&&(r=!1);let i;typeof n=="string"?i=Qc(n):(i=jh({},n),yr(!i.pathname||!i.pathname.includes("?"),ag("?","pathname","search",i)),yr(!i.pathname||!i.pathname.includes("#"),ag("#","pathname","hash",i)),yr(!i.search||!i.search.includes("#"),ag("#","search","hash",i)));let o=n===""||i.pathname==="",l=o?"/":i.pathname,u;if(l==null)u=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let I=l.split("/");for(;I[0]==="..";)I.shift(),_-=1;i.pathname=I.join("/")}u=_>=0?e[_]:"/"}let h=f4(i,u),p=l&&l!=="/"&&l.endsWith("/"),v=(o||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(p||v)&&(h.pathname+="/"),h}const Zl=n=>n.join("/").replace(/\/\/+/g,"/"),g4=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),m4=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,v4=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function y4(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const $v=["post","put","patch","delete"];new Set($v);const _4=["get",...$v];new Set(_4);/**
 * React Router v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Vh.apply(this,arguments)}const xm=ot.createContext(null),w4=ot.createContext(null),pu=ot.createContext(null),Wd=ot.createContext(null),gu=ot.createContext({outlet:null,matches:[],isDataRoute:!1}),Gv=ot.createContext(null);function S4(n,e){let{relative:t}=e===void 0?{}:e;Yc()||yr(!1);let{basename:r,navigator:i}=ot.useContext(pu),{hash:o,pathname:l,search:u}=Qv(n,{relative:t}),h=l;return r!=="/"&&(h=l==="/"?r:Zl([r,l])),i.createHref({pathname:h,search:u,hash:o})}function Yc(){return ot.useContext(Wd)!=null}function Jh(){return Yc()||yr(!1),ot.useContext(Wd).location}function Kv(n){ot.useContext(pu).static||ot.useLayoutEffect(n)}function $d(){let{isDataRoute:n}=ot.useContext(gu);return n?O4():b4()}function b4(){Yc()||yr(!1);let n=ot.useContext(xm),{basename:e,future:t,navigator:r}=ot.useContext(pu),{matches:i}=ot.useContext(gu),{pathname:o}=Jh(),l=JSON.stringify(Im(i,t.v7_relativeSplatPath)),u=ot.useRef(!1);return Kv(()=>{u.current=!0}),ot.useCallback(function(p,v){if(v===void 0&&(v={}),!u.current)return;if(typeof p=="number"){r.go(p);return}let _=Tm(p,JSON.parse(l),o,v.relative==="path");n==null&&e!=="/"&&(_.pathname=_.pathname==="/"?e:Zl([e,_.pathname])),(v.replace?r.replace:r.push)(_,v.state,v)},[e,r,l,o,n])}function Qv(n,e){let{relative:t}=e===void 0?{}:e,{future:r}=ot.useContext(pu),{matches:i}=ot.useContext(gu),{pathname:o}=Jh(),l=JSON.stringify(Im(i,r.v7_relativeSplatPath));return ot.useMemo(()=>Tm(n,JSON.parse(l),o,t==="path"),[n,l,o,t])}function E4(n,e){return A4(n,e)}function A4(n,e,t,r){Yc()||yr(!1);let{navigator:i,static:o}=ot.useContext(pu),{matches:l}=ot.useContext(gu),u=l[l.length-1],h=u?u.params:{};u&&u.pathname;let p=u?u.pathnameBase:"/";u&&u.route;let v=Jh(),_;if(e){var I;let V=typeof e=="string"?Qc(e):e;p==="/"||(I=V.pathname)!=null&&I.startsWith(p)||yr(!1),_=V}else _=v;let b=_.pathname||"/",j=b;if(p!=="/"){let V=p.replace(/^\//,"").split("/");j="/"+b.replace(/^\//,"").split("/").slice(V.length).join("/")}let M=Jw(n,{pathname:j}),B=N4(M&&M.map(V=>Object.assign({},V,{params:Object.assign({},h,V.params),pathname:Zl([p,i.encodeLocation?i.encodeLocation(V.pathname).pathname:V.pathname]),pathnameBase:V.pathnameBase==="/"?p:Zl([p,i.encodeLocation?i.encodeLocation(V.pathnameBase).pathname:V.pathnameBase])})),l,t,r);return e&&B?ot.createElement(Wd.Provider,{value:{location:Vh({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Yl.Pop}},B):B}function I4(){let n=R4(),e=y4(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ot.createElement(ot.Fragment,null,ot.createElement("h2",null,"Unexpected Application Error!"),ot.createElement("h3",{style:{fontStyle:"italic"}},e),t?ot.createElement("pre",{style:i},t):null,null)}const T4=ot.createElement(I4,null);class x4 extends ot.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||t.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error!==void 0?ot.createElement(gu.Provider,{value:this.props.routeContext},ot.createElement(Gv.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function P4(n){let{routeContext:e,match:t,children:r}=n,i=ot.useContext(xm);return i&&i.static&&i.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=t.route.id),ot.createElement(gu.Provider,{value:e},r)}function N4(n,e,t,r){var i;if(e===void 0&&(e=[]),t===void 0&&(t=null),r===void 0&&(r=null),n==null){var o;if(!t)return null;if(t.errors)n=t.matches;else if((o=r)!=null&&o.v7_partialHydration&&e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let l=n,u=(i=t)==null?void 0:i.errors;if(u!=null){let v=l.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);v>=0||yr(!1),l=l.slice(0,Math.min(l.length,v+1))}let h=!1,p=-1;if(t&&r&&r.v7_partialHydration)for(let v=0;v<l.length;v++){let _=l[v];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(p=v),_.route.id){let{loaderData:I,errors:b}=t,j=_.route.loader&&I[_.route.id]===void 0&&(!b||b[_.route.id]===void 0);if(_.route.lazy||j){h=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((v,_,I)=>{let b,j=!1,M=null,B=null;t&&(b=u&&_.route.id?u[_.route.id]:void 0,M=_.route.errorElement||T4,h&&(p<0&&I===0?(D4("route-fallback"),j=!0,B=null):p===I&&(j=!0,B=_.route.hydrateFallbackElement||null)));let V=e.concat(l.slice(0,I+1)),Q=()=>{let ne;return b?ne=M:j?ne=B:_.route.Component?ne=ot.createElement(_.route.Component,null):_.route.element?ne=_.route.element:ne=v,ot.createElement(P4,{match:_,routeContext:{outlet:v,matches:V,isDataRoute:t!=null},children:ne})};return t&&(_.route.ErrorBoundary||_.route.errorElement||I===0)?ot.createElement(x4,{location:t.location,revalidation:t.revalidation,component:M,error:b,children:Q(),routeContext:{outlet:null,matches:V,isDataRoute:!0}}):Q()},null)}var Yv=function(n){return n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n}(Yv||{}),Jv=function(n){return n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId",n}(Jv||{});function C4(n){let e=ot.useContext(xm);return e||yr(!1),e}function k4(n){let e=ot.useContext(w4);return e||yr(!1),e}function L4(n){let e=ot.useContext(gu);return e||yr(!1),e}function Xv(n){let e=L4(),t=e.matches[e.matches.length-1];return t.route.id||yr(!1),t.route.id}function R4(){var n;let e=ot.useContext(Gv),t=k4(),r=Xv();return e!==void 0?e:(n=t.errors)==null?void 0:n[r]}function O4(){let{router:n}=C4(Yv.UseNavigateStable),e=Xv(Jv.UseNavigateStable),t=ot.useRef(!1);return Kv(()=>{t.current=!0}),ot.useCallback(function(i,o){o===void 0&&(o={}),t.current&&(typeof i=="number"?n.navigate(i):n.navigate(i,Vh({fromRouteId:e},o)))},[n,e])}const F0={};function D4(n,e,t){F0[n]||(F0[n]=!0)}function F4(n,e){n==null||n.v7_startTransition,n==null||n.v7_relativeSplatPath}function Ka(n){let{to:e,replace:t,state:r,relative:i}=n;Yc()||yr(!1);let{future:o,static:l}=ot.useContext(pu),{matches:u}=ot.useContext(gu),{pathname:h}=Jh(),p=$d(),v=Tm(e,Im(u,o.v7_relativeSplatPath),h,i==="path"),_=JSON.stringify(v);return ot.useEffect(()=>p(JSON.parse(_),{replace:t,state:r,relative:i}),[p,_,i,t,r]),null}function ha(n){yr(!1)}function M4(n){let{basename:e="/",children:t=null,location:r,navigationType:i=Yl.Pop,navigator:o,static:l=!1,future:u}=n;Yc()&&yr(!1);let h=e.replace(/^\/*/,"/"),p=ot.useMemo(()=>({basename:h,navigator:o,static:l,future:Vh({v7_relativeSplatPath:!1},u)}),[h,u,o,l]);typeof r=="string"&&(r=Qc(r));let{pathname:v="/",search:_="",hash:I="",state:b=null,key:j="default"}=r,M=ot.useMemo(()=>{let B=Am(v,h);return B==null?null:{location:{pathname:B,search:_,hash:I,state:b,key:j},navigationType:i}},[h,v,_,I,b,j,i]);return M==null?null:ot.createElement(pu.Provider,{value:p},ot.createElement(Wd.Provider,{children:t,value:M}))}function j4(n){let{children:e,location:t}=n;return E4(Og(e),t)}new Promise(()=>{});function Og(n,e){e===void 0&&(e=[]);let t=[];return ot.Children.forEach(n,(r,i)=>{if(!ot.isValidElement(r))return;let o=[...e,i];if(r.type===ot.Fragment){t.push.apply(t,Og(r.props.children,o));return}r.type!==ha&&yr(!1),!r.props.index||!r.props.children||yr(!1);let l={id:r.props.id||o.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=Og(r.props.children,o)),t.push(l)}),t}/**
 * React Router DOM v6.30.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Dg(){return Dg=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Dg.apply(this,arguments)}function V4(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,o;for(o=0;o<r.length;o++)i=r[o],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function B4(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function U4(n,e){return n.button===0&&(!e||e==="_self")&&!B4(n)}const z4=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],q4="6";try{window.__reactRouterVersion=q4}catch{}const H4="startTransition",M0=Uw[H4];function W4(n){let{basename:e,children:t,future:r,window:i}=n,o=ot.useRef();o.current==null&&(o.current=Kw({window:i,v5Compat:!0}));let l=o.current,[u,h]=ot.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},v=ot.useCallback(_=>{p&&M0?M0(()=>h(_)):h(_)},[h,p]);return ot.useLayoutEffect(()=>l.listen(v),[l,v]),ot.useEffect(()=>F4(r),[r]),ot.createElement(M4,{basename:e,children:t,location:u.location,navigationType:u.action,navigator:l,future:r})}const $4=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",G4=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Qa=ot.forwardRef(function(e,t){let{onClick:r,relative:i,reloadDocument:o,replace:l,state:u,target:h,to:p,preventScrollReset:v,viewTransition:_}=e,I=V4(e,z4),{basename:b}=ot.useContext(pu),j,M=!1;if(typeof p=="string"&&G4.test(p)&&(j=p,$4))try{let ne=new URL(window.location.href),me=p.startsWith("//")?new URL(ne.protocol+p):new URL(p),xe=Am(me.pathname,b);me.origin===ne.origin&&xe!=null?p=xe+me.search+me.hash:M=!0}catch{}let B=S4(p,{relative:i}),V=K4(p,{replace:l,state:u,target:h,preventScrollReset:v,relative:i,viewTransition:_});function Q(ne){r&&r(ne),ne.defaultPrevented||V(ne)}return ot.createElement("a",Dg({},I,{href:j||B,onClick:M||o?r:Q,ref:t,target:h}))});var j0;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher",n.useViewTransitionState="useViewTransitionState"})(j0||(j0={}));var V0;(function(n){n.UseFetcher="useFetcher",n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(V0||(V0={}));function K4(n,e){let{target:t,replace:r,state:i,preventScrollReset:o,relative:l,viewTransition:u}=e===void 0?{}:e,h=$d(),p=Jh(),v=Qv(n,{relative:l});return ot.useCallback(_=>{if(U4(_,t)){_.preventDefault();let I=r!==void 0?r:_d(p)===_d(v);h(n,{replace:I,state:i,preventScrollReset:o,relative:l,viewTransition:u})}},[p,h,v,r,i,t,n,o,l,u])}const Q4=()=>{};var B0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zv=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Y4=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){const o=n[t++],l=n[t++],u=n[t++],h=((i&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const o=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|l&63)}}return e.join("")},ey={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const o=n[i],l=i+1<n.length,u=l?n[i+1]:0,h=i+2<n.length,p=h?n[i+2]:0,v=o>>2,_=(o&3)<<4|u>>4;let I=(u&15)<<2|p>>6,b=p&63;h||(b=64,l||(I=64)),r.push(t[v],t[_],t[I],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(Zv(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Y4(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const o=t[n.charAt(i++)],u=i<n.length?t[n.charAt(i)]:0;++i;const p=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||u==null||p==null||_==null)throw new J4;const I=o<<2|u>>4;if(r.push(I),p!==64){const b=u<<4&240|p>>2;if(r.push(b),_!==64){const j=p<<6&192|_;r.push(j)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class J4 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const X4=function(n){const e=Zv(n);return ey.encodeByteArray(e,!0)},wd=function(n){return X4(n).replace(/\./g,"")},ty=function(n){try{return ey.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z4(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3=()=>Z4().__FIREBASE_DEFAULTS__,t3=()=>{if(typeof process>"u"||typeof B0>"u")return;const n=B0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},n3=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&ty(n[1]);return e&&JSON.parse(e)},Gd=()=>{try{return Q4()||e3()||t3()||n3()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ny=n=>{var e,t;return(t=(e=Gd())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},r3=n=>{const e=ny(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ry=()=>{var n;return(n=Gd())===null||n===void 0?void 0:n.config},iy=n=>{var e;return(e=Gd())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xh(n){return n.endsWith(".cloudworkstations.dev")}async function sy(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s3(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[wd(JSON.stringify(t)),wd(JSON.stringify(l)),""].join(".")}const Nh={};function o3(){const n={prod:[],emulator:[]};for(const e of Object.keys(Nh))Nh[e]?n.emulator.push(e):n.prod.push(e);return n}function a3(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let U0=!1;function Kd(n,e){if(typeof window>"u"||typeof document>"u"||!Xh(window.location.host)||Nh[n]===e||Nh[n]||U0)return;Nh[n]=e;function t(I){return`__firebase__banner__${I}`}const r="__firebase__banner",o=o3().prod.length>0;function l(){const I=document.getElementById(r);I&&I.remove()}function u(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function h(I,b){I.setAttribute("width","24"),I.setAttribute("id",b),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function p(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{U0=!0,l()},I}function v(I,b){I.setAttribute("id",b),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function _(){const I=a3(r),b=t("text"),j=document.getElementById(b)||document.createElement("span"),M=t("learnmore"),B=document.getElementById(M)||document.createElement("a"),V=t("preprendIcon"),Q=document.getElementById(V)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ne=I.element;u(ne),v(B,M);const me=p();h(Q,V),ne.append(Q,j,B,me),document.body.appendChild(ne)}o?(j.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,j.innerText="Preview backend running in this workspace."),j.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Di(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function l3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Di())}function u3(){var n;const e=(n=Gd())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function c3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h3(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function f3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function d3(){const n=Di();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function p3(){return!u3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function g3(){try{return typeof indexedDB=="object"}catch{return!1}}function m3(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="FirebaseError";class ol extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=v3,Object.setPrototypeOf(this,ol.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Zh.prototype.create)}}class Zh{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],l=o?y3(o,r):"Error",u=`${this.serviceName}: ${l} (${i}).`;return new ol(i,u,r)}}function y3(n,e){return n.replace(_3,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const _3=/\{\$([^}]+)}/g;function w3(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zu(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const o=n[i],l=e[i];if(z0(o)&&z0(l)){if(!zu(o,l))return!1}else if(o!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function z0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ef(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Eh(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Ah(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function S3(n,e){const t=new b3(n,e);return t.subscribe.bind(t)}class b3{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");E3(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=lg),i.error===void 0&&(i.error=lg),i.complete===void 0&&(i.complete=lg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E3(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function lg(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ms(n){return n&&n._delegate?n._delegate:n}class qu{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mu="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A3{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new i3;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T3(e))try{this.getOrInitializeService({instanceIdentifier:Mu})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Mu){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Mu){return this.instances.has(e)}getOptions(e=Mu){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);r===u&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);const l=this.instances.get(i);return l&&e(l,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:I3(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Mu){return this.component?this.component.multipleInstances?e:Mu:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function I3(n){return n===Mu?void 0:n}function T3(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new A3(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tn;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(tn||(tn={}));const P3={debug:tn.DEBUG,verbose:tn.VERBOSE,info:tn.INFO,warn:tn.WARN,error:tn.ERROR,silent:tn.SILENT},N3=tn.INFO,C3={[tn.DEBUG]:"log",[tn.VERBOSE]:"log",[tn.INFO]:"info",[tn.WARN]:"warn",[tn.ERROR]:"error"},k3=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=C3[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pm{constructor(e){this.name=e,this._logLevel=N3,this._logHandler=k3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in tn))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?P3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,tn.DEBUG,...e),this._logHandler(this,tn.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,tn.VERBOSE,...e),this._logHandler(this,tn.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,tn.INFO,...e),this._logHandler(this,tn.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,tn.WARN,...e),this._logHandler(this,tn.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,tn.ERROR,...e),this._logHandler(this,tn.ERROR,...e)}}const L3=(n,e)=>e.some(t=>n instanceof t);let q0,H0;function R3(){return q0||(q0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function O3(){return H0||(H0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oy=new WeakMap,Fg=new WeakMap,ay=new WeakMap,ug=new WeakMap,Nm=new WeakMap;function D3(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{t(eu(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&oy.set(t,n)}).catch(()=>{}),Nm.set(e,n),e}function F3(n){if(Fg.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Fg.set(n,e)}let Mg={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Fg.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ay.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return eu(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function M3(n){Mg=n(Mg)}function j3(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(cg(this),e,...t);return ay.set(r,e.sort?e.sort():[e]),eu(r)}:O3().includes(n)?function(...e){return n.apply(cg(this),e),eu(oy.get(this))}:function(...e){return eu(n.apply(cg(this),e))}}function V3(n){return typeof n=="function"?j3(n):(n instanceof IDBTransaction&&F3(n),L3(n,R3())?new Proxy(n,Mg):n)}function eu(n){if(n instanceof IDBRequest)return D3(n);if(ug.has(n))return ug.get(n);const e=V3(n);return e!==n&&(ug.set(n,e),Nm.set(e,n)),e}const cg=n=>Nm.get(n);function B3(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){const l=indexedDB.open(n,e),u=eu(l);return r&&l.addEventListener("upgradeneeded",h=>{r(eu(l.result),h.oldVersion,h.newVersion,eu(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),u.then(h=>{o&&h.addEventListener("close",()=>o()),i&&h.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),u}const U3=["get","getKey","getAll","getAllKeys","count"],z3=["put","add","delete","clear"],hg=new Map;function W0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(hg.get(e))return hg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=z3.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||U3.includes(t)))return;const o=async function(l,...u){const h=this.transaction(l,i?"readwrite":"readonly");let p=h.store;return r&&(p=p.index(u.shift())),(await Promise.all([p[t](...u),i&&h.done]))[0]};return hg.set(e,o),o}M3(n=>({...n,get:(e,t,r)=>W0(e,t)||n.get(e,t,r),has:(e,t)=>!!W0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(H3(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function H3(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const jg="@firebase/app",$0="0.12.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tl=new Pm("@firebase/app"),W3="@firebase/app-compat",$3="@firebase/analytics-compat",G3="@firebase/analytics",K3="@firebase/app-check-compat",Q3="@firebase/app-check",Y3="@firebase/auth",J3="@firebase/auth-compat",X3="@firebase/database",Z3="@firebase/data-connect",eS="@firebase/database-compat",tS="@firebase/functions",nS="@firebase/functions-compat",rS="@firebase/installations",iS="@firebase/installations-compat",sS="@firebase/messaging",oS="@firebase/messaging-compat",aS="@firebase/performance",lS="@firebase/performance-compat",uS="@firebase/remote-config",cS="@firebase/remote-config-compat",hS="@firebase/storage",fS="@firebase/storage-compat",dS="@firebase/firestore",pS="@firebase/vertexai",gS="@firebase/firestore-compat",mS="firebase",vS="11.7.3";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vg="[DEFAULT]",yS={[jg]:"fire-core",[W3]:"fire-core-compat",[G3]:"fire-analytics",[$3]:"fire-analytics-compat",[Q3]:"fire-app-check",[K3]:"fire-app-check-compat",[Y3]:"fire-auth",[J3]:"fire-auth-compat",[X3]:"fire-rtdb",[Z3]:"fire-data-connect",[eS]:"fire-rtdb-compat",[tS]:"fire-fn",[nS]:"fire-fn-compat",[rS]:"fire-iid",[iS]:"fire-iid-compat",[sS]:"fire-fcm",[oS]:"fire-fcm-compat",[aS]:"fire-perf",[lS]:"fire-perf-compat",[uS]:"fire-rc",[cS]:"fire-rc-compat",[hS]:"fire-gcs",[fS]:"fire-gcs-compat",[dS]:"fire-fst",[gS]:"fire-fst-compat",[pS]:"fire-vertex","fire-js":"fire-js",[mS]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Map,_S=new Map,Bg=new Map;function G0(n,e){try{n.container.addComponent(e)}catch(t){tl.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Uc(n){const e=n.name;if(Bg.has(e))return tl.debug(`There were multiple attempts to register component ${e}.`),!1;Bg.set(e,n);for(const t of Sd.values())G0(t,n);for(const t of _S.values())G0(t,n);return!0}function Cm(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function lo(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},tu=new Zh("app","Firebase",wS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new qu("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw tu.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jc=vS;function ly(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Vg,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw tu.create("bad-app-name",{appName:String(i)});if(t||(t=ry()),!t)throw tu.create("no-options");const o=Sd.get(i);if(o){if(zu(t,o.options)&&zu(r,o.config))return o;throw tu.create("duplicate-app",{appName:i})}const l=new x3(i);for(const h of Bg.values())l.addComponent(h);const u=new SS(t,r,l);return Sd.set(i,u),u}function uy(n=Vg){const e=Sd.get(n);if(!e&&n===Vg&&ry())return ly();if(!e)throw tu.create("no-app",{appName:n});return e}function nu(n,e,t){var r;let i=(r=yS[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const o=i.match(/\s|\//),l=e.match(/\s|\//);if(o||l){const u=[`Unable to register library "${i}" with version "${e}":`];o&&u.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&l&&u.push("and"),l&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),tl.warn(u.join(" "));return}Uc(new qu(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bS="firebase-heartbeat-database",ES=1,Bh="firebase-heartbeat-store";let fg=null;function cy(){return fg||(fg=B3(bS,ES,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Bh)}catch(t){console.warn(t)}}}}).catch(n=>{throw tu.create("idb-open",{originalErrorMessage:n.message})})),fg}async function AS(n){try{const t=(await cy()).transaction(Bh),r=await t.objectStore(Bh).get(hy(n));return await t.done,r}catch(e){if(e instanceof ol)tl.warn(e.message);else{const t=tu.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});tl.warn(t.message)}}}async function K0(n,e){try{const r=(await cy()).transaction(Bh,"readwrite");await r.objectStore(Bh).put(e,hy(n)),await r.done}catch(t){if(t instanceof ol)tl.warn(t.message);else{const r=tu.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});tl.warn(r.message)}}}function hy(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IS=1024,TS=30;class xS{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new NS(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=Q0();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(l=>l.date===o))return;if(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats.length>TS){const l=CS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){tl.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Q0(),{heartbeatsToSend:r,unsentEntries:i}=PS(this._heartbeatsCache.heartbeats),o=wd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return tl.warn(t),""}}}function Q0(){return new Date().toISOString().substring(0,10)}function PS(n,e=IS){const t=[];let r=n.slice();for(const i of n){const o=t.find(l=>l.agent===i.agent);if(o){if(o.dates.push(i.date),Y0(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Y0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class NS{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return g3()?m3().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await AS(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return K0(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Y0(n){return wd(JSON.stringify({version:2,heartbeats:n})).length}function CS(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kS(n){Uc(new qu("platform-logger",e=>new q3(e),"PRIVATE")),Uc(new qu("heartbeat",e=>new xS(e),"PRIVATE")),nu(jg,$0,n),nu(jg,$0,"esm2017"),nu("fire-js","")}kS("");var LS="firebase",RS="11.7.3";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nu(LS,RS,"app");var J0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ru,fy;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(q,A){function N(){}N.prototype=A.prototype,q.D=A.prototype,q.prototype=new N,q.prototype.constructor=q,q.C=function(O,P,C){for(var R=Array(arguments.length-2),ie=2;ie<arguments.length;ie++)R[ie-2]=arguments[ie];return A.prototype[P].apply(O,R)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(q,A,N){N||(N=0);var O=Array(16);if(typeof A=="string")for(var P=0;16>P;++P)O[P]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(P=0;16>P;++P)O[P]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=q.g[0],N=q.g[1],P=q.g[2];var C=q.g[3],R=A+(C^N&(P^C))+O[0]+3614090360&4294967295;A=N+(R<<7&4294967295|R>>>25),R=C+(P^A&(N^P))+O[1]+3905402710&4294967295,C=A+(R<<12&4294967295|R>>>20),R=P+(N^C&(A^N))+O[2]+606105819&4294967295,P=C+(R<<17&4294967295|R>>>15),R=N+(A^P&(C^A))+O[3]+3250441966&4294967295,N=P+(R<<22&4294967295|R>>>10),R=A+(C^N&(P^C))+O[4]+4118548399&4294967295,A=N+(R<<7&4294967295|R>>>25),R=C+(P^A&(N^P))+O[5]+1200080426&4294967295,C=A+(R<<12&4294967295|R>>>20),R=P+(N^C&(A^N))+O[6]+2821735955&4294967295,P=C+(R<<17&4294967295|R>>>15),R=N+(A^P&(C^A))+O[7]+4249261313&4294967295,N=P+(R<<22&4294967295|R>>>10),R=A+(C^N&(P^C))+O[8]+1770035416&4294967295,A=N+(R<<7&4294967295|R>>>25),R=C+(P^A&(N^P))+O[9]+2336552879&4294967295,C=A+(R<<12&4294967295|R>>>20),R=P+(N^C&(A^N))+O[10]+4294925233&4294967295,P=C+(R<<17&4294967295|R>>>15),R=N+(A^P&(C^A))+O[11]+2304563134&4294967295,N=P+(R<<22&4294967295|R>>>10),R=A+(C^N&(P^C))+O[12]+1804603682&4294967295,A=N+(R<<7&4294967295|R>>>25),R=C+(P^A&(N^P))+O[13]+4254626195&4294967295,C=A+(R<<12&4294967295|R>>>20),R=P+(N^C&(A^N))+O[14]+2792965006&4294967295,P=C+(R<<17&4294967295|R>>>15),R=N+(A^P&(C^A))+O[15]+1236535329&4294967295,N=P+(R<<22&4294967295|R>>>10),R=A+(P^C&(N^P))+O[1]+4129170786&4294967295,A=N+(R<<5&4294967295|R>>>27),R=C+(N^P&(A^N))+O[6]+3225465664&4294967295,C=A+(R<<9&4294967295|R>>>23),R=P+(A^N&(C^A))+O[11]+643717713&4294967295,P=C+(R<<14&4294967295|R>>>18),R=N+(C^A&(P^C))+O[0]+3921069994&4294967295,N=P+(R<<20&4294967295|R>>>12),R=A+(P^C&(N^P))+O[5]+3593408605&4294967295,A=N+(R<<5&4294967295|R>>>27),R=C+(N^P&(A^N))+O[10]+38016083&4294967295,C=A+(R<<9&4294967295|R>>>23),R=P+(A^N&(C^A))+O[15]+3634488961&4294967295,P=C+(R<<14&4294967295|R>>>18),R=N+(C^A&(P^C))+O[4]+3889429448&4294967295,N=P+(R<<20&4294967295|R>>>12),R=A+(P^C&(N^P))+O[9]+568446438&4294967295,A=N+(R<<5&4294967295|R>>>27),R=C+(N^P&(A^N))+O[14]+3275163606&4294967295,C=A+(R<<9&4294967295|R>>>23),R=P+(A^N&(C^A))+O[3]+4107603335&4294967295,P=C+(R<<14&4294967295|R>>>18),R=N+(C^A&(P^C))+O[8]+1163531501&4294967295,N=P+(R<<20&4294967295|R>>>12),R=A+(P^C&(N^P))+O[13]+2850285829&4294967295,A=N+(R<<5&4294967295|R>>>27),R=C+(N^P&(A^N))+O[2]+4243563512&4294967295,C=A+(R<<9&4294967295|R>>>23),R=P+(A^N&(C^A))+O[7]+1735328473&4294967295,P=C+(R<<14&4294967295|R>>>18),R=N+(C^A&(P^C))+O[12]+2368359562&4294967295,N=P+(R<<20&4294967295|R>>>12),R=A+(N^P^C)+O[5]+4294588738&4294967295,A=N+(R<<4&4294967295|R>>>28),R=C+(A^N^P)+O[8]+2272392833&4294967295,C=A+(R<<11&4294967295|R>>>21),R=P+(C^A^N)+O[11]+1839030562&4294967295,P=C+(R<<16&4294967295|R>>>16),R=N+(P^C^A)+O[14]+4259657740&4294967295,N=P+(R<<23&4294967295|R>>>9),R=A+(N^P^C)+O[1]+2763975236&4294967295,A=N+(R<<4&4294967295|R>>>28),R=C+(A^N^P)+O[4]+1272893353&4294967295,C=A+(R<<11&4294967295|R>>>21),R=P+(C^A^N)+O[7]+4139469664&4294967295,P=C+(R<<16&4294967295|R>>>16),R=N+(P^C^A)+O[10]+3200236656&4294967295,N=P+(R<<23&4294967295|R>>>9),R=A+(N^P^C)+O[13]+681279174&4294967295,A=N+(R<<4&4294967295|R>>>28),R=C+(A^N^P)+O[0]+3936430074&4294967295,C=A+(R<<11&4294967295|R>>>21),R=P+(C^A^N)+O[3]+3572445317&4294967295,P=C+(R<<16&4294967295|R>>>16),R=N+(P^C^A)+O[6]+76029189&4294967295,N=P+(R<<23&4294967295|R>>>9),R=A+(N^P^C)+O[9]+3654602809&4294967295,A=N+(R<<4&4294967295|R>>>28),R=C+(A^N^P)+O[12]+3873151461&4294967295,C=A+(R<<11&4294967295|R>>>21),R=P+(C^A^N)+O[15]+530742520&4294967295,P=C+(R<<16&4294967295|R>>>16),R=N+(P^C^A)+O[2]+3299628645&4294967295,N=P+(R<<23&4294967295|R>>>9),R=A+(P^(N|~C))+O[0]+4096336452&4294967295,A=N+(R<<6&4294967295|R>>>26),R=C+(N^(A|~P))+O[7]+1126891415&4294967295,C=A+(R<<10&4294967295|R>>>22),R=P+(A^(C|~N))+O[14]+2878612391&4294967295,P=C+(R<<15&4294967295|R>>>17),R=N+(C^(P|~A))+O[5]+4237533241&4294967295,N=P+(R<<21&4294967295|R>>>11),R=A+(P^(N|~C))+O[12]+1700485571&4294967295,A=N+(R<<6&4294967295|R>>>26),R=C+(N^(A|~P))+O[3]+2399980690&4294967295,C=A+(R<<10&4294967295|R>>>22),R=P+(A^(C|~N))+O[10]+4293915773&4294967295,P=C+(R<<15&4294967295|R>>>17),R=N+(C^(P|~A))+O[1]+2240044497&4294967295,N=P+(R<<21&4294967295|R>>>11),R=A+(P^(N|~C))+O[8]+1873313359&4294967295,A=N+(R<<6&4294967295|R>>>26),R=C+(N^(A|~P))+O[15]+4264355552&4294967295,C=A+(R<<10&4294967295|R>>>22),R=P+(A^(C|~N))+O[6]+2734768916&4294967295,P=C+(R<<15&4294967295|R>>>17),R=N+(C^(P|~A))+O[13]+1309151649&4294967295,N=P+(R<<21&4294967295|R>>>11),R=A+(P^(N|~C))+O[4]+4149444226&4294967295,A=N+(R<<6&4294967295|R>>>26),R=C+(N^(A|~P))+O[11]+3174756917&4294967295,C=A+(R<<10&4294967295|R>>>22),R=P+(A^(C|~N))+O[2]+718787259&4294967295,P=C+(R<<15&4294967295|R>>>17),R=N+(C^(P|~A))+O[9]+3951481745&4294967295,q.g[0]=q.g[0]+A&4294967295,q.g[1]=q.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,q.g[2]=q.g[2]+P&4294967295,q.g[3]=q.g[3]+C&4294967295}r.prototype.u=function(q,A){A===void 0&&(A=q.length);for(var N=A-this.blockSize,O=this.B,P=this.h,C=0;C<A;){if(P==0)for(;C<=N;)i(this,q,C),C+=this.blockSize;if(typeof q=="string"){for(;C<A;)if(O[P++]=q.charCodeAt(C++),P==this.blockSize){i(this,O),P=0;break}}else for(;C<A;)if(O[P++]=q[C++],P==this.blockSize){i(this,O),P=0;break}}this.h=P,this.o+=A},r.prototype.v=function(){var q=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);q[0]=128;for(var A=1;A<q.length-8;++A)q[A]=0;var N=8*this.o;for(A=q.length-8;A<q.length;++A)q[A]=N&255,N/=256;for(this.u(q),q=Array(16),A=N=0;4>A;++A)for(var O=0;32>O;O+=8)q[N++]=this.g[A]>>>O&255;return q};function o(q,A){var N=u;return Object.prototype.hasOwnProperty.call(N,q)?N[q]:N[q]=A(q)}function l(q,A){this.h=A;for(var N=[],O=!0,P=q.length-1;0<=P;P--){var C=q[P]|0;O&&C==A||(N[P]=C,O=!1)}this.g=N}var u={};function h(q){return-128<=q&&128>q?o(q,function(A){return new l([A|0],0>A?-1:0)}):new l([q|0],0>q?-1:0)}function p(q){if(isNaN(q)||!isFinite(q))return _;if(0>q)return B(p(-q));for(var A=[],N=1,O=0;q>=N;O++)A[O]=q/N|0,N*=4294967296;return new l(A,0)}function v(q,A){if(q.length==0)throw Error("number format error: empty string");if(A=A||10,2>A||36<A)throw Error("radix out of range: "+A);if(q.charAt(0)=="-")return B(v(q.substring(1),A));if(0<=q.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=p(Math.pow(A,8)),O=_,P=0;P<q.length;P+=8){var C=Math.min(8,q.length-P),R=parseInt(q.substring(P,P+C),A);8>C?(C=p(Math.pow(A,C)),O=O.j(C).add(p(R))):(O=O.j(N),O=O.add(p(R)))}return O}var _=h(0),I=h(1),b=h(16777216);n=l.prototype,n.m=function(){if(M(this))return-B(this).m();for(var q=0,A=1,N=0;N<this.g.length;N++){var O=this.i(N);q+=(0<=O?O:4294967296+O)*A,A*=4294967296}return q},n.toString=function(q){if(q=q||10,2>q||36<q)throw Error("radix out of range: "+q);if(j(this))return"0";if(M(this))return"-"+B(this).toString(q);for(var A=p(Math.pow(q,6)),N=this,O="";;){var P=me(N,A).g;N=V(N,P.j(A));var C=((0<N.g.length?N.g[0]:N.h)>>>0).toString(q);if(N=P,j(N))return C+O;for(;6>C.length;)C="0"+C;O=C+O}},n.i=function(q){return 0>q?0:q<this.g.length?this.g[q]:this.h};function j(q){if(q.h!=0)return!1;for(var A=0;A<q.g.length;A++)if(q.g[A]!=0)return!1;return!0}function M(q){return q.h==-1}n.l=function(q){return q=V(this,q),M(q)?-1:j(q)?0:1};function B(q){for(var A=q.g.length,N=[],O=0;O<A;O++)N[O]=~q.g[O];return new l(N,~q.h).add(I)}n.abs=function(){return M(this)?B(this):this},n.add=function(q){for(var A=Math.max(this.g.length,q.g.length),N=[],O=0,P=0;P<=A;P++){var C=O+(this.i(P)&65535)+(q.i(P)&65535),R=(C>>>16)+(this.i(P)>>>16)+(q.i(P)>>>16);O=R>>>16,C&=65535,R&=65535,N[P]=R<<16|C}return new l(N,N[N.length-1]&-2147483648?-1:0)};function V(q,A){return q.add(B(A))}n.j=function(q){if(j(this)||j(q))return _;if(M(this))return M(q)?B(this).j(B(q)):B(B(this).j(q));if(M(q))return B(this.j(B(q)));if(0>this.l(b)&&0>q.l(b))return p(this.m()*q.m());for(var A=this.g.length+q.g.length,N=[],O=0;O<2*A;O++)N[O]=0;for(O=0;O<this.g.length;O++)for(var P=0;P<q.g.length;P++){var C=this.i(O)>>>16,R=this.i(O)&65535,ie=q.i(P)>>>16,Ne=q.i(P)&65535;N[2*O+2*P]+=R*Ne,Q(N,2*O+2*P),N[2*O+2*P+1]+=C*Ne,Q(N,2*O+2*P+1),N[2*O+2*P+1]+=R*ie,Q(N,2*O+2*P+1),N[2*O+2*P+2]+=C*ie,Q(N,2*O+2*P+2)}for(O=0;O<A;O++)N[O]=N[2*O+1]<<16|N[2*O];for(O=A;O<2*A;O++)N[O]=0;return new l(N,0)};function Q(q,A){for(;(q[A]&65535)!=q[A];)q[A+1]+=q[A]>>>16,q[A]&=65535,A++}function ne(q,A){this.g=q,this.h=A}function me(q,A){if(j(A))throw Error("division by zero");if(j(q))return new ne(_,_);if(M(q))return A=me(B(q),A),new ne(B(A.g),B(A.h));if(M(A))return A=me(q,B(A)),new ne(B(A.g),A.h);if(30<q.g.length){if(M(q)||M(A))throw Error("slowDivide_ only works with positive integers.");for(var N=I,O=A;0>=O.l(q);)N=xe(N),O=xe(O);var P=Ee(N,1),C=Ee(O,1);for(O=Ee(O,2),N=Ee(N,2);!j(O);){var R=C.add(O);0>=R.l(q)&&(P=P.add(N),C=R),O=Ee(O,1),N=Ee(N,1)}return A=V(q,P.j(A)),new ne(P,A)}for(P=_;0<=q.l(A);){for(N=Math.max(1,Math.floor(q.m()/A.m())),O=Math.ceil(Math.log(N)/Math.LN2),O=48>=O?1:Math.pow(2,O-48),C=p(N),R=C.j(A);M(R)||0<R.l(q);)N-=O,C=p(N),R=C.j(A);j(C)&&(C=I),P=P.add(C),q=V(q,R)}return new ne(P,q)}n.A=function(q){return me(this,q).h},n.and=function(q){for(var A=Math.max(this.g.length,q.g.length),N=[],O=0;O<A;O++)N[O]=this.i(O)&q.i(O);return new l(N,this.h&q.h)},n.or=function(q){for(var A=Math.max(this.g.length,q.g.length),N=[],O=0;O<A;O++)N[O]=this.i(O)|q.i(O);return new l(N,this.h|q.h)},n.xor=function(q){for(var A=Math.max(this.g.length,q.g.length),N=[],O=0;O<A;O++)N[O]=this.i(O)^q.i(O);return new l(N,this.h^q.h)};function xe(q){for(var A=q.g.length+1,N=[],O=0;O<A;O++)N[O]=q.i(O)<<1|q.i(O-1)>>>31;return new l(N,q.h)}function Ee(q,A){var N=A>>5;A%=32;for(var O=q.g.length-N,P=[],C=0;C<O;C++)P[C]=0<A?q.i(C+N)>>>A|q.i(C+N+1)<<32-A:q.i(C+N);return new l(P,q.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,fy=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=v,ru=l}).apply(typeof J0<"u"?J0:typeof self<"u"?self:typeof window<"u"?window:{});var Wf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var dy,Ih,py,id,Ug,gy,my,vy;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,E,k){return d==Array.prototype||d==Object.prototype||(d[E]=k.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wf=="object"&&Wf];for(var E=0;E<d.length;++E){var k=d[E];if(k&&k.Math==Math)return k}throw Error("Cannot find global object")}var r=t(this);function i(d,E){if(E)e:{var k=r;d=d.split(".");for(var G=0;G<d.length-1;G++){var we=d[G];if(!(we in k))break e;k=k[we]}d=d[d.length-1],G=k[d],E=E(G),E!=G&&E!=null&&e(k,d,{configurable:!0,writable:!0,value:E})}}function o(d,E){d instanceof String&&(d+="");var k=0,G=!1,we={next:function(){if(!G&&k<d.length){var ke=k++;return{value:E(ke,d[ke]),done:!1}}return G=!0,{done:!0,value:void 0}}};return we[Symbol.iterator]=function(){return we},we}i("Array.prototype.values",function(d){return d||function(){return o(this,function(E,k){return k})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},u=this||self;function h(d){var E=typeof d;return E=E!="object"?E:d?Array.isArray(d)?"array":E:"null",E=="array"||E=="object"&&typeof d.length=="number"}function p(d){var E=typeof d;return E=="object"&&d!=null||E=="function"}function v(d,E,k){return d.call.apply(d.bind,arguments)}function _(d,E,k){if(!d)throw Error();if(2<arguments.length){var G=Array.prototype.slice.call(arguments,2);return function(){var we=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(we,G),d.apply(E,we)}}return function(){return d.apply(E,arguments)}}function I(d,E,k){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?v:_,I.apply(null,arguments)}function b(d,E){var k=Array.prototype.slice.call(arguments,1);return function(){var G=k.slice();return G.push.apply(G,arguments),d.apply(this,G)}}function j(d,E){function k(){}k.prototype=E.prototype,d.aa=E.prototype,d.prototype=new k,d.prototype.constructor=d,d.Qb=function(G,we,ke){for(var Qe=Array(arguments.length-2),Ut=2;Ut<arguments.length;Ut++)Qe[Ut-2]=arguments[Ut];return E.prototype[we].apply(G,Qe)}}function M(d){const E=d.length;if(0<E){const k=Array(E);for(let G=0;G<E;G++)k[G]=d[G];return k}return[]}function B(d,E){for(let k=1;k<arguments.length;k++){const G=arguments[k];if(h(G)){const we=d.length||0,ke=G.length||0;d.length=we+ke;for(let Qe=0;Qe<ke;Qe++)d[we+Qe]=G[Qe]}else d.push(G)}}class V{constructor(E,k){this.i=E,this.j=k,this.h=0,this.g=null}get(){let E;return 0<this.h?(this.h--,E=this.g,this.g=E.next,E.next=null):E=this.i(),E}}function Q(d){return/^[\s\xa0]*$/.test(d)}function ne(){var d=u.navigator;return d&&(d=d.userAgent)?d:""}function me(d){return me[" "](d),d}me[" "]=function(){};var xe=ne().indexOf("Gecko")!=-1&&!(ne().toLowerCase().indexOf("webkit")!=-1&&ne().indexOf("Edge")==-1)&&!(ne().indexOf("Trident")!=-1||ne().indexOf("MSIE")!=-1)&&ne().indexOf("Edge")==-1;function Ee(d,E,k){for(const G in d)E.call(k,d[G],G,d)}function q(d,E){for(const k in d)E.call(void 0,d[k],k,d)}function A(d){const E={};for(const k in d)E[k]=d[k];return E}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function O(d,E){let k,G;for(let we=1;we<arguments.length;we++){G=arguments[we];for(k in G)d[k]=G[k];for(let ke=0;ke<N.length;ke++)k=N[ke],Object.prototype.hasOwnProperty.call(G,k)&&(d[k]=G[k])}}function P(d){var E=1;d=d.split(":");const k=[];for(;0<E&&d.length;)k.push(d.shift()),E--;return d.length&&k.push(d.join(":")),k}function C(d){u.setTimeout(()=>{throw d},0)}function R(){var d=ae;let E=null;return d.g&&(E=d.g,d.g=d.g.next,d.g||(d.h=null),E.next=null),E}class ie{constructor(){this.h=this.g=null}add(E,k){const G=Ne.get();G.set(E,k),this.h?this.h.next=G:this.g=G,this.h=G}}var Ne=new V(()=>new Ae,d=>d.reset());class Ae{constructor(){this.next=this.g=this.h=null}set(E,k){this.h=E,this.g=k,this.next=null}reset(){this.next=this.g=this.h=null}}let ye,re=!1,ae=new ie,ce=()=>{const d=u.Promise.resolve(void 0);ye=()=>{d.then(X)}};var X=()=>{for(var d;d=R();){try{d.h.call(d.g)}catch(k){C(k)}var E=Ne;E.j(d),100>E.h&&(E.h++,d.next=E.g,E.g=d)}re=!1};function L(){this.s=this.s,this.C=this.C}L.prototype.s=!1,L.prototype.ma=function(){this.s||(this.s=!0,this.N())},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(d,E){this.type=d,this.g=this.target=E,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var Y=function(){if(!u.addEventListener||!Object.defineProperty)return!1;var d=!1,E=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const k=()=>{};u.addEventListener("test",k,E),u.removeEventListener("test",k,E)}catch{}return d}();function te(d,E){if(W.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var k=this.type=d.type,G=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=E,E=d.relatedTarget){if(xe){e:{try{me(E.nodeName);var we=!0;break e}catch{}we=!1}we||(E=null)}}else k=="mouseover"?E=d.fromElement:k=="mouseout"&&(E=d.toElement);this.relatedTarget=E,G?(this.clientX=G.clientX!==void 0?G.clientX:G.pageX,this.clientY=G.clientY!==void 0?G.clientY:G.pageY,this.screenX=G.screenX||0,this.screenY=G.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:oe[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&te.aa.h.call(this)}}j(te,W);var oe={2:"touch",3:"pen",4:"mouse"};te.prototype.h=function(){te.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ve="closure_listenable_"+(1e6*Math.random()|0),ue=0;function ge(d,E,k,G,we){this.listener=d,this.proxy=null,this.src=E,this.type=k,this.capture=!!G,this.ha=we,this.key=++ue,this.da=this.fa=!1}function Ve(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Re(d){this.src=d,this.g={},this.h=0}Re.prototype.add=function(d,E,k,G,we){var ke=d.toString();d=this.g[ke],d||(d=this.g[ke]=[],this.h++);var Qe=Ge(d,E,G,we);return-1<Qe?(E=d[Qe],k||(E.fa=!1)):(E=new ge(E,this.src,ke,!!G,we),E.fa=k,d.push(E)),E};function Ke(d,E){var k=E.type;if(k in d.g){var G=d.g[k],we=Array.prototype.indexOf.call(G,E,void 0),ke;(ke=0<=we)&&Array.prototype.splice.call(G,we,1),ke&&(Ve(E),d.g[k].length==0&&(delete d.g[k],d.h--))}}function Ge(d,E,k,G){for(var we=0;we<d.length;++we){var ke=d[we];if(!ke.da&&ke.listener==E&&ke.capture==!!k&&ke.ha==G)return we}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Ce={};function Z(d,E,k,G,we){if(Array.isArray(E)){for(var ke=0;ke<E.length;ke++)Z(d,E[ke],k,G,we);return null}return k=At(k),d&&d[ve]?d.K(E,k,p(G)?!!G.capture:!1,we):bt(d,E,k,!1,G,we)}function bt(d,E,k,G,we,ke){if(!E)throw Error("Invalid event type");var Qe=p(we)?!!we.capture:!!we,Ut=pt(d);if(Ut||(d[st]=Ut=new Re(d)),k=Ut.add(E,k,G,Qe,ke),k.proxy)return k;if(G=We(),k.proxy=G,G.src=d,G.listener=k,d.addEventListener)Y||(we=Qe),we===void 0&&(we=!1),d.addEventListener(E.toString(),G,we);else if(d.attachEvent)d.attachEvent(nt(E.toString()),G);else if(d.addListener&&d.removeListener)d.addListener(G);else throw Error("addEventListener and attachEvent are unavailable.");return k}function We(){function d(k){return E.call(d.src,d.listener,k)}const E=tt;return d}function ze(d,E,k,G,we){if(Array.isArray(E))for(var ke=0;ke<E.length;ke++)ze(d,E[ke],k,G,we);else G=p(G)?!!G.capture:!!G,k=At(k),d&&d[ve]?(d=d.i,E=String(E).toString(),E in d.g&&(ke=d.g[E],k=Ge(ke,k,G,we),-1<k&&(Ve(ke[k]),Array.prototype.splice.call(ke,k,1),ke.length==0&&(delete d.g[E],d.h--)))):d&&(d=pt(d))&&(E=d.g[E.toString()],d=-1,E&&(d=Ge(E,k,G,we)),(k=-1<d?E[d]:null)&&Xe(k))}function Xe(d){if(typeof d!="number"&&d&&!d.da){var E=d.src;if(E&&E[ve])Ke(E.i,d);else{var k=d.type,G=d.proxy;E.removeEventListener?E.removeEventListener(k,G,d.capture):E.detachEvent?E.detachEvent(nt(k),G):E.addListener&&E.removeListener&&E.removeListener(G),(k=pt(E))?(Ke(k,d),k.h==0&&(k.src=null,E[st]=null)):Ve(d)}}}function nt(d){return d in Ce?Ce[d]:Ce[d]="on"+d}function tt(d,E){if(d.da)d=!0;else{E=new te(E,this);var k=d.listener,G=d.ha||d.src;d.fa&&Xe(d),d=k.call(G,E)}return d}function pt(d){return d=d[st],d instanceof Re?d:null}var gt="__closure_events_fn_"+(1e9*Math.random()>>>0);function At(d){return typeof d=="function"?d:(d[gt]||(d[gt]=function(E){return d.handleEvent(E)}),d[gt])}function ct(){L.call(this),this.i=new Re(this),this.M=this,this.F=null}j(ct,L),ct.prototype[ve]=!0,ct.prototype.removeEventListener=function(d,E,k,G){ze(this,d,E,k,G)};function mt(d,E){var k,G=d.F;if(G)for(k=[];G;G=G.F)k.push(G);if(d=d.M,G=E.type||E,typeof E=="string")E=new W(E,d);else if(E instanceof W)E.target=E.target||d;else{var we=E;E=new W(G,d),O(E,we)}if(we=!0,k)for(var ke=k.length-1;0<=ke;ke--){var Qe=E.g=k[ke];we=jt(Qe,G,!0,E)&&we}if(Qe=E.g=d,we=jt(Qe,G,!0,E)&&we,we=jt(Qe,G,!1,E)&&we,k)for(ke=0;ke<k.length;ke++)Qe=E.g=k[ke],we=jt(Qe,G,!1,E)&&we}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var d=this.i,E;for(E in d.g){for(var k=d.g[E],G=0;G<k.length;G++)Ve(k[G]);delete d.g[E],d.h--}}this.F=null},ct.prototype.K=function(d,E,k,G){return this.i.add(String(d),E,!1,k,G)},ct.prototype.L=function(d,E,k,G){return this.i.add(String(d),E,!0,k,G)};function jt(d,E,k,G){if(E=d.i.g[String(E)],!E)return!0;E=E.concat();for(var we=!0,ke=0;ke<E.length;++ke){var Qe=E[ke];if(Qe&&!Qe.da&&Qe.capture==k){var Ut=Qe.listener,Jt=Qe.ha||Qe.src;Qe.fa&&Ke(d.i,Qe),we=Ut.call(Jt,G)!==!1&&we}}return we&&!G.defaultPrevented}function It(d,E,k){if(typeof d=="function")k&&(d=I(d,k));else if(d&&typeof d.handleEvent=="function")d=I(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(E)?-1:u.setTimeout(d,E||0)}function Ot(d){d.g=It(()=>{d.g=null,d.i&&(d.i=!1,Ot(d))},d.l);const E=d.h;d.h=null,d.m.apply(null,E)}class it extends L{constructor(E,k){super(),this.m=E,this.l=k,this.h=null,this.i=!1,this.g=null}j(E){this.h=arguments,this.g?this.i=!0:Ot(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rn(d){L.call(this),this.h=d,this.g={}}j(rn,L);var Ht=[];function _r(d){Ee(d.g,function(E,k){this.g.hasOwnProperty(k)&&Xe(E)},d),d.g={}}rn.prototype.N=function(){rn.aa.N.call(this),_r(this)},rn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var un=u.JSON.stringify,bn=u.JSON.parse,di=class{stringify(d){return u.JSON.stringify(d,void 0)}parse(d){return u.JSON.parse(d,void 0)}};function Yt(){}Yt.prototype.h=null;function Ji(d){return d.h||(d.h=d.i())}function xn(){}var Hn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wr(){W.call(this,"d")}j(wr,W);function Pn(){W.call(this,"c")}j(Pn,W);var xt={},Zt=null;function Fi(){return Zt=Zt||new ct}xt.La="serverreachability";function Jn(d){W.call(this,xt.La,d)}j(Jn,W);function Sr(d){const E=Fi();mt(E,new Jn(E))}xt.STAT_EVENT="statevent";function pi(d,E){W.call(this,xt.STAT_EVENT,d),this.stat=E}j(pi,W);function ft(d){const E=Fi();mt(E,new pi(E,d))}xt.Ma="timingevent";function Mr(d,E){W.call(this,xt.Ma,d),this.size=E}j(Mr,W);function nr(d,E){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){d()},E)}function rr(){this.g=!0}rr.prototype.xa=function(){this.g=!1};function Ln(d,E,k,G,we,ke){d.info(function(){if(d.g)if(ke)for(var Qe="",Ut=ke.split("&"),Jt=0;Jt<Ut.length;Jt++){var zt=Ut[Jt].split("=");if(1<zt.length){var dn=zt[0];zt=zt[1];var yn=dn.split("_");Qe=2<=yn.length&&yn[1]=="type"?Qe+(dn+"="+zt+"&"):Qe+(dn+"=redacted&")}}else Qe=null;else Qe=ke;return"XMLHTTP REQ ("+G+") [attempt "+we+"]: "+E+`
`+k+`
`+Qe})}function Rn(d,E,k,G,we,ke,Qe){d.info(function(){return"XMLHTTP RESP ("+G+") [ attempt "+we+"]: "+E+`
`+k+`
`+ke+" "+Qe})}function jn(d,E,k,G){d.info(function(){return"XMLHTTP TEXT ("+E+"): "+ys(d,k)+(G?" "+G:"")})}function js(d,E){d.info(function(){return"TIMEOUT: "+E})}rr.prototype.info=function(){};function ys(d,E){if(!d.g)return E;if(!E)return null;try{var k=JSON.parse(E);if(k){for(d=0;d<k.length;d++)if(Array.isArray(k[d])){var G=k[d];if(!(2>G.length)){var we=G[1];if(Array.isArray(we)&&!(1>we.length)){var ke=we[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var Qe=1;Qe<we.length;Qe++)we[Qe]=""}}}}return un(k)}catch{return E}}var jr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},gi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Xn;function Vr(){}j(Vr,Yt),Vr.prototype.g=function(){return new XMLHttpRequest},Vr.prototype.i=function(){return{}},Xn=new Vr;function Wn(d,E,k,G){this.j=d,this.i=E,this.l=k,this.R=G||1,this.U=new rn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Mi}function Mi(){this.i=null,this.g="",this.h=!1}var _s={},ws={};function Ss(d,E,k){d.L=1,d.v=As(Tr(E)),d.m=k,d.P=!0,Vs(d,null)}function Vs(d,E){d.F=Date.now(),En(d),d.A=Tr(d.v);var k=d.A,G=d.R;Array.isArray(G)||(G=[String(G)]),Pt(k.i,"t",G),d.C=0,k=d.j.J,d.h=new Mi,d.g=F(d.j,k?E:null,!d.m),0<d.O&&(d.M=new it(I(d.Y,d,d.g),d.O)),E=d.U,k=d.g,G=d.ca;var we="readystatechange";Array.isArray(we)||(we&&(Ht[0]=we.toString()),we=Ht);for(var ke=0;ke<we.length;ke++){var Qe=Z(k,we[ke],G||E.handleEvent,!1,E.h||E);if(!Qe)break;E.g[Qe.key]=Qe}E=d.H?A(d.H):{},d.m?(d.u||(d.u="POST"),E["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,E)):(d.u="GET",d.g.ea(d.A,d.u,null,E)),Sr(),Ln(d.i,d.u,d.A,d.l,d.R,d.m)}Wn.prototype.ca=function(d){d=d.target;const E=this.M;E&&Gn(d)==3?E.j():this.Y(d)},Wn.prototype.Y=function(d){try{if(d==this.g)e:{const yn=Gn(this.g);var E=this.g.Ba();const ti=this.g.Z();if(!(3>yn)&&(yn!=3||this.g&&(this.h.h||this.g.oa()||xa(this.g)))){this.J||yn!=4||E==7||(E==8||0>=ti?Sr(3):Sr(2)),Xi(this);var k=this.g.Z();this.X=k;t:if(co(this)){var G=xa(this.g);d="";var we=G.length,ke=Gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){mi(this),bs(this);var Qe="";break t}this.h.i=new u.TextDecoder}for(E=0;E<we;E++)this.h.h=!0,d+=this.h.i.decode(G[E],{stream:!(ke&&E==we-1)});G.length=0,this.h.g+=d,this.C=0,Qe=this.h.g}else Qe=this.g.oa();if(this.o=k==200,Rn(this.i,this.u,this.A,this.l,this.R,yn,k),this.o){if(this.T&&!this.K){t:{if(this.g){var Ut,Jt=this.g;if((Ut=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(Ut)){var zt=Ut;break t}}zt=null}if(k=zt)jn(this.i,this.l,k,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ho(this,k);else{this.o=!1,this.s=3,ft(12),mi(this),bs(this);break e}}if(this.P){k=!0;let Nr;for(;!this.J&&this.C<Qe.length;)if(Nr=al(this,Qe),Nr==ws){yn==4&&(this.s=4,ft(14),k=!1),jn(this.i,this.l,null,"[Incomplete Response]");break}else if(Nr==_s){this.s=4,ft(15),jn(this.i,this.l,Qe,"[Invalid Chunk]"),k=!1;break}else jn(this.i,this.l,Nr,null),ho(this,Nr);if(co(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),yn!=4||Qe.length!=0||this.h.h||(this.s=1,ft(16),k=!1),this.o=this.o&&k,!k)jn(this.i,this.l,Qe,"[Invalid Chunked Response]"),mi(this),bs(this);else if(0<Qe.length&&!this.W){this.W=!0;var dn=this.j;dn.g==this&&dn.ba&&!dn.M&&(dn.j.info("Great, no buffering proxy detected. Bytes received: "+Qe.length),Xo(dn),dn.M=!0,ft(11))}}else jn(this.i,this.l,Qe,null),ho(this,Qe);yn==4&&mi(this),this.o&&!this.J&&(yn==4?ss(this.j,this):(this.o=!1,En(this)))}else Bi(this.g),k==400&&0<Qe.indexOf("Unknown SID")?(this.s=3,ft(12)):(this.s=0,ft(13)),mi(this),bs(this)}}}catch{}finally{}};function co(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function al(d,E){var k=d.C,G=E.indexOf(`
`,k);return G==-1?ws:(k=Number(E.substring(k,G)),isNaN(k)?_s:(G+=1,G+k>E.length?ws:(E=E.slice(G,G+k),d.C=G+k,E)))}Wn.prototype.cancel=function(){this.J=!0,mi(this)};function En(d){d.S=Date.now()+d.I,ll(d,d.I)}function ll(d,E){if(d.B!=null)throw Error("WatchDog timer not null");d.B=nr(I(d.ba,d),E)}function Xi(d){d.B&&(u.clearTimeout(d.B),d.B=null)}Wn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(js(this.i,this.A),this.L!=2&&(Sr(),ft(17)),mi(this),this.s=2,bs(this)):ll(this,this.S-d)};function bs(d){d.j.G==0||d.J||ss(d.j,d)}function mi(d){Xi(d);var E=d.M;E&&typeof E.ma=="function"&&E.ma(),d.M=null,_r(d.U),d.g&&(E=d.g,d.g=null,E.abort(),E.ma())}function ho(d,E){try{var k=d.j;if(k.G!=0&&(k.g==d||Ar(k.h,d))){if(!d.K&&Ar(k.h,d)&&k.G==3){try{var G=k.Da.g.parse(E)}catch{G=null}if(Array.isArray(G)&&G.length==3){var we=G;if(we[0]==0){e:if(!k.u){if(k.g)if(k.g.F+3e3<d.F)Ps(k),Ui(k);else break e;Ys(k),ft(18)}}else k.za=we[1],0<k.za-k.T&&37500>we[2]&&k.F&&k.v==0&&!k.C&&(k.C=nr(I(k.Za,k),6e3));if(1>=fo(k.h)&&k.ca){try{k.ca()}catch{}k.ca=void 0}}else zr(k,11)}else if((d.K||k.g==d)&&Ps(k),!Q(E))for(we=k.Da.g.parse(E),E=0;E<we.length;E++){let zt=we[E];if(k.T=zt[0],zt=zt[1],k.G==2)if(zt[0]=="c"){k.K=zt[1],k.ia=zt[2];const dn=zt[3];dn!=null&&(k.la=dn,k.j.info("VER="+k.la));const yn=zt[4];yn!=null&&(k.Aa=yn,k.j.info("SVER="+k.Aa));const ti=zt[5];ti!=null&&typeof ti=="number"&&0<ti&&(G=1.5*ti,k.L=G,k.j.info("backChannelRequestTimeoutMs_="+G)),G=k;const Nr=d.g;if(Nr){const Ns=Nr.g?Nr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var ke=G.h;ke.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(On(ke,ke.h),ke.h=null))}if(G.D){const Cs=Nr.g?Nr.g.getResponseHeader("X-HTTP-Session-Id"):null;Cs&&(G.ya=Cs,vn(G.I,G.D,Cs))}}k.G=3,k.l&&k.l.ua(),k.ba&&(k.R=Date.now()-d.F,k.j.info("Handshake RTT: "+k.R+"ms")),G=k;var Qe=d;if(G.qa=y(G,G.J?G.ia:null,G.W),Qe.K){Ea(G.h,Qe);var Ut=Qe,Jt=G.L;Jt&&(Ut.I=Jt),Ut.B&&(Xi(Ut),En(Ut)),G.g=Qe}else xs(G);0<k.i.length&&rs(k)}else zt[0]!="stop"&&zt[0]!="close"||zr(k,7);else k.G==3&&(zt[0]=="stop"||zt[0]=="close"?zt[0]=="stop"?zr(k,7):Vn(k):zt[0]!="noop"&&k.l&&k.l.ta(zt),k.v=0)}}Sr(4)}catch{}}var ul=class{constructor(d,E){this.g=d,this.map=E}};function Bs(d){this.l=d||10,u.PerformanceNavigationTiming?(d=u.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xr(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function fo(d){return d.h?1:d.g?d.g.size:0}function Ar(d,E){return d.h?d.h==E:d.g?d.g.has(E):!1}function On(d,E){d.g?d.g.add(E):d.h=E}function Ea(d,E){d.h&&d.h==E?d.h=null:d.g&&d.g.has(E)&&d.g.delete(E)}Bs.prototype.cancel=function(){if(this.i=Aa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Aa(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let E=d.i;for(const k of d.g.values())E=E.concat(k.D);return E}return M(d.i)}function po(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(h(d)){for(var E=[],k=d.length,G=0;G<k;G++)E.push(d[G]);return E}E=[],k=0;for(G in d)E[k++]=d[G];return E}function Us(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(h(d)||typeof d=="string"){var E=[];d=d.length;for(var k=0;k<d;k++)E.push(k);return E}E=[],k=0;for(const G in d)E[k++]=G;return E}}}function zs(d,E){if(d.forEach&&typeof d.forEach=="function")d.forEach(E,void 0);else if(h(d)||typeof d=="string")Array.prototype.forEach.call(d,E,void 0);else for(var k=Us(d),G=po(d),we=G.length,ke=0;ke<we;ke++)E.call(void 0,G[ke],k&&k[ke],d)}var Ir=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Go(d,E){if(d){d=d.split("&");for(var k=0;k<d.length;k++){var G=d[k].indexOf("="),we=null;if(0<=G){var ke=d[k].substring(0,G);we=d[k].substring(G+1)}else ke=d[k];E(ke,we?decodeURIComponent(we.replace(/\+/g," ")):"")}}}function $n(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof $n){this.h=d.h,qs(this,d.j),this.o=d.o,this.g=d.g,Hs(this,d.s),this.l=d.l;var E=d.i,k=new ji;k.i=E.i,E.g&&(k.g=new Map(E.g),k.h=E.h),Es(this,k),this.m=d.m}else d&&(E=String(d).match(Ir))?(this.h=!1,qs(this,E[1]||"",!0),this.o=Kt(E[2]||""),this.g=Kt(E[3]||"",!0),Hs(this,E[4]),this.l=Kt(E[5]||"",!0),Es(this,E[6]||"",!0),this.m=Kt(E[7]||"")):(this.h=!1,this.i=new ji(null,this.h))}$n.prototype.toString=function(){var d=[],E=this.j;E&&d.push(Zi(E,Ko,!0),":");var k=this.g;return(k||E=="file")&&(d.push("//"),(E=this.o)&&d.push(Zi(E,Ko,!0),"@"),d.push(encodeURIComponent(String(k)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),k=this.s,k!=null&&d.push(":",String(k))),(k=this.l)&&(this.g&&k.charAt(0)!="/"&&d.push("/"),d.push(Zi(k,k.charAt(0)=="/"?es:hl,!0))),(k=this.i.toString())&&d.push("?",k),(k=this.m)&&d.push("#",Zi(k,Ws)),d.join("")};function Tr(d){return new $n(d)}function qs(d,E,k){d.j=k?Kt(E,!0):E,d.j&&(d.j=d.j.replace(/:$/,""))}function Hs(d,E){if(E){if(E=Number(E),isNaN(E)||0>E)throw Error("Bad port number "+E);d.s=E}else d.s=null}function Es(d,E,k){E instanceof ji?(d.i=E,ts(d.i,d.h)):(k||(E=Zi(E,go)),d.i=new ji(E,d.h))}function vn(d,E,k){d.i.set(E,k)}function As(d){return vn(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function Kt(d,E){return d?E?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Zi(d,E,k){return typeof d=="string"?(d=encodeURI(d).replace(E,cl),k&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function cl(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Ko=/[#\/\?@]/g,hl=/[#\?:]/g,es=/[#\?]/g,go=/[#\?@]/g,Ws=/#/g;function ji(d,E){this.h=this.g=null,this.i=d||null,this.j=!!E}function sn(d){d.g||(d.g=new Map,d.h=0,d.i&&Go(d.i,function(E,k){d.add(decodeURIComponent(E.replace(/\+/g," ")),k)}))}n=ji.prototype,n.add=function(d,E){sn(this),this.i=null,d=yi(this,d);var k=this.g.get(d);return k||this.g.set(d,k=[]),k.push(E),this.h+=1,this};function Vi(d,E){sn(d),E=yi(d,E),d.g.has(E)&&(d.i=null,d.h-=d.g.get(E).length,d.g.delete(E))}function vi(d,E){return sn(d),E=yi(d,E),d.g.has(E)}n.forEach=function(d,E){sn(this),this.g.forEach(function(k,G){k.forEach(function(we){d.call(E,we,G,this)},this)},this)},n.na=function(){sn(this);const d=Array.from(this.g.values()),E=Array.from(this.g.keys()),k=[];for(let G=0;G<E.length;G++){const we=d[G];for(let ke=0;ke<we.length;ke++)k.push(E[G])}return k},n.V=function(d){sn(this);let E=[];if(typeof d=="string")vi(this,d)&&(E=E.concat(this.g.get(yi(this,d))));else{d=Array.from(this.g.values());for(let k=0;k<d.length;k++)E=E.concat(d[k])}return E},n.set=function(d,E){return sn(this),this.i=null,d=yi(this,d),vi(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[E]),this.h+=1,this},n.get=function(d,E){return d?(d=this.V(d),0<d.length?String(d[0]):E):E};function Pt(d,E,k){Vi(d,E),0<k.length&&(d.i=null,d.g.set(yi(d,E),M(k)),d.h+=k.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],E=Array.from(this.g.keys());for(var k=0;k<E.length;k++){var G=E[k];const ke=encodeURIComponent(String(G)),Qe=this.V(G);for(G=0;G<Qe.length;G++){var we=ke;Qe[G]!==""&&(we+="="+encodeURIComponent(String(Qe[G]))),d.push(we)}}return this.i=d.join("&")};function yi(d,E){return E=String(E),d.j&&(E=E.toLowerCase()),E}function ts(d,E){E&&!d.j&&(sn(d),d.i=null,d.g.forEach(function(k,G){var we=G.toLowerCase();G!=we&&(Vi(this,G),Pt(this,we,k))},d)),d.j=E}function ns(d,E){const k=new rr;if(u.Image){const G=new Image;G.onload=b(xr,k,"TestLoadImage: loaded",!0,E,G),G.onerror=b(xr,k,"TestLoadImage: error",!1,E,G),G.onabort=b(xr,k,"TestLoadImage: abort",!1,E,G),G.ontimeout=b(xr,k,"TestLoadImage: timeout",!1,E,G),u.setTimeout(function(){G.ontimeout&&G.ontimeout()},1e4),G.src=d}else E(!1)}function Ia(d,E){const k=new rr,G=new AbortController,we=setTimeout(()=>{G.abort(),xr(k,"TestPingServer: timeout",!1,E)},1e4);fetch(d,{signal:G.signal}).then(ke=>{clearTimeout(we),ke.ok?xr(k,"TestPingServer: ok",!0,E):xr(k,"TestPingServer: server error",!1,E)}).catch(()=>{clearTimeout(we),xr(k,"TestPingServer: error",!1,E)})}function xr(d,E,k,G,we){try{we&&(we.onload=null,we.onerror=null,we.onabort=null,we.ontimeout=null),G(k)}catch{}}function Qo(){this.g=new di}function Yo(d,E,k){const G=k||"";try{zs(d,function(we,ke){let Qe=we;p(we)&&(Qe=un(we)),E.push(G+ke+"="+encodeURIComponent(Qe))})}catch(we){throw E.push(G+"type="+encodeURIComponent("_badmap")),we}}function Is(d){this.l=d.Ub||null,this.j=d.eb||!1}j(Is,Yt),Is.prototype.g=function(){return new mo(this.l,this.j)},Is.prototype.i=function(d){return function(){return d}}({});function mo(d,E){ct.call(this),this.D=d,this.o=E,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}j(mo,ct),n=mo.prototype,n.open=function(d,E){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=E,this.readyState=1,Pr(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const E={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(E.body=d),(this.D||u).fetch(new Request(this.A,E)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Pr(this)),this.g&&(this.readyState=3,Pr(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;fl(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function fl(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var E=d.value?d.value:new Uint8Array(0);(E=this.v.decode(E,{stream:!d.done}))&&(this.response=this.responseText+=E)}d.done?Zr(this):Pr(this),this.readyState==3&&fl(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Zr(this))},n.Qa=function(d){this.g&&(this.response=d,Zr(this))},n.ga=function(){this.g&&Zr(this)};function Zr(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Pr(d)}n.setRequestHeader=function(d,E){this.u.append(d,E)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],E=this.h.entries();for(var k=E.next();!k.done;)k=k.value,d.push(k[0]+": "+k[1]),k=E.next();return d.join(`\r
`)};function Pr(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(mo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Br(d){let E="";return Ee(d,function(k,G){E+=G,E+=":",E+=k,E+=`\r
`}),E}function $s(d,E,k){e:{for(G in k){var G=!1;break e}G=!0}G||(k=Br(k),typeof d=="string"?k!=null&&encodeURIComponent(String(k)):vn(d,E,k))}function fn(d){ct.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}j(fn,ct);var Ta=/^https?$/i,Gs=["POST","PUT"];n=fn.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,E,k,G){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);E=E?E.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Xn.g(),this.v=this.o?Ji(this.o):Ji(Xn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(E,String(d),!0),this.B=!1}catch(ke){Ks(this,ke);return}if(d=k||"",k=new Map(this.headers),G)if(Object.getPrototypeOf(G)===Object.prototype)for(var we in G)k.set(we,G[we]);else if(typeof G.keys=="function"&&typeof G.get=="function")for(const ke of G.keys())k.set(ke,G.get(ke));else throw Error("Unknown input type for opt_headers: "+String(G));G=Array.from(k.keys()).find(ke=>ke.toLowerCase()=="content-type"),we=u.FormData&&d instanceof u.FormData,!(0<=Array.prototype.indexOf.call(Gs,E,void 0))||G||we||k.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Qe]of k)this.g.setRequestHeader(ke,Qe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ei(this),this.u=!0,this.g.send(d),this.u=!1}catch(ke){Ks(this,ke)}};function Ks(d,E){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=E,d.m=5,vo(d),Ur(d)}function vo(d){d.A||(d.A=!0,mt(d,"complete"),mt(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,mt(this,"complete"),mt(this,"abort"),Ur(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ur(this,!0)),fn.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Jo(this):this.bb())},n.bb=function(){Jo(this)};function Jo(d){if(d.h&&typeof l<"u"&&(!d.v[1]||Gn(d)!=4||d.Z()!=2)){if(d.u&&Gn(d)==4)It(d.Ea,0,d);else if(mt(d,"readystatechange"),Gn(d)==4){d.h=!1;try{const Qe=d.Z();e:switch(Qe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var E=!0;break e;default:E=!1}var k;if(!(k=E)){var G;if(G=Qe===0){var we=String(d.D).match(Ir)[1]||null;!we&&u.self&&u.self.location&&(we=u.self.location.protocol.slice(0,-1)),G=!Ta.test(we?we.toLowerCase():"")}k=G}if(k)mt(d,"complete"),mt(d,"success");else{d.m=6;try{var ke=2<Gn(d)?d.g.statusText:""}catch{ke=""}d.l=ke+" ["+d.Z()+"]",vo(d)}}finally{Ur(d)}}}}function Ur(d,E){if(d.g){ei(d);const k=d.g,G=d.v[0]?()=>{}:null;d.g=null,d.v=null,E||mt(d,"ready");try{k.onreadystatechange=G}catch{}}}function ei(d){d.I&&(u.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function Gn(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<Gn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var E=this.g.responseText;return d&&E.indexOf(d)==0&&(E=E.substring(d.length)),bn(E)}};function xa(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function Bi(d){const E={};d=(d.g&&2<=Gn(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let G=0;G<d.length;G++){if(Q(d[G]))continue;var k=P(d[G]);const we=k[0];if(k=k[1],typeof k!="string")continue;k=k.trim();const ke=E[we]||[];E[we]=ke,ke.push(k)}q(E,function(G){return G.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ir(d,E,k){return k&&k.internalChannelParams&&k.internalChannelParams[d]||E}function yo(d){this.Aa=0,this.i=[],this.j=new rr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ir("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ir("baseRetryDelayMs",5e3,d),this.cb=ir("retryDelaySeedMs",1e4,d),this.Wa=ir("forwardChannelMaxRetries",2,d),this.wa=ir("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new Bs(d&&d.concurrentRequestLimit),this.Da=new Qo,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=yo.prototype,n.la=8,n.G=1,n.connect=function(d,E,k,G){ft(0),this.W=d,this.H=E||{},k&&G!==void 0&&(this.H.OSID=k,this.H.OAID=G),this.F=this.X,this.I=y(this,null,this.W),rs(this)};function Vn(d){if(Ts(d),d.G==3){var E=d.U++,k=Tr(d.I);if(vn(k,"SID",d.K),vn(k,"RID",E),vn(k,"TYPE","terminate"),is(d,k),E=new Wn(d,d.j,E),E.L=2,E.v=As(Tr(k)),k=!1,u.navigator&&u.navigator.sendBeacon)try{k=u.navigator.sendBeacon(E.v.toString(),"")}catch{}!k&&u.Image&&(new Image().src=E.v,k=!0),k||(E.g=F(E.j,null),E.g.ea(E.v)),E.F=Date.now(),En(E)}ea(d)}function Ui(d){d.g&&(Xo(d),d.g.cancel(),d.g=null)}function Ts(d){Ui(d),d.u&&(u.clearTimeout(d.u),d.u=null),Ps(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&u.clearTimeout(d.s),d.s=null)}function rs(d){if(!Xr(d.h)&&!d.s){d.s=!0;var E=d.Ga;ye||ce(),re||(ye(),re=!0),ae.add(E,d),d.B=0}}function Pa(d,E){return fo(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=E.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=nr(I(d.Ga,d,E),Zo(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const we=new Wn(this,this.j,d);let ke=this.o;if(this.S&&(ke?(ke=A(ke),O(ke,this.S)):ke=this.S),this.m!==null||this.O||(we.H=ke,ke=null),this.P)e:{for(var E=0,k=0;k<this.i.length;k++){t:{var G=this.i[k];if("__data__"in G.map&&(G=G.map.__data__,typeof G=="string")){G=G.length;break t}G=void 0}if(G===void 0)break;if(E+=G,4096<E){E=k;break e}if(E===4096||k===this.i.length-1){E=k+1;break e}}E=1e3}else E=1e3;E=zi(this,we,E),k=Tr(this.I),vn(k,"RID",d),vn(k,"CVER",22),this.D&&vn(k,"X-HTTP-Session-Id",this.D),is(this,k),ke&&(this.O?E="headers="+encodeURIComponent(String(Br(ke)))+"&"+E:this.m&&$s(k,this.m,ke)),On(this.h,we),this.Ua&&vn(k,"TYPE","init"),this.P?(vn(k,"$req",E),vn(k,"SID","null"),we.T=!0,Ss(we,k,null)):Ss(we,k,E),this.G=2}}else this.G==3&&(d?Qs(this,d):this.i.length==0||Xr(this.h)||Qs(this))};function Qs(d,E){var k;E?k=E.l:k=d.U++;const G=Tr(d.I);vn(G,"SID",d.K),vn(G,"RID",k),vn(G,"AID",d.T),is(d,G),d.m&&d.o&&$s(G,d.m,d.o),k=new Wn(d,d.j,k,d.B+1),d.m===null&&(k.H=d.o),E&&(d.i=E.D.concat(d.i)),E=zi(d,k,1e3),k.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),On(d.h,k),Ss(k,G,E)}function is(d,E){d.H&&Ee(d.H,function(k,G){vn(E,G,k)}),d.l&&zs({},function(k,G){vn(E,G,k)})}function zi(d,E,k){k=Math.min(d.i.length,k);var G=d.l?I(d.l.Na,d.l,d):null;e:{var we=d.i;let ke=-1;for(;;){const Qe=["count="+k];ke==-1?0<k?(ke=we[0].g,Qe.push("ofs="+ke)):ke=0:Qe.push("ofs="+ke);let Ut=!0;for(let Jt=0;Jt<k;Jt++){let zt=we[Jt].g;const dn=we[Jt].map;if(zt-=ke,0>zt)ke=Math.max(0,we[Jt].g-100),Ut=!1;else try{Yo(dn,Qe,"req"+zt+"_")}catch{G&&G(dn)}}if(Ut){G=Qe.join("&");break e}}}return d=d.i.splice(0,k),E.D=d,G}function xs(d){if(!d.g&&!d.u){d.Y=1;var E=d.Fa;ye||ce(),re||(ye(),re=!0),ae.add(E,d),d.v=0}}function Ys(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=nr(I(d.Fa,d),Zo(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,dl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=nr(I(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ft(10),Ui(this),dl(this))};function Xo(d){d.A!=null&&(u.clearTimeout(d.A),d.A=null)}function dl(d){d.g=new Wn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var E=Tr(d.qa);vn(E,"RID","rpc"),vn(E,"SID",d.K),vn(E,"AID",d.T),vn(E,"CI",d.F?"0":"1"),!d.F&&d.ja&&vn(E,"TO",d.ja),vn(E,"TYPE","xmlhttp"),is(d,E),d.m&&d.o&&$s(E,d.m,d.o),d.L&&(d.g.I=d.L);var k=d.g;d=d.ia,k.L=1,k.v=As(Tr(E)),k.m=null,k.P=!0,Vs(k,d)}n.Za=function(){this.C!=null&&(this.C=null,Ui(this),Ys(this),ft(19))};function Ps(d){d.C!=null&&(u.clearTimeout(d.C),d.C=null)}function ss(d,E){var k=null;if(d.g==E){Ps(d),Xo(d),d.g=null;var G=2}else if(Ar(d.h,E))k=E.D,Ea(d.h,E),G=1;else return;if(d.G!=0){if(E.o)if(G==1){k=E.m?E.m.length:0,E=Date.now()-E.F;var we=d.B;G=Fi(),mt(G,new Mr(G,k)),rs(d)}else xs(d);else if(we=E.s,we==3||we==0&&0<E.X||!(G==1&&Pa(d,E)||G==2&&Ys(d)))switch(k&&0<k.length&&(E=d.h,E.i=E.i.concat(k)),we){case 1:zr(d,5);break;case 4:zr(d,10);break;case 3:zr(d,6);break;default:zr(d,2)}}}function Zo(d,E){let k=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(k*=2),k*E}function zr(d,E){if(d.j.info("Error code "+E),E==2){var k=I(d.fb,d),G=d.Xa;const we=!G;G=new $n(G||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||qs(G,"https"),As(G),we?ns(G.toString(),k):Ia(G.toString(),k)}else ft(2);d.G=0,d.l&&d.l.sa(E),ea(d),Ts(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),ft(2)):(this.j.info("Failed to ping google.com"),ft(1))};function ea(d){if(d.G=0,d.ka=[],d.l){const E=Aa(d.h);(E.length!=0||d.i.length!=0)&&(B(d.ka,E),B(d.ka,d.i),d.h.i.length=0,M(d.i),d.i.length=0),d.l.ra()}}function y(d,E,k){var G=k instanceof $n?Tr(k):new $n(k);if(G.g!="")E&&(G.g=E+"."+G.g),Hs(G,G.s);else{var we=u.location;G=we.protocol,E=E?E+"."+we.hostname:we.hostname,we=+we.port;var ke=new $n(null);G&&qs(ke,G),E&&(ke.g=E),we&&Hs(ke,we),k&&(ke.l=k),G=ke}return k=d.D,E=d.ya,k&&E&&vn(G,k,E),vn(G,"VER",d.la),is(d,G),G}function F(d,E,k){if(E&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return E=d.Ca&&!d.pa?new fn(new Is({eb:k})):new fn(d.pa),E.Ha(d.J),E}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function ee(){}n=ee.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function le(){}le.prototype.g=function(d,E){return new be(d,E)};function be(d,E){ct.call(this),this.g=new yo(E),this.l=d,this.h=E&&E.messageUrlParams||null,d=E&&E.messageHeaders||null,E&&E.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=E&&E.initMessageHeaders||null,E&&E.messageContentType&&(d?d["X-WebChannel-Content-Type"]=E.messageContentType:d={"X-WebChannel-Content-Type":E.messageContentType}),E&&E.va&&(d?d["X-WebChannel-Client-Profile"]=E.va:d={"X-WebChannel-Client-Profile":E.va}),this.g.S=d,(d=E&&E.Sb)&&!Q(d)&&(this.g.m=d),this.v=E&&E.supportsCrossDomainXhr||!1,this.u=E&&E.sendRawJson||!1,(E=E&&E.httpSessionIdParam)&&!Q(E)&&(this.g.D=E,d=this.h,d!==null&&E in d&&(d=this.h,E in d&&delete d[E])),this.j=new at(this)}j(be,ct),be.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},be.prototype.close=function(){Vn(this.g)},be.prototype.o=function(d){var E=this.g;if(typeof d=="string"){var k={};k.__data__=d,d=k}else this.u&&(k={},k.__data__=un(d),d=k);E.i.push(new ul(E.Ya++,d)),E.G==3&&rs(E)},be.prototype.N=function(){this.g.l=null,delete this.j,Vn(this.g),delete this.g,be.aa.N.call(this)};function Fe(d){wr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var E=d.__sm__;if(E){e:{for(const k in E){d=k;break e}d=void 0}(this.i=d)&&(d=this.i,E=E!==null&&d in E?E[d]:void 0),this.data=E}else this.data=d}j(Fe,wr);function $e(){Pn.call(this),this.status=1}j($e,Pn);function at(d){this.g=d}j(at,ee),at.prototype.ua=function(){mt(this.g,"a")},at.prototype.ta=function(d){mt(this.g,new Fe(d))},at.prototype.sa=function(d){mt(this.g,new $e)},at.prototype.ra=function(){mt(this.g,"b")},le.prototype.createWebChannel=le.prototype.g,be.prototype.send=be.prototype.o,be.prototype.open=be.prototype.m,be.prototype.close=be.prototype.close,vy=function(){return new le},my=function(){return Fi()},gy=xt,Ug={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},jr.NO_ERROR=0,jr.TIMEOUT=8,jr.HTTP_ERROR=6,id=jr,gi.COMPLETE="complete",py=gi,xn.EventType=Hn,Hn.OPEN="a",Hn.CLOSE="b",Hn.ERROR="c",Hn.MESSAGE="d",ct.prototype.listen=ct.prototype.K,Ih=xn,fn.prototype.listenOnce=fn.prototype.L,fn.prototype.getLastError=fn.prototype.Ka,fn.prototype.getLastErrorCode=fn.prototype.Ba,fn.prototype.getStatus=fn.prototype.Z,fn.prototype.getResponseJson=fn.prototype.Oa,fn.prototype.getResponseText=fn.prototype.oa,fn.prototype.send=fn.prototype.ea,fn.prototype.setWithCredentials=fn.prototype.Ha,dy=fn}).apply(typeof Wf<"u"?Wf:typeof self<"u"?self:typeof window<"u"?window:{});const X0="@firebase/firestore",Z0="4.7.14";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Li.UNAUTHENTICATED=new Li(null),Li.GOOGLE_CREDENTIALS=new Li("google-credentials-uid"),Li.FIRST_PARTY=new Li("first-party-uid"),Li.MOCK_USER=new Li("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xc="11.7.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hu=new Pm("@firebase/firestore");function Ec(){return Hu.logLevel}function vt(n,...e){if(Hu.logLevel<=tn.DEBUG){const t=e.map(km);Hu.debug(`Firestore (${Xc}): ${n}`,...t)}}function nl(n,...e){if(Hu.logLevel<=tn.ERROR){const t=e.map(km);Hu.error(`Firestore (${Xc}): ${n}`,...t)}}function zc(n,...e){if(Hu.logLevel<=tn.WARN){const t=e.map(km);Hu.warn(`Firestore (${Xc}): ${n}`,...t)}}function km(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mt(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,yy(n,r,t)}function yy(n,e,t){let r=`FIRESTORE (${Xc}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw nl(r),new Error(r)}function Tn(n,e,t,r){let i="Unexpected state";typeof t=="string"?i=t:r=t,n||yy(e,i,r)}function $t(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Nt extends ol{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _y{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class OS{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Li.UNAUTHENTICATED))}shutdown(){}}class DS{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class FS{constructor(e){this.t=e,this.currentUser=Li.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Tn(this.o===void 0,42304);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let o=new iu;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new iu,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=o;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},u=h=>{vt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>u(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?u(h):(vt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new iu)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(vt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Tn(typeof r.accessToken=="string",31837,{l:r}),new _y(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Tn(e===null||typeof e=="string",2055,{h:e}),new Li(e)}}class MS{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Li.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class jS{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new MS(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(Li.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VS{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,lo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Tn(this.o===void 0,3512);const r=o=>{o.error!=null&&vt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,vt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{vt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?i(o):vt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new e2(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Tn(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new e2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BS(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wy(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=BS(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%62))}return r}}function Qt(n,e){return n<e?-1:n>e?1:0}function zg(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),i=e.codePointAt(t);if(r!==i){if(r<128&&i<128)return Qt(r,i);{const o=wy(),l=US(o.encode(t2(n,t)),o.encode(t2(e,t)));return l!==0?l:Qt(r,i)}}t+=r>65535?2:1}return Qt(n.length,e.length)}function t2(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function US(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return Qt(n[t],e[t]);return Qt(n.length,e.length)}function qc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n2=-62135596800,r2=1e6;class Dr{static now(){return Dr.fromMillis(Date.now())}static fromDate(e){return Dr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*r2);return new Dr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Nt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Nt(Ze.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<n2)throw new Nt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Nt(Ze.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/r2}_compareTo(e){return this.seconds===e.seconds?Qt(this.nanoseconds,e.nanoseconds):Qt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-n2;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{static fromTimestamp(e){return new qt(e)}static min(){return new qt(new Dr(0,0))}static max(){return new qt(new Dr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i2="__name__";class da{constructor(e,t,r){t===void 0?t=0:t>e.length&&Mt(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Mt(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return da.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof da?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=da.compareSegments(e.get(i),t.get(i));if(o!==0)return o}return Qt(e.length,t.length)}static compareSegments(e,t){const r=da.isNumericId(e),i=da.isNumericId(t);return r&&!i?-1:!r&&i?1:r&&i?da.extractNumericId(e).compare(da.extractNumericId(t)):zg(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ru.fromString(e.substring(4,e.length-2))}}class Yn extends da{construct(e,t,r){return new Yn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new Nt(Ze.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Yn(t)}static emptyPath(){return new Yn([])}}const zS=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hi extends da{construct(e,t,r){return new hi(e,t,r)}static isValidIdentifier(e){return zS.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hi.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i2}static keyField(){return new hi([i2])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(r.length===0)throw new Nt(Ze.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const u=e[i];if(u==="\\"){if(i+1===e.length)throw new Nt(Ze.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new Nt(Ze.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else u==="`"?(l=!l,i++):u!=="."||l?(r+=u,i++):(o(),i++)}if(o(),l)throw new Nt(Ze.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hi(t)}static emptyPath(){return new hi([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e){this.path=e}static fromPath(e){return new Lt(Yn.fromString(e))}static fromName(e){return new Lt(Yn.fromString(e).popFirst(5))}static empty(){return new Lt(Yn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Yn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Yn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Lt(new Yn(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=-1;function qS(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=qt.fromTimestamp(r===1e9?new Dr(t+1,0):new Dr(t,r));return new ou(i,Lt.empty(),e)}function HS(n){return new ou(n.readTime,n.key,Uh)}class ou{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ou(qt.min(),Lt.empty(),Uh)}static max(){return new ou(qt.max(),Lt.empty(),Uh)}}function WS(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Lt.comparator(n.documentKey,e.documentKey),t!==0?t:Qt(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class GS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zc(n){if(n.code!==Ze.FAILED_PRECONDITION||n.message!==$S)throw n;vt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Mt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new He((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof He?t:He.resolve(t)}catch(t){return He.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):He.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):He.reject(t)}static resolve(e){return new He((t,r)=>{t(e)})}static reject(e){return new He((t,r)=>{r(e)})}static waitFor(e){return new He((t,r)=>{let i=0,o=0,l=!1;e.forEach(u=>{++i,u.next(()=>{++o,l&&o===i&&t()},h=>r(h))}),l=!0,o===i&&t()})}static or(e){let t=He.resolve(!1);for(const r of e)t=t.next(i=>i?He.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new He((r,i)=>{const o=e.length,l=new Array(o);let u=0;for(let h=0;h<o;h++){const p=h;t(e[p]).next(v=>{l[p]=v,++u,u===o&&r(l)},v=>i(v))}})}static doWhile(e,t){return new He((r,i)=>{const o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}}function KS(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function eh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}Qd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm=-1;function Yd(n){return n==null}function bd(n){return n===0&&1/n==-1/0}function QS(n){return typeof n=="number"&&Number.isInteger(n)&&!bd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const by="";function YS(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=s2(e)),e=JS(n.get(t),e);return s2(e)}function JS(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="";break;case by:t+="";break;default:t+=o}}return t}function s2(n){return n+by+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Ku(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Ey(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tr{constructor(e,t){this.comparator=e,this.root=t||ci.EMPTY}insert(e,t){return new tr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ci.BLACK,null,null))}remove(e){return new tr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ci.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $f(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $f(this.root,e,this.comparator,!1)}getReverseIterator(){return new $f(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $f(this.root,e,this.comparator,!0)}}class $f{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ci{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??ci.RED,this.left=i??ci.EMPTY,this.right=o??ci.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new ci(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ci.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return ci.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ci.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ci.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Mt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Mt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Mt(27949);return e+(this.isRed()?0:1)}}ci.EMPTY=null,ci.RED=!0,ci.BLACK=!1;ci.EMPTY=new class{constructor(){this.size=0}get key(){throw Mt(57766)}get value(){throw Mt(16141)}get color(){throw Mt(16727)}get left(){throw Mt(29726)}get right(){throw Mt(36894)}copy(e,t,r,i,o){return this}insert(e,t,r){return new ci(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e){this.comparator=e,this.data=new tr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new a2(this.data.getIterator())}getIteratorFrom(e){return new a2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Fr)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Fr(this.comparator);return t.data=e,t}}class a2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uo{constructor(e){this.fields=e,e.sort(hi.comparator)}static empty(){return new Uo([])}unionWith(e){let t=new Fr(hi.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Uo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ay("Invalid base64 string: "+o):o}}(e);return new fi(t)}static fromUint8Array(e){const t=function(i){let o="";for(let l=0;l<i.length;++l)o+=String.fromCharCode(i[l]);return o}(e);return new fi(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fi.EMPTY_BYTE_STRING=new fi("");const XS=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function au(n){if(Tn(!!n,39018),typeof n=="string"){let e=0;const t=XS.exec(n);if(Tn(!!t,46558,{timestamp:n}),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pr(n.seconds),nanos:pr(n.nanos)}}function pr(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function lu(n){return typeof n=="string"?fi.fromBase64String(n):fi.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iy="server_timestamp",Ty="__type__",xy="__previous_value__",Py="__local_write_time__";function Rm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ty])===null||t===void 0?void 0:t.stringValue)===Iy}function Jd(n){const e=n.mapValue.fields[xy];return Rm(e)?Jd(e):e}function zh(n){const e=au(n.mapValue.fields[Py].timestampValue);return new Dr(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZS{constructor(e,t,r,i,o,l,u,h,p,v){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=h,this.useFetchStreams=p,this.isUsingEmulator=v}}const Ed="(default)";class qh{constructor(e,t){this.projectId=e,this.database=t||Ed}static empty(){return new qh("","")}get isDefaultDatabase(){return this.database===Ed}isEqual(e){return e instanceof qh&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny="__type__",eb="__max__",Gf={mapValue:{}},Cy="__vector__",Ad="value";function uu(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Rm(n)?4:nb(n)?9007199254740991:tb(n)?10:11:Mt(28295,{value:n})}function wa(n,e){if(n===e)return!0;const t=uu(n);if(t!==uu(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return zh(n).isEqual(zh(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;const l=au(i.timestampValue),u=au(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return lu(i.bytesValue).isEqual(lu(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return pr(i.geoPointValue.latitude)===pr(o.geoPointValue.latitude)&&pr(i.geoPointValue.longitude)===pr(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return pr(i.integerValue)===pr(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){const l=pr(i.doubleValue),u=pr(o.doubleValue);return l===u?bd(l)===bd(u):isNaN(l)&&isNaN(u)}return!1}(n,e);case 9:return qc(n.arrayValue.values||[],e.arrayValue.values||[],wa);case 10:case 11:return function(i,o){const l=i.mapValue.fields||{},u=o.mapValue.fields||{};if(o2(l)!==o2(u))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(u[h]===void 0||!wa(l[h],u[h])))return!1;return!0}(n,e);default:return Mt(52216,{left:n})}}function Hh(n,e){return(n.values||[]).find(t=>wa(t,e))!==void 0}function Hc(n,e){if(n===e)return 0;const t=uu(n),r=uu(e);if(t!==r)return Qt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qt(n.booleanValue,e.booleanValue);case 2:return function(o,l){const u=pr(o.integerValue||o.doubleValue),h=pr(l.integerValue||l.doubleValue);return u<h?-1:u>h?1:u===h?0:isNaN(u)?isNaN(h)?0:-1:1}(n,e);case 3:return l2(n.timestampValue,e.timestampValue);case 4:return l2(zh(n),zh(e));case 5:return zg(n.stringValue,e.stringValue);case 6:return function(o,l){const u=lu(o),h=lu(l);return u.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(o,l){const u=o.split("/"),h=l.split("/");for(let p=0;p<u.length&&p<h.length;p++){const v=Qt(u[p],h[p]);if(v!==0)return v}return Qt(u.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,l){const u=Qt(pr(o.latitude),pr(l.latitude));return u!==0?u:Qt(pr(o.longitude),pr(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return u2(n.arrayValue,e.arrayValue);case 10:return function(o,l){var u,h,p,v;const _=o.fields||{},I=l.fields||{},b=(u=_[Ad])===null||u===void 0?void 0:u.arrayValue,j=(h=I[Ad])===null||h===void 0?void 0:h.arrayValue,M=Qt(((p=b==null?void 0:b.values)===null||p===void 0?void 0:p.length)||0,((v=j==null?void 0:j.values)===null||v===void 0?void 0:v.length)||0);return M!==0?M:u2(b,j)}(n.mapValue,e.mapValue);case 11:return function(o,l){if(o===Gf.mapValue&&l===Gf.mapValue)return 0;if(o===Gf.mapValue)return 1;if(l===Gf.mapValue)return-1;const u=o.fields||{},h=Object.keys(u),p=l.fields||{},v=Object.keys(p);h.sort(),v.sort();for(let _=0;_<h.length&&_<v.length;++_){const I=zg(h[_],v[_]);if(I!==0)return I;const b=Hc(u[h[_]],p[v[_]]);if(b!==0)return b}return Qt(h.length,v.length)}(n.mapValue,e.mapValue);default:throw Mt(23264,{Pe:t})}}function l2(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Qt(n,e);const t=au(n),r=au(e),i=Qt(t.seconds,r.seconds);return i!==0?i:Qt(t.nanos,r.nanos)}function u2(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const o=Hc(t[i],r[i]);if(o)return o}return Qt(t.length,r.length)}function Wc(n){return qg(n)}function qg(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=au(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return lu(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Lt.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const o of t.values||[])i?i=!1:r+=",",r+=qg(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",o=!0;for(const l of r)o?o=!1:i+=",",i+=`${l}:${qg(t.fields[l])}`;return i+"}"}(n.mapValue):Mt(61005,{value:n})}function sd(n){switch(uu(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Jd(n);return e?16+sd(e):16;case 5:return 2*n.stringValue.length;case 6:return lu(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,o)=>i+sd(o),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return Ku(r.fields,(o,l)=>{i+=o.length+sd(l)}),i}(n.mapValue);default:throw Mt(13486,{value:n})}}function Hg(n){return!!n&&"integerValue"in n}function Om(n){return!!n&&"arrayValue"in n}function c2(n){return!!n&&"nullValue"in n}function h2(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function od(n){return!!n&&"mapValue"in n}function tb(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Ny])===null||t===void 0?void 0:t.stringValue)===Cy}function Ch(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Ku(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ch(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ch(n.arrayValue.values[t]);return e}return Object.assign({},n)}function nb(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===eb}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uo{constructor(e){this.value=e}static empty(){return new uo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!od(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ch(t)}setAll(e){let t=hi.emptyPath(),r={},i=[];e.forEach((l,u)=>{if(!t.isImmediateParentOf(u)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=u.popLast()}l?r[u.lastSegment()]=Ch(l):i.push(u.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());od(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return wa(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];od(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Ku(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new uo(Ch(this.value))}}function ky(n){const e=[];return Ku(n.fields,(t,r)=>{const i=new hi([t]);if(od(r)){const o=ky(r.mapValue).fields;if(o.length===0)e.push(i);else for(const l of o)e.push(i.child(l))}else e.push(i)}),new Uo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,t,r,i,o,l,u){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(e){return new Ri(e,0,qt.min(),qt.min(),qt.min(),uo.empty(),0)}static newFoundDocument(e,t,r,i){return new Ri(e,1,t,qt.min(),r,i,0)}static newNoDocument(e,t){return new Ri(e,2,t,qt.min(),qt.min(),uo.empty(),0)}static newUnknownDocument(e,t){return new Ri(e,3,t,qt.min(),qt.min(),uo.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=uo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=uo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ri&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ri(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Id{constructor(e,t){this.position=e,this.inclusive=t}}function f2(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],l=n.position[i];if(o.field.isKeyField()?r=Lt.comparator(Lt.fromName(l.referenceValue),t.key):r=Hc(l,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function d2(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!wa(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,t="asc"){this.field=e,this.dir=t}}function rb(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ly{}class Or extends Ly{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new sb(e,t,r):t==="array-contains"?new lb(e,r):t==="in"?new ub(e,r):t==="not-in"?new cb(e,r):t==="array-contains-any"?new hb(e,r):new Or(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new ob(e,r):new ab(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Hc(t,this.value)):t!==null&&uu(this.value)===uu(t)&&this.matchesComparison(Hc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Mt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sa extends Ly{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new Sa(e,t)}matches(e){return Ry(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Ry(n){return n.op==="and"}function Oy(n){return ib(n)&&Ry(n)}function ib(n){for(const e of n.filters)if(e instanceof Sa)return!1;return!0}function Wg(n){if(n instanceof Or)return n.field.canonicalString()+n.op.toString()+Wc(n.value);if(Oy(n))return n.filters.map(e=>Wg(e)).join(",");{const e=n.filters.map(t=>Wg(t)).join(",");return`${n.op}(${e})`}}function Dy(n,e){return n instanceof Or?function(r,i){return i instanceof Or&&r.op===i.op&&r.field.isEqual(i.field)&&wa(r.value,i.value)}(n,e):n instanceof Sa?function(r,i){return i instanceof Sa&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,l,u)=>o&&Dy(l,i.filters[u]),!0):!1}(n,e):void Mt(19439)}function Fy(n){return n instanceof Or?function(t){return`${t.field.canonicalString()} ${t.op} ${Wc(t.value)}`}(n):n instanceof Sa?function(t){return t.op.toString()+" {"+t.getFilters().map(Fy).join(" ,")+"}"}(n):"Filter"}class sb extends Or{constructor(e,t,r){super(e,t,r),this.key=Lt.fromName(r.referenceValue)}matches(e){const t=Lt.comparator(e.key,this.key);return this.matchesComparison(t)}}class ob extends Or{constructor(e,t){super(e,"in",t),this.keys=My("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class ab extends Or{constructor(e,t){super(e,"not-in",t),this.keys=My("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function My(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Lt.fromName(r.referenceValue))}class lb extends Or{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Om(t)&&Hh(t.arrayValue,this.value)}}class ub extends Or{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&Hh(this.value.arrayValue,t)}}class cb extends Or{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!Hh(this.value.arrayValue,t)}}class hb extends Or{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Om(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hh(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fb{constructor(e,t=null,r=[],i=[],o=null,l=null,u=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=l,this.endAt=u,this.Ie=null}}function p2(n,e=null,t=[],r=[],i=null,o=null,l=null){return new fb(n,e,t,r,i,o,l)}function Dm(n){const e=$t(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Wg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Wc(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Wc(r)).join(",")),e.Ie=t}return e.Ie}function Fm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!rb(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!Dy(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!d2(n.startAt,e.startAt)&&d2(n.endAt,e.endAt)}function $g(n){return Lt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xd{constructor(e,t=null,r=[],i=[],o=null,l="F",u=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=h,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function db(n,e,t,r,i,o,l,u){return new Xd(n,e,t,r,i,o,l,u)}function jy(n){return new Xd(n)}function g2(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function pb(n){return n.collectionGroup!==null}function kh(n){const e=$t(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const o of e.explicitOrderBy)e.Ee.push(o),t.add(o.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Fr(hi.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(p=>{p.isInequality()&&(u=u.add(p.field))})}),u})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.Ee.push(new Td(o,r))}),t.has(hi.keyField().canonicalString())||e.Ee.push(new Td(hi.keyField(),r))}return e.Ee}function ga(n){const e=$t(n);return e.de||(e.de=gb(e,kh(n))),e.de}function gb(n,e){if(n.limitType==="F")return p2(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const o=i.dir==="desc"?"asc":"desc";return new Td(i.field,o)});const t=n.endAt?new Id(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Id(n.startAt.position,n.startAt.inclusive):null;return p2(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Gg(n,e,t){return new Xd(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Zd(n,e){return Fm(ga(n),ga(e))&&n.limitType===e.limitType}function Vy(n){return`${Dm(ga(n))}|lt:${n.limitType}`}function Ac(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>Fy(i)).join(", ")}]`),Yd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Wc(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Wc(i)).join(",")),`Target(${r})`}(ga(n))}; limitType=${n.limitType})`}function ep(n,e){return e.isFoundDocument()&&function(r,i){const o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Lt.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(const o of kh(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,u,h){const p=f2(l,u,h);return l.inclusive?p<=0:p<0}(r.startAt,kh(r),i)||r.endAt&&!function(l,u,h){const p=f2(l,u,h);return l.inclusive?p>=0:p>0}(r.endAt,kh(r),i))}(n,e)}function mb(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function By(n){return(e,t)=>{let r=!1;for(const i of kh(n)){const o=vb(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function vb(n,e,t){const r=n.field.isKeyField()?Lt.comparator(e.key,t.key):function(o,l,u){const h=l.data.field(o),p=u.data.field(o);return h!==null&&p!==null?Hc(h,p):Mt(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Mt(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ku(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return Ey(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=new tr(Lt.comparator);function rl(){return yb}const Uy=new tr(Lt.comparator);function Th(...n){let e=Uy;for(const t of n)e=e.insert(t.key,t);return e}function zy(n){let e=Uy;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Bu(){return Lh()}function qy(){return Lh()}function Lh(){return new Qu(n=>n.toString(),(n,e)=>n.isEqual(e))}const _b=new tr(Lt.comparator),wb=new Fr(Lt.comparator);function nn(...n){let e=wb;for(const t of n)e=e.add(t);return e}const Sb=new Fr(Qt);function bb(){return Sb}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:bd(e)?"-0":e}}function Hy(n){return{integerValue:""+n}}function Eb(n,e){return QS(e)?Hy(e):Mm(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tp{constructor(){this._=void 0}}function Ab(n,e,t){return n instanceof Wh?function(i,o){const l={fields:{[Ty]:{stringValue:Iy},[Py]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Rm(o)&&(o=Jd(o)),o&&(l.fields[xy]=o),{mapValue:l}}(t,e):n instanceof $h?$y(n,e):n instanceof Gh?Gy(n,e):function(i,o){const l=Wy(i,o),u=m2(l)+m2(i.Re);return Hg(l)&&Hg(i.Re)?Hy(u):Mm(i.serializer,u)}(n,e)}function Ib(n,e,t){return n instanceof $h?$y(n,e):n instanceof Gh?Gy(n,e):t}function Wy(n,e){return n instanceof xd?function(r){return Hg(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}class Wh extends tp{}class $h extends tp{constructor(e){super(),this.elements=e}}function $y(n,e){const t=Ky(e);for(const r of n.elements)t.some(i=>wa(i,r))||t.push(r);return{arrayValue:{values:t}}}class Gh extends tp{constructor(e){super(),this.elements=e}}function Gy(n,e){let t=Ky(e);for(const r of n.elements)t=t.filter(i=>!wa(i,r));return{arrayValue:{values:t}}}class xd extends tp{constructor(e,t){super(),this.serializer=e,this.Re=t}}function m2(n){return pr(n.integerValue||n.doubleValue)}function Ky(n){return Om(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tb{constructor(e,t){this.field=e,this.transform=t}}function xb(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof $h&&i instanceof $h||r instanceof Gh&&i instanceof Gh?qc(r.elements,i.elements,wa):r instanceof xd&&i instanceof xd?wa(r.Re,i.Re):r instanceof Wh&&i instanceof Wh}(n.transform,e.transform)}class Pb{constructor(e,t){this.version=e,this.transformResults=t}}class Za{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Za}static exists(e){return new Za(void 0,e)}static updateTime(e){return new Za(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ad(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class np{}function Qy(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new Jy(n.key,Za.none()):new tf(n.key,n.data,Za.none());{const t=n.data,r=uo.empty();let i=new Fr(hi.comparator);for(let o of e.fields)if(!i.has(o)){let l=t.field(o);l===null&&o.length>1&&(o=o.popLast(),l=t.field(o)),l===null?r.delete(o):r.set(o,l),i=i.add(o)}return new Yu(n.key,r,new Uo(i.toArray()),Za.none())}}function Nb(n,e,t){n instanceof tf?function(i,o,l){const u=i.value.clone(),h=y2(i.fieldTransforms,o,l.transformResults);u.setAll(h),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()}(n,e,t):n instanceof Yu?function(i,o,l){if(!ad(i.precondition,o))return void o.convertToUnknownDocument(l.version);const u=y2(i.fieldTransforms,o,l.transformResults),h=o.data;h.setAll(Yy(i)),h.setAll(u),o.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Rh(n,e,t,r){return n instanceof tf?function(o,l,u,h){if(!ad(o.precondition,l))return u;const p=o.value.clone(),v=_2(o.fieldTransforms,h,l);return p.setAll(v),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null}(n,e,t,r):n instanceof Yu?function(o,l,u,h){if(!ad(o.precondition,l))return u;const p=_2(o.fieldTransforms,h,l),v=l.data;return v.setAll(Yy(o)),v.setAll(p),l.convertToFoundDocument(l.version,v).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(o,l,u){return ad(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u}(n,e,t)}function Cb(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=Wy(r.transform,i||null);o!=null&&(t===null&&(t=uo.empty()),t.set(r.field,o))}return t||null}function v2(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&qc(r,i,(o,l)=>xb(o,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class tf extends np{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Yu extends np{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function Yy(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function y2(n,e,t){const r=new Map;Tn(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let i=0;i<t.length;i++){const o=n[i],l=o.transform,u=e.data.field(o.field);r.set(o.field,Ib(l,u,t[i]))}return r}function _2(n,e,t){const r=new Map;for(const i of n){const o=i.transform,l=t.data.field(i.field);r.set(i.field,Ab(o,l,e))}return r}class Jy extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class kb extends np{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&Nb(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Rh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Rh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=qy();return this.mutations.forEach(i=>{const o=e.get(i.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=t.has(i.key)?null:u;const h=Qy(l,u);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(qt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),nn())}isEqual(e){return this.batchId===e.batchId&&qc(this.mutations,e.mutations,(t,r)=>v2(t,r))&&qc(this.baseMutations,e.baseMutations,(t,r)=>v2(t,r))}}class jm{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Tn(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let i=function(){return _b}();const o=e.mutations;for(let l=0;l<o.length;l++)i=i.insert(o[l].key,r[l].version);return new jm(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Er,ln;function Db(n){switch(n){case Ze.OK:return Mt(64938);case Ze.CANCELLED:case Ze.UNKNOWN:case Ze.DEADLINE_EXCEEDED:case Ze.RESOURCE_EXHAUSTED:case Ze.INTERNAL:case Ze.UNAVAILABLE:case Ze.UNAUTHENTICATED:return!1;case Ze.INVALID_ARGUMENT:case Ze.NOT_FOUND:case Ze.ALREADY_EXISTS:case Ze.PERMISSION_DENIED:case Ze.FAILED_PRECONDITION:case Ze.ABORTED:case Ze.OUT_OF_RANGE:case Ze.UNIMPLEMENTED:case Ze.DATA_LOSS:return!0;default:return Mt(15467,{code:n})}}function Xy(n){if(n===void 0)return nl("GRPC error has no .code"),Ze.UNKNOWN;switch(n){case Er.OK:return Ze.OK;case Er.CANCELLED:return Ze.CANCELLED;case Er.UNKNOWN:return Ze.UNKNOWN;case Er.DEADLINE_EXCEEDED:return Ze.DEADLINE_EXCEEDED;case Er.RESOURCE_EXHAUSTED:return Ze.RESOURCE_EXHAUSTED;case Er.INTERNAL:return Ze.INTERNAL;case Er.UNAVAILABLE:return Ze.UNAVAILABLE;case Er.UNAUTHENTICATED:return Ze.UNAUTHENTICATED;case Er.INVALID_ARGUMENT:return Ze.INVALID_ARGUMENT;case Er.NOT_FOUND:return Ze.NOT_FOUND;case Er.ALREADY_EXISTS:return Ze.ALREADY_EXISTS;case Er.PERMISSION_DENIED:return Ze.PERMISSION_DENIED;case Er.FAILED_PRECONDITION:return Ze.FAILED_PRECONDITION;case Er.ABORTED:return Ze.ABORTED;case Er.OUT_OF_RANGE:return Ze.OUT_OF_RANGE;case Er.UNIMPLEMENTED:return Ze.UNIMPLEMENTED;case Er.DATA_LOSS:return Ze.DATA_LOSS;default:return Mt(39323,{code:n})}}(ln=Er||(Er={}))[ln.OK=0]="OK",ln[ln.CANCELLED=1]="CANCELLED",ln[ln.UNKNOWN=2]="UNKNOWN",ln[ln.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ln[ln.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ln[ln.NOT_FOUND=5]="NOT_FOUND",ln[ln.ALREADY_EXISTS=6]="ALREADY_EXISTS",ln[ln.PERMISSION_DENIED=7]="PERMISSION_DENIED",ln[ln.UNAUTHENTICATED=16]="UNAUTHENTICATED",ln[ln.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ln[ln.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ln[ln.ABORTED=10]="ABORTED",ln[ln.OUT_OF_RANGE=11]="OUT_OF_RANGE",ln[ln.UNIMPLEMENTED=12]="UNIMPLEMENTED",ln[ln.INTERNAL=13]="INTERNAL",ln[ln.UNAVAILABLE=14]="UNAVAILABLE",ln[ln.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fb=new ru([4294967295,4294967295],0);function w2(n){const e=wy().encode(n),t=new fy;return t.update(e),new Uint8Array(t.digest())}function S2(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ru([t,r],0),new ru([i,o],0)]}class Vm{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new xh(`Invalid padding: ${t}`);if(r<0)throw new xh(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new xh(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new xh(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=ru.fromNumber(this.pe)}we(e,t,r){let i=e.add(t.multiply(ru.fromNumber(r)));return i.compare(Fb)===1&&(i=new ru([i.getBits(0),i.getBits(1)],0)),i.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=w2(e),[r,i]=S2(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);if(!this.be(l))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),l=new Vm(o,i,t);return r.forEach(u=>l.insert(u)),l}insert(e){if(this.pe===0)return;const t=w2(e),[r,i]=S2(t);for(let o=0;o<this.hashCount;o++){const l=this.we(r,i,o);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class xh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rp{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,nf.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new rp(qt.min(),i,new tr(Qt),rl(),nn())}}class nf{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new nf(r,t,nn(),nn(),nn())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(e,t,r,i){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=i}}class Zy{constructor(e,t){this.targetId=e,this.Ce=t}}class e5{constructor(e,t,r=fi.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class b2{constructor(){this.Fe=0,this.Me=E2(),this.xe=fi.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=nn(),t=nn(),r=nn();return this.Me.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Mt(38017,{changeType:o})}}),new nf(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=E2()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Tn(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class Mb{constructor(e){this.ze=e,this.je=new Map,this.He=rl(),this.Je=Kf(),this.Ye=Kf(),this.Ze=new tr(Qt)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Mt(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,i)=>{this.it(i)&&t(i)})}ot(e){const t=e.targetId,r=e.Ce.count,i=this._t(t);if(i){const o=i.target;if($g(o))if(r===0){const l=new Lt(o.path);this.tt(t,l,Ri.newNoDocument(l,qt.min()))}else Tn(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const u=this.ct(e),h=u?this.lt(u,e,l):1;if(h!==0){this.st(t);const p=h===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t;let l,u;try{l=lu(r).toUint8Array()}catch(h){if(h instanceof Ay)return zc("Decoding the base64 bloom filter in existence filter failed ("+h.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw h}try{u=new Vm(l,i,o)}catch(h){return zc(h instanceof xh?"BloomFilter error: ":"Applying bloom filter failed: ",h),null}return u.pe===0?null:u}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let i=0;return r.forEach(o=>{const l=this.ze.Pt(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;e.mightContain(u)||(this.tt(t,o,null),i++)}),i}It(e){const t=new Map;this.je.forEach((o,l)=>{const u=this._t(l);if(u){if(o.current&&$g(u.target)){const h=new Lt(u.target.path);this.Et(h).has(l)||this.dt(l,h)||this.tt(l,h,Ri.newNoDocument(h,e))}o.Le&&(t.set(l,o.qe()),o.Qe())}});let r=nn();this.Ye.forEach((o,l)=>{let u=!0;l.forEachWhile(h=>{const p=this._t(h);return!p||p.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)}),u&&(r=r.add(o))}),this.He.forEach((o,l)=>l.setReadTime(e));const i=new rp(e,t,this.Ze,this.He,r);return this.He=rl(),this.Je=Kf(),this.Ye=Kf(),this.Ze=new tr(Qt),i}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const i=this.rt(e);this.dt(e,t)?i.$e(t,1):i.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new b2,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Fr(Qt),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Fr(Qt),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||vt("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new b2),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Kf(){return new tr(Lt.comparator)}function E2(){return new tr(Lt.comparator)}const jb={asc:"ASCENDING",desc:"DESCENDING"},Vb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Bb={and:"AND",or:"OR"};class Ub{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Kg(n,e){return n.useProto3Json||Yd(e)?e:{value:e}}function Pd(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function t5(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function zb(n,e){return Pd(n,e.toTimestamp())}function ma(n){return Tn(!!n,49232),qt.fromTimestamp(function(t){const r=au(t);return new Dr(r.seconds,r.nanos)}(n))}function Bm(n,e){return Qg(n,e).canonicalString()}function Qg(n,e){const t=function(i){return new Yn(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function n5(n){const e=Yn.fromString(n);return Tn(a5(e),10190,{key:e.toString()}),e}function Yg(n,e){return Bm(n.databaseId,e.path)}function dg(n,e){const t=n5(e);if(t.get(1)!==n.databaseId.projectId)throw new Nt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new Nt(Ze.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Lt(i5(t))}function r5(n,e){return Bm(n.databaseId,e)}function qb(n){const e=n5(n);return e.length===4?Yn.emptyPath():i5(e)}function Jg(n){return new Yn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function i5(n){return Tn(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function A2(n,e,t){return{name:Yg(n,e),fields:t.value.mapValue.fields}}function Hb(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Mt(39313,{state:p})}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(p,v){return p.useProto3Json?(Tn(v===void 0||typeof v=="string",58123),fi.fromBase64String(v||"")):(Tn(v===void 0||v instanceof Buffer||v instanceof Uint8Array,16193),fi.fromUint8Array(v||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,u=l&&function(p){const v=p.code===void 0?Ze.UNKNOWN:Xy(p.code);return new Nt(v,p.message||"")}(l);t=new e5(r,i,o,u||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=dg(n,r.document.name),o=ma(r.document.updateTime),l=r.document.createTime?ma(r.document.createTime):qt.min(),u=new uo({mapValue:{fields:r.document.fields}}),h=Ri.newFoundDocument(i,o,l,u),p=r.targetIds||[],v=r.removedTargetIds||[];t=new ld(p,v,h.key,h)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=dg(n,r.document),o=r.readTime?ma(r.readTime):qt.min(),l=Ri.newNoDocument(i,o),u=r.removedTargetIds||[];t=new ld([],u,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=dg(n,r.document),o=r.removedTargetIds||[];t=new ld([],o,i,null)}else{if(!("filter"in e))return Mt(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:o}=r,l=new Ob(i,o),u=r.targetId;t=new Zy(u,l)}}return t}function Wb(n,e){let t;if(e instanceof tf)t={update:A2(n,e.key,e.value)};else if(e instanceof Jy)t={delete:Yg(n,e.key)};else if(e instanceof Yu)t={update:A2(n,e.key,e.data),updateMask:eE(e.fieldMask)};else{if(!(e instanceof kb))return Mt(16599,{ft:e.type});t={verify:Yg(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,l){const u=l.transform;if(u instanceof Wh)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof $h)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Gh)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof xd)return{fieldPath:l.field.canonicalString(),increment:u.Re};throw Mt(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:zb(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Mt(27497)}(n,e.precondition)),t}function $b(n,e){return n&&n.length>0?(Tn(e!==void 0,14353),n.map(t=>function(i,o){let l=i.updateTime?ma(i.updateTime):ma(o);return l.isEqual(qt.min())&&(l=ma(o)),new Pb(l,i.transformResults||[])}(t,e))):[]}function Gb(n,e){return{documents:[r5(n,e.path)]}}function Kb(n,e){const t={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=r5(n,i);const o=function(p){if(p.length!==0)return o5(Sa.create(p,"and"))}(e.filters);o&&(t.structuredQuery.where=o);const l=function(p){if(p.length!==0)return p.map(v=>function(I){return{field:Ic(I.field),direction:Jb(I.dir)}}(v))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const u=Kg(n,e.limit);return u!==null&&(t.structuredQuery.limit=u),e.startAt&&(t.structuredQuery.startAt=function(p){return{before:p.inclusive,values:p.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(p){return{before:!p.inclusive,values:p.position}}(e.endAt)),{gt:t,parent:i}}function Qb(n){let e=qb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Tn(r===1,65062);const v=t.from[0];v.allDescendants?i=v.collectionId:e=e.child(v.collectionId)}let o=[];t.where&&(o=function(_){const I=s5(_);return I instanceof Sa&&Oy(I)?I.getFilters():[I]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(I=>function(j){return new Td(Tc(j.field),function(B){switch(B){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(j.direction))}(I))}(t.orderBy));let u=null;t.limit&&(u=function(_){let I;return I=typeof _=="object"?_.value:_,Yd(I)?null:I}(t.limit));let h=null;t.startAt&&(h=function(_){const I=!!_.before,b=_.values||[];return new Id(b,I)}(t.startAt));let p=null;return t.endAt&&(p=function(_){const I=!_.before,b=_.values||[];return new Id(b,I)}(t.endAt)),db(e,i,l,o,u,"F",h,p)}function Yb(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Mt(28987,{purpose:i})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function s5(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Tc(t.unaryFilter.field);return Or.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Tc(t.unaryFilter.field);return Or.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Tc(t.unaryFilter.field);return Or.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Tc(t.unaryFilter.field);return Or.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Mt(61313);default:return Mt(60726)}}(n):n.fieldFilter!==void 0?function(t){return Or.create(Tc(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Mt(58110);default:return Mt(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Sa.create(t.compositeFilter.filters.map(r=>s5(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Mt(1026)}}(t.compositeFilter.op))}(n):Mt(30097,{filter:n})}function Jb(n){return jb[n]}function Xb(n){return Vb[n]}function Zb(n){return Bb[n]}function Ic(n){return{fieldPath:n.canonicalString()}}function Tc(n){return hi.fromServerFormat(n.fieldPath)}function o5(n){return n instanceof Or?function(t){if(t.op==="=="){if(h2(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NAN"}};if(c2(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(h2(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NOT_NAN"}};if(c2(t.value))return{unaryFilter:{field:Ic(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ic(t.field),op:Xb(t.op),value:t.value}}}(n):n instanceof Sa?function(t){const r=t.getFilters().map(i=>o5(i));return r.length===1?r[0]:{compositeFilter:{op:Zb(t.op),filters:r}}}(n):Mt(54877,{filter:n})}function eE(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function a5(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e,t,r,i,o=qt.min(),l=qt.min(),u=fi.EMPTY_BYTE_STRING,h=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=h}withSequenceNumber(e){return new Jl(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Jl(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tE{constructor(e){this.wt=e}}function nE(n){const e=Qb({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Gg(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(){this.yn=new iE}addToCollectionParentIndex(e,t){return this.yn.add(t),He.resolve()}getCollectionParents(e,t){return He.resolve(this.yn.getEntries(t))}addFieldIndex(e,t){return He.resolve()}deleteFieldIndex(e,t){return He.resolve()}deleteAllFieldIndexes(e){return He.resolve()}createTargetIndexes(e,t){return He.resolve()}getDocumentsMatchingTarget(e,t){return He.resolve(null)}getIndexType(e,t){return He.resolve(0)}getFieldIndexes(e,t){return He.resolve([])}getNextCollectionGroupToUpdate(e){return He.resolve(null)}getMinOffset(e,t){return He.resolve(ou.min())}getMinOffsetFromCollectionGroup(e,t){return He.resolve(ou.min())}updateCollectionGroup(e,t,r){return He.resolve()}updateIndexEntries(e,t){return He.resolve()}}class iE{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Fr(Yn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Fr(Yn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},l5=41943040;class ms{static withCacheSize(e){return new ms(e,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ms.DEFAULT_COLLECTION_PERCENTILE=10,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ms.DEFAULT=new ms(l5,ms.DEFAULT_COLLECTION_PERCENTILE,ms.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ms.DISABLED=new ms(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $c{constructor(e){this.nr=e}next(){return this.nr+=2,this.nr}static rr(){return new $c(0)}static ir(){return new $c(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T2="LruGarbageCollector",sE=1048576;function x2([n,e],[t,r]){const i=Qt(n,t);return i===0?Qt(e,r):i}class oE{constructor(e){this.cr=e,this.buffer=new Fr(x2),this.lr=0}hr(){return++this.lr}Pr(e){const t=[e,this.hr()];if(this.buffer.size<this.cr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();x2(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class aE{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Tr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ir(6e4)}stop(){this.Tr&&(this.Tr.cancel(),this.Tr=null)}get started(){return this.Tr!==null}Ir(e){vt(T2,`Garbage collection scheduled in ${e}ms`),this.Tr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Tr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){eh(t)?vt(T2,"Ignoring IndexedDB error during garbage collection: ",t):await Zc(t)}await this.Ir(3e5)})}}class lE{constructor(e,t){this.Er=e,this.params=t}calculateTargetCount(e,t){return this.Er.dr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return He.resolve(Qd.le);const r=new oE(t);return this.Er.forEachTarget(e,i=>r.Pr(i.sequenceNumber)).next(()=>this.Er.Ar(e,i=>r.Pr(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Er.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Er.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(vt("LruGarbageCollector","Garbage collection skipped; disabled"),He.resolve(I2)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(vt("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),I2):this.Rr(e,t))}getCacheSize(e){return this.Er.getCacheSize(e)}Rr(e,t){let r,i,o,l,u,h,p;const v=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(vt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,u=Date.now(),this.removeTargets(e,r,t))).next(_=>(o=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(p=Date.now(),Ec()<=tn.DEBUG&&vt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-v}ms
	Determined least recently used ${i} in `+(u-l)+`ms
	Removed ${o} targets in `+(h-u)+`ms
	Removed ${_} documents in `+(p-h)+`ms
Total Duration: ${p-v}ms`),He.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:_})))}}function uE(n,e){return new lE(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE{constructor(){this.changes=new Qu(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Ri.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?He.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fE{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&Rh(r.mutation,i,Uo.empty(),Dr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,nn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=nn()){const i=Bu();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let l=Th();return o.forEach((u,h)=>{l=l.insert(u,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Bu();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,nn()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((l,u)=>{t.set(l,u)})})}computeViews(e,t,r,i){let o=rl();const l=Lh(),u=function(){return Lh()}();return t.forEach((h,p)=>{const v=r.get(p.key);i.has(p.key)&&(v===void 0||v.mutation instanceof Yu)?o=o.insert(p.key,p):v!==void 0?(l.set(p.key,v.mutation.getFieldMask()),Rh(v.mutation,p,v.mutation.getFieldMask(),Dr.now())):l.set(p.key,Uo.empty())}),this.recalculateAndSaveOverlays(e,o).next(h=>(h.forEach((p,v)=>l.set(p,v)),t.forEach((p,v)=>{var _;return u.set(p,new hE(v,(_=l.get(p))!==null&&_!==void 0?_:null))}),u))}recalculateAndSaveOverlays(e,t){const r=Lh();let i=new tr((l,u)=>l-u),o=nn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const u of l)u.keys().forEach(h=>{const p=t.get(h);if(p===null)return;let v=r.get(h)||Uo.empty();v=u.applyToLocalView(p,v),r.set(h,v);const _=(i.get(u.batchId)||nn()).add(h);i=i.insert(u.batchId,_)})}).next(()=>{const l=[],u=i.getReverseIterator();for(;u.hasNext();){const h=u.getNext(),p=h.key,v=h.value,_=qy();v.forEach(I=>{if(!o.has(I)){const b=Qy(t.get(I),r.get(I));b!==null&&_.set(I,b),o=o.add(I)}}),l.push(this.documentOverlayCache.saveOverlays(e,p,_))}return He.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return Lt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):pb(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const l=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):He.resolve(Bu());let u=Uh,h=o;return l.next(p=>He.forEach(p,(v,_)=>(u<_.largestBatchId&&(u=_.largestBatchId),o.get(v)?He.resolve():this.remoteDocumentCache.getEntry(e,v).next(I=>{h=h.insert(v,I)}))).next(()=>this.populateOverlays(e,p,o)).next(()=>this.computeViews(e,h,p,nn())).next(v=>({batchId:u,changes:zy(v)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Lt(t)).next(r=>{let i=Th();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const o=t.collectionGroup;let l=Th();return this.indexManager.getCollectionParents(e,o).next(u=>He.forEach(u,h=>{const p=function(_,I){return new Xd(I,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(o));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next(v=>{v.forEach((_,I)=>{l=l.insert(_,I)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(l=>{o.forEach((h,p)=>{const v=p.getKey();l.get(v)===null&&(l=l.insert(v,Ri.newInvalidDocument(v)))});let u=Th();return l.forEach((h,p)=>{const v=o.get(h);v!==void 0&&Rh(v.mutation,p,Uo.empty(),Dr.now()),ep(t,p)&&(u=u.insert(h,p))}),u})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE{constructor(e){this.serializer=e,this.Fr=new Map,this.Mr=new Map}getBundleMetadata(e,t){return He.resolve(this.Fr.get(t))}saveBundleMetadata(e,t){return this.Fr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:ma(i.createTime)}}(t)),He.resolve()}getNamedQuery(e,t){return He.resolve(this.Mr.get(t))}saveNamedQuery(e,t){return this.Mr.set(t.name,function(i){return{name:i.name,query:nE(i.bundledQuery),readTime:ma(i.readTime)}}(t)),He.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(){this.overlays=new tr(Lt.comparator),this.Or=new Map}getOverlay(e,t){return He.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Bu();return He.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.St(e,t,o)}),He.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Or.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Or.delete(r)),He.resolve()}getOverlaysForCollection(e,t,r){const i=Bu(),o=t.length+1,l=new Lt(t.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const h=u.getNext().value,p=h.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===o&&h.largestBatchId>r&&i.set(h.getKey(),h)}return He.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new tr((p,v)=>p-v);const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let v=o.get(p.largestBatchId);v===null&&(v=Bu(),o=o.insert(p.largestBatchId,v)),v.set(p.getKey(),p)}}const u=Bu(),h=o.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((p,v)=>u.set(p,v)),!(u.size()>=i)););return He.resolve(u)}St(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Or.get(i.largestBatchId).delete(r.key);this.Or.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new Rb(t,r));let o=this.Or.get(t);o===void 0&&(o=nn(),this.Or.set(t,o)),this.Or.set(t,o.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(){this.sessionToken=fi.EMPTY_BYTE_STRING}getSessionToken(e){return He.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,He.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.Nr=new Fr(Yr.Br),this.Lr=new Fr(Yr.kr)}isEmpty(){return this.Nr.isEmpty()}addReference(e,t){const r=new Yr(e,t);this.Nr=this.Nr.add(r),this.Lr=this.Lr.add(r)}qr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Qr(new Yr(e,t))}$r(e,t){e.forEach(r=>this.removeReference(r,t))}Ur(e){const t=new Lt(new Yn([])),r=new Yr(t,e),i=new Yr(t,e+1),o=[];return this.Lr.forEachInRange([r,i],l=>{this.Qr(l),o.push(l.key)}),o}Kr(){this.Nr.forEach(e=>this.Qr(e))}Qr(e){this.Nr=this.Nr.delete(e),this.Lr=this.Lr.delete(e)}Wr(e){const t=new Lt(new Yn([])),r=new Yr(t,e),i=new Yr(t,e+1);let o=nn();return this.Lr.forEachInRange([r,i],l=>{o=o.add(l.key)}),o}containsKey(e){const t=new Yr(e,0),r=this.Nr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Yr{constructor(e,t){this.key=e,this.Gr=t}static Br(e,t){return Lt.comparator(e.key,t.key)||Qt(e.Gr,t.Gr)}static kr(e,t){return Qt(e.Gr,t.Gr)||Lt.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Jn=1,this.zr=new Fr(Yr.Br)}checkEmpty(e){return He.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const o=this.Jn;this.Jn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new Lb(o,t,r,i);this.mutationQueue.push(l);for(const u of i)this.zr=this.zr.add(new Yr(u.key,o)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast());return He.resolve(l)}lookupMutationBatch(e,t){return He.resolve(this.jr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Hr(r),o=i<0?0:i;return He.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return He.resolve(this.mutationQueue.length===0?Lm:this.Jn-1)}getAllMutationBatches(e){return He.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Yr(t,0),i=new Yr(t,Number.POSITIVE_INFINITY),o=[];return this.zr.forEachInRange([r,i],l=>{const u=this.jr(l.Gr);o.push(u)}),He.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Fr(Qt);return t.forEach(i=>{const o=new Yr(i,0),l=new Yr(i,Number.POSITIVE_INFINITY);this.zr.forEachInRange([o,l],u=>{r=r.add(u.Gr)})}),He.resolve(this.Jr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;Lt.isDocumentKey(o)||(o=o.child(""));const l=new Yr(new Lt(o),0);let u=new Fr(Qt);return this.zr.forEachWhile(h=>{const p=h.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(u=u.add(h.Gr)),!0)},l),He.resolve(this.Jr(u))}Jr(e){const t=[];return e.forEach(r=>{const i=this.jr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Tn(this.Yr(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.zr;return He.forEach(t.mutations,i=>{const o=new Yr(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.zr=r})}Xn(e){}containsKey(e,t){const r=new Yr(t,0),i=this.zr.firstAfterOrEqual(r);return He.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,He.resolve()}Yr(e,t){return this.Hr(e)}Hr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}jr(e){const t=this.Hr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vE{constructor(e){this.Zr=e,this.docs=function(){return new tr(Lt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,l=this.Zr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return He.resolve(r?r.document.mutableCopy():Ri.newInvalidDocument(t))}getEntries(e,t){let r=rl();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Ri.newInvalidDocument(i))}),He.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=rl();const l=t.path,u=new Lt(l.child("__id-9223372036854775808__")),h=this.docs.getIteratorFrom(u);for(;h.hasNext();){const{key:p,value:{document:v}}=h.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||WS(HS(v),r)<=0||(i.has(v.key)||ep(t,v))&&(o=o.insert(v.key,v.mutableCopy()))}return He.resolve(o)}getAllFromCollectionGroup(e,t,r,i){Mt(9500)}Xr(e,t){return He.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new yE(this)}getSize(e){return He.resolve(this.size)}}class yE extends cE{constructor(e){super(),this.vr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.vr.addEntry(e,i)):this.vr.removeEntry(r)}),He.waitFor(t)}getFromCache(e,t){return this.vr.getEntry(e,t)}getAllFromCache(e,t){return this.vr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _E{constructor(e){this.persistence=e,this.ei=new Qu(t=>Dm(t),Fm),this.lastRemoteSnapshotVersion=qt.min(),this.highestTargetId=0,this.ti=0,this.ni=new Um,this.targetCount=0,this.ri=$c.rr()}forEachTarget(e,t){return this.ei.forEach((r,i)=>t(i)),He.resolve()}getLastRemoteSnapshotVersion(e){return He.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return He.resolve(this.ti)}allocateTargetId(e){return this.highestTargetId=this.ri.next(),He.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ti&&(this.ti=t),He.resolve()}ar(e){this.ei.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ri=new $c(t),this.highestTargetId=t),e.sequenceNumber>this.ti&&(this.ti=e.sequenceNumber)}addTargetData(e,t){return this.ar(t),this.targetCount+=1,He.resolve()}updateTargetData(e,t){return this.ar(t),He.resolve()}removeTargetData(e,t){return this.ei.delete(t.target),this.ni.Ur(t.targetId),this.targetCount-=1,He.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.ei.forEach((l,u)=>{u.sequenceNumber<=t&&r.get(u.targetId)===null&&(this.ei.delete(l),o.push(this.removeMatchingKeysForTargetId(e,u.targetId)),i++)}),He.waitFor(o).next(()=>i)}getTargetCount(e){return He.resolve(this.targetCount)}getTargetData(e,t){const r=this.ei.get(t)||null;return He.resolve(r)}addMatchingKeys(e,t,r){return this.ni.qr(t,r),He.resolve()}removeMatchingKeys(e,t,r){this.ni.$r(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(l=>{o.push(i.markPotentiallyOrphaned(e,l))}),He.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.ni.Ur(t),He.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ni.Wr(t);return He.resolve(r)}containsKey(e,t){return He.resolve(this.ni.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e,t){this.ii={},this.overlays={},this.si=new Qd(0),this.oi=!1,this.oi=!0,this._i=new gE,this.referenceDelegate=e(this),this.ai=new _E(this),this.indexManager=new rE,this.remoteDocumentCache=function(i){return new vE(i)}(r=>this.referenceDelegate.ui(r)),this.serializer=new tE(t),this.ci=new dE(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.oi=!1,Promise.resolve()}get started(){return this.oi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new pE,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ii[e.toKey()];return r||(r=new mE(t,this.referenceDelegate),this.ii[e.toKey()]=r),r}getGlobalsCache(){return this._i}getTargetCache(){return this.ai}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.ci}runTransaction(e,t,r){vt("MemoryPersistence","Starting transaction:",e);const i=new wE(this.si.next());return this.referenceDelegate.li(),r(i).next(o=>this.referenceDelegate.hi(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Pi(e,t){return He.or(Object.values(this.ii).map(r=>()=>r.containsKey(e,t)))}}class wE extends GS{constructor(e){super(),this.currentSequenceNumber=e}}class zm{constructor(e){this.persistence=e,this.Ti=new Um,this.Ii=null}static Ei(e){return new zm(e)}get di(){if(this.Ii)return this.Ii;throw Mt(60996)}addReference(e,t,r){return this.Ti.addReference(r,t),this.di.delete(r.toString()),He.resolve()}removeReference(e,t,r){return this.Ti.removeReference(r,t),this.di.add(r.toString()),He.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),He.resolve()}removeTarget(e,t){this.Ti.Ur(t.targetId).forEach(i=>this.di.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.di.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}li(){this.Ii=new Set}hi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return He.forEach(this.di,r=>{const i=Lt.fromPath(r);return this.Ai(e,i).next(o=>{o||t.removeEntry(i,qt.min())})}).next(()=>(this.Ii=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ai(e,t).next(r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())})}ui(e){return 0}Ai(e,t){return He.or([()=>He.resolve(this.Ti.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Pi(e,t)])}}class Nd{constructor(e,t){this.persistence=e,this.Ri=new Qu(r=>YS(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=uE(this,t)}static Ei(e,t){return new Nd(e,t)}li(){}hi(e){return He.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.Vr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Vr(e){let t=0;return this.Ar(e,r=>{t++}).next(()=>t)}Ar(e,t){return He.forEach(this.Ri,(r,i)=>this.gr(e,r,i).next(o=>o?He.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),o=i.newChangeBuffer();return i.Xr(e,l=>this.gr(e,l,t).next(u=>{u||(r++,o.removeEntry(l,qt.min()))})).next(()=>o.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.Ri.set(t,e.currentSequenceNumber),He.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),He.resolve()}removeReference(e,t,r){return this.Ri.set(r,e.currentSequenceNumber),He.resolve()}updateLimboDocument(e,t){return this.Ri.set(t,e.currentSequenceNumber),He.resolve()}ui(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=sd(e.data.value)),t}gr(e,t,r){return He.or([()=>this.persistence.Pi(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.Ri.get(t);return He.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qm{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.ls=r,this.hs=i}static Ps(e,t){let r=nn(),i=nn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new qm(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(){this.Ts=!1,this.Is=!1,this.Es=100,this.ds=function(){return p3()?8:KS(Di())>0?6:4}()}initialize(e,t){this.As=e,this.indexManager=t,this.Ts=!0}getDocumentsMatchingQuery(e,t,r,i){const o={result:null};return this.Rs(e,t).next(l=>{o.result=l}).next(()=>{if(!o.result)return this.Vs(e,t,i,r).next(l=>{o.result=l})}).next(()=>{if(o.result)return;const l=new SE;return this.fs(e,t,l).next(u=>{if(o.result=u,this.Is)return this.gs(e,t,l,u.size)})}).next(()=>o.result)}gs(e,t,r,i){return r.documentReadCount<this.Es?(Ec()<=tn.DEBUG&&vt("QueryEngine","SDK will not create cache indexes for query:",Ac(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Es,"documents"),He.resolve()):(Ec()<=tn.DEBUG&&vt("QueryEngine","Query:",Ac(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ds*i?(Ec()<=tn.DEBUG&&vt("QueryEngine","The SDK decides to create cache indexes for query:",Ac(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ga(t))):He.resolve())}Rs(e,t){if(g2(t))return He.resolve(null);let r=ga(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Gg(t,null,"F"),r=ga(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const l=nn(...o);return this.As.getDocuments(e,l).next(u=>this.indexManager.getMinOffset(e,r).next(h=>{const p=this.ps(t,u);return this.ys(t,p,l,h.readTime)?this.Rs(e,Gg(t,null,"F")):this.ws(e,p,t,h)}))})))}Vs(e,t,r,i){return g2(t)||i.isEqual(qt.min())?He.resolve(null):this.As.getDocuments(e,r).next(o=>{const l=this.ps(t,o);return this.ys(t,l,r,i)?He.resolve(null):(Ec()<=tn.DEBUG&&vt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ac(t)),this.ws(e,l,t,qS(i,Uh)).next(u=>u))})}ps(e,t){let r=new Fr(By(e));return t.forEach((i,o)=>{ep(e,o)&&(r=r.add(o))}),r}ys(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}fs(e,t,r){return Ec()<=tn.DEBUG&&vt("QueryEngine","Using full collection scan to execute query:",Ac(t)),this.As.getDocumentsMatchingQuery(e,t,ou.min(),r)}ws(e,t,r,i){return this.As.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(l=>{o=o.insert(l.key,l)}),o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hm="LocalStore",EE=3e8;class AE{constructor(e,t,r,i){this.persistence=e,this.bs=t,this.serializer=i,this.Ss=new tr(Qt),this.Ds=new Qu(o=>Dm(o),Fm),this.vs=new Map,this.Cs=e.getRemoteDocumentCache(),this.ai=e.getTargetCache(),this.ci=e.getBundleCache(),this.Fs(r)}Fs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new fE(this.Cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Cs.setIndexManager(this.indexManager),this.bs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Ss))}}function IE(n,e,t,r){return new AE(n,e,t,r)}async function c5(n,e){const t=$t(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Fs(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const l=[],u=[];let h=nn();for(const p of i){l.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}for(const p of o){u.push(p.batchId);for(const v of p.mutations)h=h.add(v.key)}return t.localDocuments.getDocuments(r,h).next(p=>({Ms:p,removedBatchIds:l,addedBatchIds:u}))})})}function TE(n,e){const t=$t(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Cs.newChangeBuffer({trackRemovals:!0});return function(u,h,p,v){const _=p.batch,I=_.keys();let b=He.resolve();return I.forEach(j=>{b=b.next(()=>v.getEntry(h,j)).next(M=>{const B=p.docVersions.get(j);Tn(B!==null,48541),M.version.compareTo(B)<0&&(_.applyToRemoteDocument(M,p),M.isValidDocument()&&(M.setReadTime(p.commitVersion),v.addEntry(M)))})}),b.next(()=>u.mutationQueue.removeMutationBatch(h,_))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(u){let h=nn();for(let p=0;p<u.mutationResults.length;++p)u.mutationResults[p].transformResults.length>0&&(h=h.add(u.batch.mutations[p].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function h5(n){const e=$t(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ai.getLastRemoteSnapshotVersion(t))}function xE(n,e){const t=$t(n),r=e.snapshotVersion;let i=t.Ss;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const l=t.Cs.newChangeBuffer({trackRemovals:!0});i=t.Ss;const u=[];e.targetChanges.forEach((v,_)=>{const I=i.get(_);if(!I)return;u.push(t.ai.removeMatchingKeys(o,v.removedDocuments,_).next(()=>t.ai.addMatchingKeys(o,v.addedDocuments,_)));let b=I.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(_)!==null?b=b.withResumeToken(fi.EMPTY_BYTE_STRING,qt.min()).withLastLimboFreeSnapshotVersion(qt.min()):v.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(v.resumeToken,r)),i=i.insert(_,b),function(M,B,V){return M.resumeToken.approximateByteSize()===0||B.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=EE?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(I,b,v)&&u.push(t.ai.updateTargetData(o,b))});let h=rl(),p=nn();if(e.documentUpdates.forEach(v=>{e.resolvedLimboDocuments.has(v)&&u.push(t.persistence.referenceDelegate.updateLimboDocument(o,v))}),u.push(PE(o,l,e.documentUpdates).next(v=>{h=v.xs,p=v.Os})),!r.isEqual(qt.min())){const v=t.ai.getLastRemoteSnapshotVersion(o).next(_=>t.ai.setTargetsMetadata(o,o.currentSequenceNumber,r));u.push(v)}return He.waitFor(u).next(()=>l.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,h,p)).next(()=>h)}).then(o=>(t.Ss=i,o))}function PE(n,e,t){let r=nn(),i=nn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let l=rl();return t.forEach((u,h)=>{const p=o.get(u);h.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(u)),h.isNoDocument()&&h.version.isEqual(qt.min())?(e.removeEntry(u,h.readTime),l=l.insert(u,h)):!p.isValidDocument()||h.version.compareTo(p.version)>0||h.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(h),l=l.insert(u,h)):vt(Hm,"Ignoring outdated watch update for ",u,". Current version:",p.version," Watch version:",h.version)}),{xs:l,Os:i}})}function NE(n,e){const t=$t(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Lm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function CE(n,e){const t=$t(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.ai.getTargetData(r,e).next(o=>o?(i=o,He.resolve(i)):t.ai.allocateTargetId(r).next(l=>(i=new Jl(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.ai.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Ss=t.Ss.insert(r.targetId,r),t.Ds.set(e,r.targetId)),r})}async function Xg(n,e,t){const r=$t(n),i=r.Ss.get(e),o=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",o,l=>r.persistence.referenceDelegate.removeTarget(l,i))}catch(l){if(!eh(l))throw l;vt(Hm,`Failed to update sequence numbers for target ${e}: ${l}`)}r.Ss=r.Ss.remove(e),r.Ds.delete(i.target)}function P2(n,e,t){const r=$t(n);let i=qt.min(),o=nn();return r.persistence.runTransaction("Execute query","readwrite",l=>function(h,p,v){const _=$t(h),I=_.Ds.get(v);return I!==void 0?He.resolve(_.Ss.get(I)):_.ai.getTargetData(p,v)}(r,l,ga(e)).next(u=>{if(u)return i=u.lastLimboFreeSnapshotVersion,r.ai.getMatchingKeysForTargetId(l,u.targetId).next(h=>{o=h})}).next(()=>r.bs.getDocumentsMatchingQuery(l,e,t?i:qt.min(),t?o:nn())).next(u=>(kE(r,mb(e),u),{documents:u,Ns:o})))}function kE(n,e,t){let r=n.vs.get(e)||qt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.vs.set(e,r)}class N2{constructor(){this.activeTargetIds=bb()}$s(e){this.activeTargetIds=this.activeTargetIds.add(e)}Us(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Qs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class LE{constructor(){this.So=new N2,this.Do={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.So.$s(e),this.Do[e]||"not-current"}updateQueryState(e,t,r){this.Do[e]=t}removeLocalQueryTarget(e){this.So.Us(e)}isLocalQueryTarget(e){return this.So.activeTargetIds.has(e)}clearQueryState(e){delete this.Do[e]}getAllActiveQueryTargets(){return this.So.activeTargetIds}isActiveQueryTarget(e){return this.So.activeTargetIds.has(e)}start(){return this.So=new N2,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{vo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C2="ConnectivityMonitor";class k2{constructor(){this.Co=()=>this.Fo(),this.Mo=()=>this.xo(),this.Oo=[],this.No()}vo(e){this.Oo.push(e)}shutdown(){window.removeEventListener("online",this.Co),window.removeEventListener("offline",this.Mo)}No(){window.addEventListener("online",this.Co),window.addEventListener("offline",this.Mo)}Fo(){vt(C2,"Network connectivity changed: AVAILABLE");for(const e of this.Oo)e(0)}xo(){vt(C2,"Network connectivity changed: UNAVAILABLE");for(const e of this.Oo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf=null;function Zg(){return Qf===null?Qf=function(){return 268435456+Math.round(2147483648*Math.random())}():Qf++,"0x"+Qf.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg="RestConnection",OE={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class DE{get Bo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Lo=t+"://"+e.host,this.ko=`projects/${r}/databases/${i}`,this.qo=this.databaseId.database===Ed?`project_id=${r}`:`project_id=${r}&database_id=${i}`}Qo(e,t,r,i,o){const l=Zg(),u=this.$o(e,t.toUriEncodedString());vt(pg,`Sending RPC '${e}' ${l}:`,u,r);const h={"google-cloud-resource-prefix":this.ko,"x-goog-request-params":this.qo};this.Uo(h,i,o);const{host:p}=new URL(u),v=Xh(p);return this.Ko(e,u,h,r,v).then(_=>(vt(pg,`Received RPC '${e}' ${l}: `,_),_),_=>{throw zc(pg,`RPC '${e}' ${l} failed with error: `,_,"url: ",u,"request:",r),_})}Wo(e,t,r,i,o,l){return this.Qo(e,t,r,i,o)}Uo(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Xc}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}$o(e,t){const r=OE[e];return`${this.Lo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FE{constructor(e){this.Go=e.Go,this.zo=e.zo}jo(e){this.Ho=e}Jo(e){this.Yo=e}Zo(e){this.Xo=e}onMessage(e){this.e_=e}close(){this.zo()}send(e){this.Go(e)}t_(){this.Ho()}n_(){this.Yo()}r_(e){this.Xo(e)}i_(e){this.e_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi="WebChannelConnection";class ME extends DE{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ko(e,t,r,i,o){const l=Zg();return new Promise((u,h)=>{const p=new dy;p.setWithCredentials(!0),p.listenOnce(py.COMPLETE,()=>{try{switch(p.getLastErrorCode()){case id.NO_ERROR:const _=p.getResponseJson();vt(xi,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(_)),u(_);break;case id.TIMEOUT:vt(xi,`RPC '${e}' ${l} timed out`),h(new Nt(Ze.DEADLINE_EXCEEDED,"Request time out"));break;case id.HTTP_ERROR:const I=p.getStatus();if(vt(xi,`RPC '${e}' ${l} failed with status:`,I,"response text:",p.getResponseText()),I>0){let b=p.getResponseJson();Array.isArray(b)&&(b=b[0]);const j=b==null?void 0:b.error;if(j&&j.status&&j.message){const M=function(V){const Q=V.toLowerCase().replace(/_/g,"-");return Object.values(Ze).indexOf(Q)>=0?Q:Ze.UNKNOWN}(j.status);h(new Nt(M,j.message))}else h(new Nt(Ze.UNKNOWN,"Server responded with status "+p.getStatus()))}else h(new Nt(Ze.UNAVAILABLE,"Connection failed."));break;default:Mt(9055,{s_:e,streamId:l,o_:p.getLastErrorCode(),__:p.getLastError()})}}finally{vt(xi,`RPC '${e}' ${l} completed.`)}});const v=JSON.stringify(i);vt(xi,`RPC '${e}' ${l} sending request:`,i),p.send(t,"POST",v,r,15)})}a_(e,t,r){const i=Zg(),o=[this.Lo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=vy(),u=my(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(h.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Uo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const v=o.join("");vt(xi,`Creating RPC '${e}' stream ${i}: ${v}`,h);const _=l.createWebChannel(v,h);let I=!1,b=!1;const j=new FE({Go:B=>{b?vt(xi,`Not sending because RPC '${e}' stream ${i} is closed:`,B):(I||(vt(xi,`Opening RPC '${e}' stream ${i} transport.`),_.open(),I=!0),vt(xi,`RPC '${e}' stream ${i} sending:`,B),_.send(B))},zo:()=>_.close()}),M=(B,V,Q)=>{B.listen(V,ne=>{try{Q(ne)}catch(me){setTimeout(()=>{throw me},0)}})};return M(_,Ih.EventType.OPEN,()=>{b||(vt(xi,`RPC '${e}' stream ${i} transport opened.`),j.t_())}),M(_,Ih.EventType.CLOSE,()=>{b||(b=!0,vt(xi,`RPC '${e}' stream ${i} transport closed`),j.r_())}),M(_,Ih.EventType.ERROR,B=>{b||(b=!0,zc(xi,`RPC '${e}' stream ${i} transport errored. Name:`,B.name,"Message:",B.message),j.r_(new Nt(Ze.UNAVAILABLE,"The operation could not be completed")))}),M(_,Ih.EventType.MESSAGE,B=>{var V;if(!b){const Q=B.data[0];Tn(!!Q,16349);const ne=Q,me=(ne==null?void 0:ne.error)||((V=ne[0])===null||V===void 0?void 0:V.error);if(me){vt(xi,`RPC '${e}' stream ${i} received error:`,me);const xe=me.status;let Ee=function(N){const O=Er[N];if(O!==void 0)return Xy(O)}(xe),q=me.message;Ee===void 0&&(Ee=Ze.INTERNAL,q="Unknown error status: "+xe+" with message "+me.message),b=!0,j.r_(new Nt(Ee,q)),_.close()}else vt(xi,`RPC '${e}' stream ${i} received:`,Q),j.i_(Q)}}),M(u,gy.STAT_EVENT,B=>{B.stat===Ug.PROXY?vt(xi,`RPC '${e}' stream ${i} detected buffering proxy`):B.stat===Ug.NOPROXY&&vt(xi,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{j.n_()},0),j}}function gg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ip(n){return new Ub(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e,t,r=1e3,i=1.5,o=6e4){this.bi=e,this.timerId=t,this.u_=r,this.c_=i,this.l_=o,this.h_=0,this.P_=null,this.T_=Date.now(),this.reset()}reset(){this.h_=0}I_(){this.h_=this.l_}E_(e){this.cancel();const t=Math.floor(this.h_+this.d_()),r=Math.max(0,Date.now()-this.T_),i=Math.max(0,t-r);i>0&&vt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.h_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.P_=this.bi.enqueueAfterDelay(this.timerId,i,()=>(this.T_=Date.now(),e())),this.h_*=this.c_,this.h_<this.u_&&(this.h_=this.u_),this.h_>this.l_&&(this.h_=this.l_)}A_(){this.P_!==null&&(this.P_.skipDelay(),this.P_=null)}cancel(){this.P_!==null&&(this.P_.cancel(),this.P_=null)}d_(){return(Math.random()-.5)*this.h_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L2="PersistentStream";class d5{constructor(e,t,r,i,o,l,u,h){this.bi=e,this.R_=r,this.V_=i,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=h,this.state=0,this.m_=0,this.f_=null,this.g_=null,this.stream=null,this.p_=0,this.y_=new f5(e,t)}w_(){return this.state===1||this.state===5||this.b_()}b_(){return this.state===2||this.state===3}start(){this.p_=0,this.state!==4?this.auth():this.S_()}async stop(){this.w_()&&await this.close(0)}D_(){this.state=0,this.y_.reset()}v_(){this.b_()&&this.f_===null&&(this.f_=this.bi.enqueueAfterDelay(this.R_,6e4,()=>this.C_()))}F_(e){this.M_(),this.stream.send(e)}async C_(){if(this.b_())return this.close(0)}M_(){this.f_&&(this.f_.cancel(),this.f_=null)}x_(){this.g_&&(this.g_.cancel(),this.g_=null)}async close(e,t){this.M_(),this.x_(),this.y_.cancel(),this.m_++,e!==4?this.y_.reset():t&&t.code===Ze.RESOURCE_EXHAUSTED?(nl(t.toString()),nl("Using maximum backoff delay to prevent overloading the backend."),this.y_.I_()):t&&t.code===Ze.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.O_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Zo(t)}O_(){}auth(){this.state=1;const e=this.N_(this.m_),t=this.m_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.m_===t&&this.B_(r,i)},r=>{e(()=>{const i=new Nt(Ze.UNKNOWN,"Fetching auth token failed: "+r.message);return this.L_(i)})})}B_(e,t){const r=this.N_(this.m_);this.stream=this.k_(e,t),this.stream.jo(()=>{r(()=>this.listener.jo())}),this.stream.Jo(()=>{r(()=>(this.state=2,this.g_=this.bi.enqueueAfterDelay(this.V_,1e4,()=>(this.b_()&&(this.state=3),Promise.resolve())),this.listener.Jo()))}),this.stream.Zo(i=>{r(()=>this.L_(i))}),this.stream.onMessage(i=>{r(()=>++this.p_==1?this.q_(i):this.onNext(i))})}S_(){this.state=5,this.y_.E_(async()=>{this.state=0,this.start()})}L_(e){return vt(L2,`close with error: ${e}`),this.stream=null,this.close(4,e)}N_(e){return t=>{this.bi.enqueueAndForget(()=>this.m_===e?t():(vt(L2,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class jE extends d5{constructor(e,t,r,i,o,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}k_(e,t){return this.connection.a_("Listen",e,t)}q_(e){return this.onNext(e)}onNext(e){this.y_.reset();const t=Hb(this.serializer,e),r=function(o){if(!("targetChange"in o))return qt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?qt.min():l.readTime?ma(l.readTime):qt.min()}(e);return this.listener.Q_(t,r)}U_(e){const t={};t.database=Jg(this.serializer),t.addTarget=function(o,l){let u;const h=l.target;if(u=$g(h)?{documents:Gb(o,h)}:{query:Kb(o,h).gt},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=t5(o,l.resumeToken);const p=Kg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}else if(l.snapshotVersion.compareTo(qt.min())>0){u.readTime=Pd(o,l.snapshotVersion.toTimestamp());const p=Kg(o,l.expectedCount);p!==null&&(u.expectedCount=p)}return u}(this.serializer,e);const r=Yb(this.serializer,e);r&&(t.labels=r),this.F_(t)}K_(e){const t={};t.database=Jg(this.serializer),t.removeTarget=e,this.F_(t)}}class VE extends d5{constructor(e,t,r,i,o,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=o}get W_(){return this.p_>0}start(){this.lastStreamToken=void 0,super.start()}O_(){this.W_&&this.G_([])}k_(e,t){return this.connection.a_("Write",e,t)}q_(e){return Tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.z_()}onNext(e){Tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.y_.reset();const t=$b(e.writeResults,e.commitTime),r=ma(e.commitTime);return this.listener.j_(r,t)}H_(){const e={};e.database=Jg(this.serializer),this.F_(e)}G_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Wb(this.serializer,r))};this.F_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BE{}class UE extends BE{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.J_=!1}Y_(){if(this.J_)throw new Nt(Ze.FAILED_PRECONDITION,"The client has already been terminated.")}Qo(e,t,r,i){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,l])=>this.connection.Qo(e,Qg(t,r),i,o,l)).catch(o=>{throw o.name==="FirebaseError"?(o.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new Nt(Ze.UNKNOWN,o.toString())})}Wo(e,t,r,i,o){return this.Y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,u])=>this.connection.Wo(e,Qg(t,r),i,l,u,o)).catch(l=>{throw l.name==="FirebaseError"?(l.code===Ze.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Nt(Ze.UNKNOWN,l.toString())})}terminate(){this.J_=!0,this.connection.terminate()}}class zE{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.Z_=0,this.X_=null,this.ea=!0}ta(){this.Z_===0&&(this.na("Unknown"),this.X_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.X_=null,this.ra("Backend didn't respond within 10 seconds."),this.na("Offline"),Promise.resolve())))}ia(e){this.state==="Online"?this.na("Unknown"):(this.Z_++,this.Z_>=1&&(this.sa(),this.ra(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.na("Offline")))}set(e){this.sa(),this.Z_=0,e==="Online"&&(this.ea=!1),this.na(e)}na(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ra(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ea?(nl(t),this.ea=!1):vt("OnlineStateTracker",t)}sa(){this.X_!==null&&(this.X_.cancel(),this.X_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wu="RemoteStore";class qE{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.oa=[],this._a=new Map,this.aa=new Set,this.ua=[],this.ca=o,this.ca.vo(l=>{r.enqueueAndForget(async()=>{Ju(this)&&(vt(Wu,"Restarting streams for network reachability change."),await async function(h){const p=$t(h);p.aa.add(4),await rf(p),p.la.set("Unknown"),p.aa.delete(4),await sp(p)}(this))})}),this.la=new zE(r,i)}}async function sp(n){if(Ju(n))for(const e of n.ua)await e(!0)}async function rf(n){for(const e of n.ua)await e(!1)}function p5(n,e){const t=$t(n);t._a.has(e.targetId)||(t._a.set(e.targetId,e),Km(t)?Gm(t):th(t).b_()&&$m(t,e))}function Wm(n,e){const t=$t(n),r=th(t);t._a.delete(e),r.b_()&&g5(t,e),t._a.size===0&&(r.b_()?r.v_():Ju(t)&&t.la.set("Unknown"))}function $m(n,e){if(n.ha.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}th(n).U_(e)}function g5(n,e){n.ha.Ke(e),th(n).K_(e)}function Gm(n){n.ha=new Mb({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n._a.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),th(n).start(),n.la.ta()}function Km(n){return Ju(n)&&!th(n).w_()&&n._a.size>0}function Ju(n){return $t(n).aa.size===0}function m5(n){n.ha=void 0}async function HE(n){n.la.set("Online")}async function WE(n){n._a.forEach((e,t)=>{$m(n,e)})}async function $E(n,e){m5(n),Km(n)?(n.la.ia(e),Gm(n)):n.la.set("Unknown")}async function GE(n,e,t){if(n.la.set("Online"),e instanceof e5&&e.state===2&&e.cause)try{await async function(i,o){const l=o.cause;for(const u of o.targetIds)i._a.has(u)&&(await i.remoteSyncer.rejectListen(u,l),i._a.delete(u),i.ha.removeTarget(u))}(n,e)}catch(r){vt(Wu,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Cd(n,r)}else if(e instanceof ld?n.ha.Xe(e):e instanceof Zy?n.ha.ot(e):n.ha.nt(e),!t.isEqual(qt.min()))try{const r=await h5(n.localStore);t.compareTo(r)>=0&&await function(o,l){const u=o.ha.It(l);return u.targetChanges.forEach((h,p)=>{if(h.resumeToken.approximateByteSize()>0){const v=o._a.get(p);v&&o._a.set(p,v.withResumeToken(h.resumeToken,l))}}),u.targetMismatches.forEach((h,p)=>{const v=o._a.get(h);if(!v)return;o._a.set(h,v.withResumeToken(fi.EMPTY_BYTE_STRING,v.snapshotVersion)),g5(o,h);const _=new Jl(v.target,h,p,v.sequenceNumber);$m(o,_)}),o.remoteSyncer.applyRemoteEvent(u)}(n,t)}catch(r){vt(Wu,"Failed to raise snapshot:",r),await Cd(n,r)}}async function Cd(n,e,t){if(!eh(e))throw e;n.aa.add(1),await rf(n),n.la.set("Offline"),t||(t=()=>h5(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{vt(Wu,"Retrying IndexedDB access"),await t(),n.aa.delete(1),await sp(n)})}function v5(n,e){return e().catch(t=>Cd(n,t,e))}async function op(n){const e=$t(n),t=cu(e);let r=e.oa.length>0?e.oa[e.oa.length-1].batchId:Lm;for(;KE(e);)try{const i=await NE(e.localStore,r);if(i===null){e.oa.length===0&&t.v_();break}r=i.batchId,QE(e,i)}catch(i){await Cd(e,i)}y5(e)&&_5(e)}function KE(n){return Ju(n)&&n.oa.length<10}function QE(n,e){n.oa.push(e);const t=cu(n);t.b_()&&t.W_&&t.G_(e.mutations)}function y5(n){return Ju(n)&&!cu(n).w_()&&n.oa.length>0}function _5(n){cu(n).start()}async function YE(n){cu(n).H_()}async function JE(n){const e=cu(n);for(const t of n.oa)e.G_(t.mutations)}async function XE(n,e,t){const r=n.oa.shift(),i=jm.from(r,e,t);await v5(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await op(n)}async function ZE(n,e){e&&cu(n).W_&&await async function(r,i){if(function(l){return Db(l)&&l!==Ze.ABORTED}(i.code)){const o=r.oa.shift();cu(r).D_(),await v5(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),await op(r)}}(n,e),y5(n)&&_5(n)}async function R2(n,e){const t=$t(n);t.asyncQueue.verifyOperationInProgress(),vt(Wu,"RemoteStore received new credentials");const r=Ju(t);t.aa.add(3),await rf(t),r&&t.la.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.aa.delete(3),await sp(t)}async function eA(n,e){const t=$t(n);e?(t.aa.delete(2),await sp(t)):e||(t.aa.add(2),await rf(t),t.la.set("Unknown"))}function th(n){return n.Pa||(n.Pa=function(t,r,i){const o=$t(t);return o.Y_(),new jE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:HE.bind(null,n),Jo:WE.bind(null,n),Zo:$E.bind(null,n),Q_:GE.bind(null,n)}),n.ua.push(async e=>{e?(n.Pa.D_(),Km(n)?Gm(n):n.la.set("Unknown")):(await n.Pa.stop(),m5(n))})),n.Pa}function cu(n){return n.Ta||(n.Ta=function(t,r,i){const o=$t(t);return o.Y_(),new VE(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{jo:()=>Promise.resolve(),Jo:YE.bind(null,n),Zo:ZE.bind(null,n),z_:JE.bind(null,n),j_:XE.bind(null,n)}),n.ua.push(async e=>{e?(n.Ta.D_(),await op(n)):(await n.Ta.stop(),n.oa.length>0&&(vt(Wu,`Stopping write stream with ${n.oa.length} pending writes`),n.oa=[]))})),n.Ta}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qm{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new iu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){const l=Date.now()+r,u=new Qm(e,t,l,i,o);return u.start(r),u}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Nt(Ze.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ym(n,e){if(nl("AsyncQueue",`${e}: ${n}`),eh(n))return new Nt(Ze.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{static emptySet(e){return new Lc(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Lt.comparator(t.key,r.key):(t,r)=>Lt.comparator(t.key,r.key),this.keyedMap=Th(),this.sortedSet=new tr(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Lc)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Lc;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O2{constructor(){this.Ia=new tr(Lt.comparator)}track(e){const t=e.doc.key,r=this.Ia.get(t);r?e.type!==0&&r.type===3?this.Ia=this.Ia.insert(t,e):e.type===3&&r.type!==1?this.Ia=this.Ia.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Ia=this.Ia.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Ia=this.Ia.remove(t):e.type===1&&r.type===2?this.Ia=this.Ia.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Ia=this.Ia.insert(t,{type:2,doc:e.doc}):Mt(63341,{Vt:e,Ea:r}):this.Ia=this.Ia.insert(t,e)}da(){const e=[];return this.Ia.inorderTraversal((t,r)=>{e.push(r)}),e}}class Gc{constructor(e,t,r,i,o,l,u,h,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=h,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,i,o){const l=[];return t.forEach(u=>{l.push({type:0,doc:u})}),new Gc(e,t,Lc.emptySet(t),l,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tA{constructor(){this.Aa=void 0,this.Ra=[]}Va(){return this.Ra.some(e=>e.ma())}}class nA{constructor(){this.queries=D2(),this.onlineState="Unknown",this.fa=new Set}terminate(){(function(t,r){const i=$t(t),o=i.queries;i.queries=D2(),o.forEach((l,u)=>{for(const h of u.Ra)h.onError(r)})})(this,new Nt(Ze.ABORTED,"Firestore shutting down"))}}function D2(){return new Qu(n=>Vy(n),Zd)}async function rA(n,e){const t=$t(n);let r=3;const i=e.query;let o=t.queries.get(i);o?!o.Va()&&e.ma()&&(r=2):(o=new tA,r=e.ma()?0:1);try{switch(r){case 0:o.Aa=await t.onListen(i,!0);break;case 1:o.Aa=await t.onListen(i,!1);break;case 2:await t.onFirstRemoteStoreListen(i)}}catch(l){const u=Ym(l,`Initialization of query '${Ac(e.query)}' failed`);return void e.onError(u)}t.queries.set(i,o),o.Ra.push(e),e.ga(t.onlineState),o.Aa&&e.pa(o.Aa)&&Jm(t)}async function iA(n,e){const t=$t(n),r=e.query;let i=3;const o=t.queries.get(r);if(o){const l=o.Ra.indexOf(e);l>=0&&(o.Ra.splice(l,1),o.Ra.length===0?i=e.ma()?0:1:!o.Va()&&e.ma()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function sA(n,e){const t=$t(n);let r=!1;for(const i of e){const o=i.query,l=t.queries.get(o);if(l){for(const u of l.Ra)u.pa(i)&&(r=!0);l.Aa=i}}r&&Jm(t)}function oA(n,e,t){const r=$t(n),i=r.queries.get(e);if(i)for(const o of i.Ra)o.onError(t);r.queries.delete(e)}function Jm(n){n.fa.forEach(e=>{e.next()})}var em,F2;(F2=em||(em={})).ya="default",F2.Cache="cache";class aA{constructor(e,t,r){this.query=e,this.wa=t,this.ba=!1,this.Sa=null,this.onlineState="Unknown",this.options=r||{}}pa(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new Gc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ba?this.Da(e)&&(this.wa.next(e),t=!0):this.va(e,this.onlineState)&&(this.Ca(e),t=!0),this.Sa=e,t}onError(e){this.wa.error(e)}ga(e){this.onlineState=e;let t=!1;return this.Sa&&!this.ba&&this.va(this.Sa,e)&&(this.Ca(this.Sa),t=!0),t}va(e,t){if(!e.fromCache||!this.ma())return!0;const r=t!=="Offline";return(!this.options.Fa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Da(e){if(e.docChanges.length>0)return!0;const t=this.Sa&&this.Sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}Ca(e){e=Gc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ba=!0,this.wa.next(e)}ma(){return this.options.source!==em.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w5{constructor(e){this.key=e}}class S5{constructor(e){this.key=e}}class lA{constructor(e,t){this.query=e,this.qa=t,this.Qa=null,this.hasCachedResults=!1,this.current=!1,this.$a=nn(),this.mutatedKeys=nn(),this.Ua=By(e),this.Ka=new Lc(this.Ua)}get Wa(){return this.qa}Ga(e,t){const r=t?t.za:new O2,i=t?t.Ka:this.Ka;let o=t?t.mutatedKeys:this.mutatedKeys,l=i,u=!1;const h=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((v,_)=>{const I=i.get(v),b=ep(this.query,_)?_:null,j=!!I&&this.mutatedKeys.has(I.key),M=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let B=!1;I&&b?I.data.isEqual(b.data)?j!==M&&(r.track({type:3,doc:b}),B=!0):this.ja(I,b)||(r.track({type:2,doc:b}),B=!0,(h&&this.Ua(b,h)>0||p&&this.Ua(b,p)<0)&&(u=!0)):!I&&b?(r.track({type:0,doc:b}),B=!0):I&&!b&&(r.track({type:1,doc:I}),B=!0,(h||p)&&(u=!0)),B&&(b?(l=l.add(b),o=M?o.add(v):o.delete(v)):(l=l.delete(v),o=o.delete(v)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const v=this.query.limitType==="F"?l.last():l.first();l=l.delete(v.key),o=o.delete(v.key),r.track({type:1,doc:v})}return{Ka:l,za:r,ys:u,mutatedKeys:o}}ja(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const o=this.Ka;this.Ka=e.Ka,this.mutatedKeys=e.mutatedKeys;const l=e.za.da();l.sort((v,_)=>function(b,j){const M=B=>{switch(B){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Mt(20277,{Vt:B})}};return M(b)-M(j)}(v.type,_.type)||this.Ua(v.doc,_.doc)),this.Ha(r),i=i!=null&&i;const u=t&&!i?this.Ja():[],h=this.$a.size===0&&this.current&&!i?1:0,p=h!==this.Qa;return this.Qa=h,l.length!==0||p?{snapshot:new Gc(this.query,e.Ka,o,l,e.mutatedKeys,h===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ya:u}:{Ya:u}}ga(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ka:this.Ka,za:new O2,mutatedKeys:this.mutatedKeys,ys:!1},!1)):{Ya:[]}}Za(e){return!this.qa.has(e)&&!!this.Ka.has(e)&&!this.Ka.get(e).hasLocalMutations}Ha(e){e&&(e.addedDocuments.forEach(t=>this.qa=this.qa.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qa=this.qa.delete(t)),this.current=e.current)}Ja(){if(!this.current)return[];const e=this.$a;this.$a=nn(),this.Ka.forEach(r=>{this.Za(r.key)&&(this.$a=this.$a.add(r.key))});const t=[];return e.forEach(r=>{this.$a.has(r)||t.push(new S5(r))}),this.$a.forEach(r=>{e.has(r)||t.push(new w5(r))}),t}Xa(e){this.qa=e.Ns,this.$a=nn();const t=this.Ga(e.documents);return this.applyChanges(t,!0)}eu(){return Gc.fromInitialDocuments(this.query,this.Ka,this.mutatedKeys,this.Qa===0,this.hasCachedResults)}}const Xm="SyncEngine";class uA{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class cA{constructor(e){this.key=e,this.tu=!1}}class hA{constructor(e,t,r,i,o,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.nu={},this.ru=new Qu(u=>Vy(u),Zd),this.iu=new Map,this.su=new Set,this.ou=new tr(Lt.comparator),this._u=new Map,this.au=new Um,this.uu={},this.cu=new Map,this.lu=$c.ir(),this.onlineState="Unknown",this.hu=void 0}get isPrimaryClient(){return this.hu===!0}}async function fA(n,e,t=!0){const r=x5(n);let i;const o=r.ru.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.eu()):i=await b5(r,e,t,!0),i}async function dA(n,e){const t=x5(n);await b5(t,e,!0,!1)}async function b5(n,e,t,r){const i=await CE(n.localStore,ga(e)),o=i.targetId,l=n.sharedClientState.addLocalQueryTarget(o,t);let u;return r&&(u=await pA(n,e,o,l==="current",i.resumeToken)),n.isPrimaryClient&&t&&p5(n.remoteStore,i),u}async function pA(n,e,t,r,i){n.Pu=(_,I,b)=>async function(M,B,V,Q){let ne=B.view.Ga(V);ne.ys&&(ne=await P2(M.localStore,B.query,!1).then(({documents:q})=>B.view.Ga(q,ne)));const me=Q&&Q.targetChanges.get(B.targetId),xe=Q&&Q.targetMismatches.get(B.targetId)!=null,Ee=B.view.applyChanges(ne,M.isPrimaryClient,me,xe);return j2(M,B.targetId,Ee.Ya),Ee.snapshot}(n,_,I,b);const o=await P2(n.localStore,e,!0),l=new lA(e,o.Ns),u=l.Ga(o.documents),h=nf.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),p=l.applyChanges(u,n.isPrimaryClient,h);j2(n,t,p.Ya);const v=new uA(e,t,l);return n.ru.set(e,v),n.iu.has(t)?n.iu.get(t).push(e):n.iu.set(t,[e]),p.snapshot}async function gA(n,e,t){const r=$t(n),i=r.ru.get(e),o=r.iu.get(i.targetId);if(o.length>1)return r.iu.set(i.targetId,o.filter(l=>!Zd(l,e))),void r.ru.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Xg(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Wm(r.remoteStore,i.targetId),tm(r,i.targetId)}).catch(Zc)):(tm(r,i.targetId),await Xg(r.localStore,i.targetId,!0))}async function mA(n,e){const t=$t(n),r=t.ru.get(e),i=t.iu.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Wm(t.remoteStore,r.targetId))}async function vA(n,e,t){const r=AA(n);try{const i=await function(l,u){const h=$t(l),p=Dr.now(),v=u.reduce((b,j)=>b.add(j.key),nn());let _,I;return h.persistence.runTransaction("Locally write mutations","readwrite",b=>{let j=rl(),M=nn();return h.Cs.getEntries(b,v).next(B=>{j=B,j.forEach((V,Q)=>{Q.isValidDocument()||(M=M.add(V))})}).next(()=>h.localDocuments.getOverlayedDocuments(b,j)).next(B=>{_=B;const V=[];for(const Q of u){const ne=Cb(Q,_.get(Q.key).overlayedDocument);ne!=null&&V.push(new Yu(Q.key,ne,ky(ne.value.mapValue),Za.exists(!0)))}return h.mutationQueue.addMutationBatch(b,p,V,u)}).next(B=>{I=B;const V=B.applyToLocalDocumentSet(_,M);return h.documentOverlayCache.saveOverlays(b,B.batchId,V)})}).then(()=>({batchId:I.batchId,changes:zy(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,u,h){let p=l.uu[l.currentUser.toKey()];p||(p=new tr(Qt)),p=p.insert(u,h),l.uu[l.currentUser.toKey()]=p}(r,i.batchId,t),await sf(r,i.changes),await op(r.remoteStore)}catch(i){const o=Ym(i,"Failed to persist write");t.reject(o)}}async function E5(n,e){const t=$t(n);try{const r=await xE(t.localStore,e);e.targetChanges.forEach((i,o)=>{const l=t._u.get(o);l&&(Tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?l.tu=!0:i.modifiedDocuments.size>0?Tn(l.tu,14607):i.removedDocuments.size>0&&(Tn(l.tu,42227),l.tu=!1))}),await sf(t,r,e)}catch(r){await Zc(r)}}function M2(n,e,t){const r=$t(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.ru.forEach((o,l)=>{const u=l.view.ga(e);u.snapshot&&i.push(u.snapshot)}),function(l,u){const h=$t(l);h.onlineState=u;let p=!1;h.queries.forEach((v,_)=>{for(const I of _.Ra)I.ga(u)&&(p=!0)}),p&&Jm(h)}(r.eventManager,e),i.length&&r.nu.Q_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function yA(n,e,t){const r=$t(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r._u.get(e),o=i&&i.key;if(o){let l=new tr(Lt.comparator);l=l.insert(o,Ri.newNoDocument(o,qt.min()));const u=nn().add(o),h=new rp(qt.min(),new Map,new tr(Qt),l,u);await E5(r,h),r.ou=r.ou.remove(o),r._u.delete(e),Zm(r)}else await Xg(r.localStore,e,!1).then(()=>tm(r,e,t)).catch(Zc)}async function _A(n,e){const t=$t(n),r=e.batch.batchId;try{const i=await TE(t.localStore,e);I5(t,r,null),A5(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await sf(t,i)}catch(i){await Zc(i)}}async function wA(n,e,t){const r=$t(n);try{const i=await function(l,u){const h=$t(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",p=>{let v;return h.mutationQueue.lookupMutationBatch(p,u).next(_=>(Tn(_!==null,37113),v=_.keys(),h.mutationQueue.removeMutationBatch(p,_))).next(()=>h.mutationQueue.performConsistencyCheck(p)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(p,v,u)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,v)).next(()=>h.localDocuments.getDocuments(p,v))})}(r.localStore,e);I5(r,e,t),A5(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await sf(r,i)}catch(i){await Zc(i)}}function A5(n,e){(n.cu.get(e)||[]).forEach(t=>{t.resolve()}),n.cu.delete(e)}function I5(n,e,t){const r=$t(n);let i=r.uu[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.uu[r.currentUser.toKey()]=i}}function tm(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.iu.get(e))n.ru.delete(r),t&&n.nu.Tu(r,t);n.iu.delete(e),n.isPrimaryClient&&n.au.Ur(e).forEach(r=>{n.au.containsKey(r)||T5(n,r)})}function T5(n,e){n.su.delete(e.path.canonicalString());const t=n.ou.get(e);t!==null&&(Wm(n.remoteStore,t),n.ou=n.ou.remove(e),n._u.delete(t),Zm(n))}function j2(n,e,t){for(const r of t)r instanceof w5?(n.au.addReference(r.key,e),SA(n,r)):r instanceof S5?(vt(Xm,"Document no longer in limbo: "+r.key),n.au.removeReference(r.key,e),n.au.containsKey(r.key)||T5(n,r.key)):Mt(19791,{Iu:r})}function SA(n,e){const t=e.key,r=t.path.canonicalString();n.ou.get(t)||n.su.has(r)||(vt(Xm,"New document in limbo: "+t),n.su.add(r),Zm(n))}function Zm(n){for(;n.su.size>0&&n.ou.size<n.maxConcurrentLimboResolutions;){const e=n.su.values().next().value;n.su.delete(e);const t=new Lt(Yn.fromString(e)),r=n.lu.next();n._u.set(r,new cA(t)),n.ou=n.ou.insert(t,r),p5(n.remoteStore,new Jl(ga(jy(t.path)),r,"TargetPurposeLimboResolution",Qd.le))}}async function sf(n,e,t){const r=$t(n),i=[],o=[],l=[];r.ru.isEmpty()||(r.ru.forEach((u,h)=>{l.push(r.Pu(h,e,t).then(p=>{var v;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(v=t==null?void 0:t.targetChanges.get(h.targetId))===null||v===void 0?void 0:v.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(p){i.push(p);const _=qm.Ps(h.targetId,p);o.push(_)}}))}),await Promise.all(l),r.nu.Q_(i),await async function(h,p){const v=$t(h);try{await v.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>He.forEach(p,I=>He.forEach(I.ls,b=>v.persistence.referenceDelegate.addReference(_,I.targetId,b)).next(()=>He.forEach(I.hs,b=>v.persistence.referenceDelegate.removeReference(_,I.targetId,b)))))}catch(_){if(!eh(_))throw _;vt(Hm,"Failed to update sequence numbers: "+_)}for(const _ of p){const I=_.targetId;if(!_.fromCache){const b=v.Ss.get(I),j=b.snapshotVersion,M=b.withLastLimboFreeSnapshotVersion(j);v.Ss=v.Ss.insert(I,M)}}}(r.localStore,o))}async function bA(n,e){const t=$t(n);if(!t.currentUser.isEqual(e)){vt(Xm,"User change. New user:",e.toKey());const r=await c5(t.localStore,e);t.currentUser=e,function(o,l){o.cu.forEach(u=>{u.forEach(h=>{h.reject(new Nt(Ze.CANCELLED,l))})}),o.cu.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await sf(t,r.Ms)}}function EA(n,e){const t=$t(n),r=t._u.get(e);if(r&&r.tu)return nn().add(r.key);{let i=nn();const o=t.iu.get(e);if(!o)return i;for(const l of o){const u=t.ru.get(l);i=i.unionWith(u.view.Wa)}return i}}function x5(n){const e=$t(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=E5.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=EA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=yA.bind(null,e),e.nu.Q_=sA.bind(null,e.eventManager),e.nu.Tu=oA.bind(null,e.eventManager),e}function AA(n){const e=$t(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_A.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wA.bind(null,e),e}class kd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ip(e.databaseInfo.databaseId),this.sharedClientState=this.Au(e),this.persistence=this.Ru(e),await this.persistence.start(),this.localStore=this.Vu(e),this.gcScheduler=this.mu(e,this.localStore),this.indexBackfillerScheduler=this.fu(e,this.localStore)}mu(e,t){return null}fu(e,t){return null}Vu(e){return IE(this.persistence,new bE,e.initialUser,this.serializer)}Ru(e){return new u5(zm.Ei,this.serializer)}Au(e){return new LE}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}kd.provider={build:()=>new kd};class IA extends kd{constructor(e){super(),this.cacheSizeBytes=e}mu(e,t){Tn(this.persistence.referenceDelegate instanceof Nd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new aE(r,e.asyncQueue,t)}Ru(e){const t=this.cacheSizeBytes!==void 0?ms.withCacheSize(this.cacheSizeBytes):ms.DEFAULT;return new u5(r=>Nd.Ei(r,t),this.serializer)}}class nm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>M2(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bA.bind(null,this.syncEngine),await eA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new nA}()}createDatastore(e){const t=ip(e.databaseInfo.databaseId),r=function(o){return new ME(o)}(e.databaseInfo);return function(o,l,u,h){return new UE(o,l,u,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,o,l,u){return new qE(r,i,o,l,u)}(this.localStore,this.datastore,e.asyncQueue,t=>M2(this.syncEngine,t,0),function(){return k2.C()?new k2:new RE}())}createSyncEngine(e,t){return function(i,o,l,u,h,p,v){const _=new hA(i,o,l,u,h,p);return v&&(_.hu=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const o=$t(i);vt(Wu,"RemoteStore shutting down."),o.aa.add(5),await rf(o),o.ca.shutdown(),o.la.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}nm.provider={build:()=>new nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.pu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.pu(this.observer.error,e):nl("Uncaught Error in snapshot listener:",e.toString()))}yu(){this.muted=!0}pu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hu="FirestoreClient";class xA{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Li.UNAUTHENTICATED,this.clientId=Sy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,async l=>{vt(hu,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(vt(hu,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new iu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Ym(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function mg(n,e){n.asyncQueue.verifyOperationInProgress(),vt(hu,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await c5(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function V2(n,e){n.asyncQueue.verifyOperationInProgress();const t=await PA(n);vt(hu,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>R2(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>R2(e.remoteStore,i)),n._onlineComponents=e}async function PA(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){vt(hu,"Using user provided OfflineComponentProvider");try{await mg(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===Ze.FAILED_PRECONDITION||i.code===Ze.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;zc("Error using user provided cache. Falling back to memory cache: "+t),await mg(n,new kd)}}else vt(hu,"Using default OfflineComponentProvider"),await mg(n,new IA(void 0));return n._offlineComponents}async function P5(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(vt(hu,"Using user provided OnlineComponentProvider"),await V2(n,n._uninitializedComponentsProvider._online)):(vt(hu,"Using default OnlineComponentProvider"),await V2(n,new nm))),n._onlineComponents}function NA(n){return P5(n).then(e=>e.syncEngine)}async function CA(n){const e=await P5(n),t=e.eventManager;return t.onListen=fA.bind(null,e.syncEngine),t.onUnlisten=gA.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=dA.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=mA.bind(null,e.syncEngine),t}function kA(n,e,t={}){const r=new iu;return n.asyncQueue.enqueueAndForget(async()=>function(o,l,u,h,p){const v=new TA({next:I=>{v.yu(),l.enqueueAndForget(()=>iA(o,_)),I.fromCache&&h.source==="server"?p.reject(new Nt(Ze.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(I)},error:I=>p.reject(I)}),_=new aA(u,v,{includeMetadataChanges:!0,Fa:!0});return rA(o,_)}(await CA(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N5(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B2=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C5(n,e,t){if(!t)throw new Nt(Ze.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function LA(n,e,t,r){if(e===!0&&r===!0)throw new Nt(Ze.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function U2(n){if(!Lt.isDocumentKey(n))throw new Nt(Ze.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function z2(n){if(Lt.isDocumentKey(n))throw new Nt(Ze.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function e1(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Mt(12329,{type:typeof n})}function Ld(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new Nt(Ze.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=e1(n);throw new Nt(Ze.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k5="firestore.googleapis.com",q2=!0;class H2{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Nt(Ze.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=k5,this.ssl=q2}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:q2;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=l5;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<sE)throw new Nt(Ze.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}LA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=N5((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new Nt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new Nt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new Nt(Ze.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ap{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new H2({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Nt(Ze.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Nt(Ze.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new H2(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new OS;switch(r.type){case"firstParty":return new jS(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Nt(Ze.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,Kd("Firestore",this._settings.isUsingEmulator),this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=B2.get(t);r&&(vt("ComponentProvider","Removing Datastore"),B2.delete(t),r.terminate())}(this),Promise.resolve()}}function RA(n,e,t,r={}){var i;n=Ld(n,ap);const o=Xh(e),l=n._getSettings(),u=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),h=`${e}:${t}`;l.host!==k5&&l.host!==h&&zc("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const p=Object.assign(Object.assign({},l),{host:h,ssl:o,emulatorOptions:r});if(!zu(p,u)&&(n._setSettings(p),o&&(sy(`https://${h}`),Kd("Firestore",!0)),r.mockUserToken)){let v,_;if(typeof r.mockUserToken=="string")v=r.mockUserToken,_=Li.MOCK_USER;else{v=s3(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const I=r.mockUserToken.sub||r.mockUserToken.user_id;if(!I)throw new Nt(Ze.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Li(I)}n._authCredentials=new DS(new _y(v,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lp{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lp(this.firestore,e,this._query)}}class qo{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new su(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qo(this.firestore,e,this._key)}}class su extends lp{constructor(e,t,r){super(e,t,jy(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qo(this.firestore,null,new Lt(e))}withConverter(e){return new su(this.firestore,e,this._path)}}function L5(n,e,...t){if(n=Ms(n),C5("collection","path",e),n instanceof ap){const r=Yn.fromString(e,...t);return z2(r),new su(n,null,r)}{if(!(n instanceof qo||n instanceof su))throw new Nt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yn.fromString(e,...t));return z2(r),new su(n.firestore,null,r)}}function OA(n,e,...t){if(n=Ms(n),arguments.length===1&&(e=Sy.newId()),C5("doc","path",e),n instanceof ap){const r=Yn.fromString(e,...t);return U2(r),new qo(n,null,new Lt(r))}{if(!(n instanceof qo||n instanceof su))throw new Nt(Ze.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Yn.fromString(e,...t));return U2(r),new qo(n.firestore,n instanceof su?n.converter:null,new Lt(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2="AsyncQueue";class $2{constructor(e=Promise.resolve()){this.Qu=[],this.$u=!1,this.Uu=[],this.Ku=null,this.Wu=!1,this.Gu=!1,this.zu=[],this.y_=new f5(this,"async_queue_retry"),this.ju=()=>{const r=gg();r&&vt(W2,"Visibility state changed to "+r.visibilityState),this.y_.A_()},this.Hu=e;const t=gg();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.ju)}get isShuttingDown(){return this.$u}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Ju(),this.Yu(e)}enterRestrictedMode(e){if(!this.$u){this.$u=!0,this.Gu=e||!1;const t=gg();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.ju)}}enqueue(e){if(this.Ju(),this.$u)return new Promise(()=>{});const t=new iu;return this.Yu(()=>this.$u&&this.Gu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qu.push(e),this.Zu()))}async Zu(){if(this.Qu.length!==0){try{await this.Qu[0](),this.Qu.shift(),this.y_.reset()}catch(e){if(!eh(e))throw e;vt(W2,"Operation failed with retryable error: "+e)}this.Qu.length>0&&this.y_.E_(()=>this.Zu())}}Yu(e){const t=this.Hu.then(()=>(this.Wu=!0,e().catch(r=>{throw this.Ku=r,this.Wu=!1,nl("INTERNAL UNHANDLED ERROR: ",G2(r)),r}).then(r=>(this.Wu=!1,r))));return this.Hu=t,t}enqueueAfterDelay(e,t,r){this.Ju(),this.zu.indexOf(e)>-1&&(t=0);const i=Qm.createAndSchedule(this,e,t,r,o=>this.Xu(o));return this.Uu.push(i),i}Ju(){this.Ku&&Mt(47125,{ec:G2(this.Ku)})}verifyOperationInProgress(){}async tc(){let e;do e=this.Hu,await e;while(e!==this.Hu)}nc(e){for(const t of this.Uu)if(t.timerId===e)return!0;return!1}rc(e){return this.tc().then(()=>{this.Uu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.tc()})}sc(e){this.zu.push(e)}Xu(e){const t=this.Uu.indexOf(e);this.Uu.splice(t,1)}}function G2(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class t1 extends ap{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new $2,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $2(e),this._firestoreClient=void 0,await e}}}function DA(n,e){const t=typeof n=="object"?n:uy(),r=typeof n=="string"?n:Ed,i=Cm(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const o=r3("firestore");o&&RA(i,...o)}return i}function R5(n){if(n._terminated)throw new Nt(Ze.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||FA(n),n._firestoreClient}function FA(n){var e,t,r;const i=n._freezeSettings(),o=function(u,h,p,v){return new ZS(u,h,p,v.host,v.ssl,v.experimentalForceLongPolling,v.experimentalAutoDetectLongPolling,N5(v.experimentalLongPollingOptions),v.useFetchStreams,v.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new xA(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(u){const h=u==null?void 0:u._online.build();return{_offline:u==null?void 0:u._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kc{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Kc(fi.fromBase64String(e))}catch(t){throw new Nt(Ze.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Kc(fi.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new Nt(Ze.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hi(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Nt(Ze.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Nt(Ze.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qt(this._lat,e._lat)||Qt(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MA=/^__.*__$/;class jA{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Yu(e,this.data,this.fieldMask,t,this.fieldTransforms):new tf(e,this.data,t,this.fieldTransforms)}}function O5(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Mt(40011,{oc:n})}}class o1{constructor(e,t,r,i,o,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this._c(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get oc(){return this.settings.oc}ac(e){return new o1(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}uc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i.lc(e),i}hc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.ac({path:r,cc:!1});return i._c(),i}Pc(e){return this.ac({path:void 0,cc:!0})}Tc(e){return Rd(e,this.settings.methodName,this.settings.Ic||!1,this.path,this.settings.Ec)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}_c(){if(this.path)for(let e=0;e<this.path.length;e++)this.lc(this.path.get(e))}lc(e){if(e.length===0)throw this.Tc("Document fields must not be empty");if(O5(this.oc)&&MA.test(e))throw this.Tc('Document fields cannot begin and end with "__"')}}class VA{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ip(e)}dc(e,t,r,i=!1){return new o1({oc:e,methodName:t,Ec:r,path:hi.emptyPath(),cc:!1,Ic:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function BA(n){const e=n._freezeSettings(),t=ip(n._databaseId);return new VA(n._databaseId,!!e.ignoreUndefinedProperties,t)}function UA(n,e,t,r,i,o={}){const l=n.dc(o.merge||o.mergeFields?2:0,e,t,i);j5("Data must be an object, but it was:",l,r);const u=F5(r,l);let h,p;if(o.merge)h=new Uo(l.fieldMask),p=l.fieldTransforms;else if(o.mergeFields){const v=[];for(const _ of o.mergeFields){const I=zA(e,_,t);if(!l.contains(I))throw new Nt(Ze.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);HA(v,I)||v.push(I)}h=new Uo(v),p=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,p=l.fieldTransforms;return new jA(new uo(u),h,p)}class a1 extends r1{_toFieldTransform(e){return new Tb(e.path,new Wh)}isEqual(e){return e instanceof a1}}function D5(n,e){if(M5(n=Ms(n)))return j5("Unsupported field value:",e,n),F5(n,e);if(n instanceof r1)return function(r,i){if(!O5(i.oc))throw i.Tc(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Tc(`${r._methodName}() is not currently supported inside arrays`);const o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.cc&&e.oc!==4)throw e.Tc("Nested arrays are not supported");return function(r,i){const o=[];let l=0;for(const u of r){let h=D5(u,i.Pc(l));h==null&&(h={nullValue:"NULL_VALUE"}),o.push(h),l++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Ms(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Eb(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const o=Dr.fromDate(r);return{timestampValue:Pd(i.serializer,o)}}if(r instanceof Dr){const o=new Dr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Pd(i.serializer,o)}}if(r instanceof i1)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Kc)return{bytesValue:t5(i.serializer,r._byteString)};if(r instanceof qo){const o=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(o))throw i.Tc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Bm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof s1)return function(l,u){return{mapValue:{fields:{[Ny]:{stringValue:Cy},[Ad]:{arrayValue:{values:l.toArray().map(p=>{if(typeof p!="number")throw u.Tc("VectorValues must only contain numeric values.");return Mm(u.serializer,p)})}}}}}}(r,i);throw i.Tc(`Unsupported field value: ${e1(r)}`)}(n,e)}function F5(n,e){const t={};return Ey(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ku(n,(r,i)=>{const o=D5(i,e.uc(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function M5(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Dr||n instanceof i1||n instanceof Kc||n instanceof qo||n instanceof r1||n instanceof s1)}function j5(n,e,t){if(!M5(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=e1(t);throw r==="an object"?e.Tc(n+" a custom object"):e.Tc(n+" "+r)}}function zA(n,e,t){if((e=Ms(e))instanceof n1)return e._internalPath;if(typeof e=="string")return V5(n,e);throw Rd("Field path arguments must be of type string or ",n,!1,void 0,t)}const qA=new RegExp("[~\\*/\\[\\]]");function V5(n,e,t){if(e.search(qA)>=0)throw Rd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new n1(...e.split("."))._internalPath}catch{throw Rd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Rd(n,e,t,r,i){const o=r&&!r.isEmpty(),l=i!==void 0;let u=`Function ${e}() called with invalid data`;t&&(u+=" (via `toFirestore()`)"),u+=". ";let h="";return(o||l)&&(h+=" (found",o&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new Nt(Ze.INVALID_ARGUMENT,u+n+h)}function HA(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B5{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qo(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new WA(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(U5("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class WA extends B5{data(){return super.data()}}function U5(n,e){return typeof e=="string"?V5(n,e):e instanceof n1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $A(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new Nt(Ze.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class GA{convertValue(e,t="none"){switch(uu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(lu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Mt(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ku(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;const o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t[Ad].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(l=>pr(l.doubleValue));return new s1(o)}convertGeoPoint(e){return new i1(pr(e.latitude),pr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Jd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(zh(e));default:return null}}convertTimestamp(e){const t=au(e);return new Dr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Yn.fromString(e);Tn(a5(r),9688,{name:e});const i=new qh(r.get(1),r.get(3)),o=new Lt(r.popFirst(5));return i.isEqual(t)||nl(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class QA extends B5{constructor(e,t,r,i,o,l){super(e,t,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new ud(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(U5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class ud extends QA{data(e={}){return super.data(e)}}class YA{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Yf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new ud(this._firestore,this._userDataWriter,r.key,r,new Yf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Nt(Ze.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map(u=>{const h=new ud(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);return u.doc,{type:"added",doc:h,oldIndex:-1,newIndex:l++}})}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(u=>o||u.type!==3).map(u=>{const h=new ud(i._firestore,i._userDataWriter,u.doc.key,u.doc,new Yf(i._snapshot.mutatedKeys.has(u.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,v=-1;return u.type!==0&&(p=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),v=l.indexOf(u.doc.key)),{type:JA(u.type),doc:h,oldIndex:p,newIndex:v}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JA(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Mt(61501,{type:n})}}class XA extends GA{constructor(e){super(),this.firestore=e}convertBytes(e){return new Kc(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qo(this.firestore,null,t)}}function ZA(n){n=Ld(n,lp);const e=Ld(n.firestore,t1),t=R5(e),r=new XA(e);return $A(n._query),kA(t,n._query).then(i=>new YA(e,r,n,i))}function eI(n,e){const t=Ld(n.firestore,t1),r=OA(n),i=KA(n.converter,e);return tI(t,[UA(BA(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Za.exists(!1))]).then(()=>r)}function tI(n,e){return function(r,i){const o=new iu;return r.asyncQueue.enqueueAndForget(async()=>vA(await NA(r),i,o)),o.promise}(R5(n),e)}function nI(){return new a1("serverTimestamp")}(function(e,t=!0){(function(i){Xc=i})(Jc),Uc(new qu("firestore",(r,{instanceIdentifier:i,options:o})=>{const l=r.getProvider("app").getImmediate(),u=new t1(new FS(r.getProvider("auth-internal")),new VS(l,r.getProvider("app-check-internal")),function(p,v){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Nt(Ze.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qh(p.options.projectId,v)}(l,i),l);return o=Object.assign({useFetchStreams:t},o),u._setSettings(o),u},"PUBLIC").setMultipleInstances(!0)),nu(X0,Z0,e),nu(X0,Z0,"esm2017")})();function l1(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function z5(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const rI=z5,q5=new Zh("auth","Firebase",z5());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od=new Pm("@firebase/auth");function iI(n,...e){Od.logLevel<=tn.WARN&&Od.warn(`Auth (${Jc}): ${n}`,...e)}function cd(n,...e){Od.logLevel<=tn.ERROR&&Od.error(`Auth (${Jc}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ho(n,...e){throw u1(n,...e)}function va(n,...e){return u1(n,...e)}function H5(n,e,t){const r=Object.assign(Object.assign({},rI()),{[e]:t});return new Zh("auth","Firebase",r).create(e,{appName:n.name})}function el(n){return H5(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function u1(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return q5.create(n,...e)}function Ft(n,e,...t){if(!n)throw u1(e,...t)}function Ya(n){const e="INTERNAL ASSERTION FAILED: "+n;throw cd(e),new Error(e)}function il(n,e){n||Ya(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rm(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function sI(){return K2()==="http:"||K2()==="https:"}function K2(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(sI()||h3()||"connection"in navigator)?navigator.onLine:!0}function aI(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class of{constructor(e,t){this.shortDelay=e,this.longDelay=t,il(t>e,"Short delay should be less than long delay!"),this.isMobile=l3()||f3()}get(){return oI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(n,e){il(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W5{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ya("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ya("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ya("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],cI=new of(3e4,6e4);function mu(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function vu(n,e,t,r,i={}){return $5(n,i,async()=>{let o={},l={};r&&(e==="GET"?l=r:o={body:JSON.stringify(r)});const u=ef(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const p=Object.assign({method:e,headers:h},o);return c3()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&Xh(n.emulatorConfig.host)&&(p.credentials="include"),W5.fetch()(await G5(n,n.config.apiHost,t,u),p)})}async function $5(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},lI),e);try{const i=new fI(n),o=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Jf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[h,p]=u.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw Jf(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw Jf(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw Jf(n,"user-disabled",l);const v=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw H5(n,v,p);Ho(n,v)}}catch(i){if(i instanceof ol)throw i;Ho(n,"network-request-failed",{message:String(i)})}}async function af(n,e,t,r,i={}){const o=await vu(n,e,t,r,i);return"mfaPendingCredential"in o&&Ho(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function G5(n,e,t,r){const i=`${e}${t}?${r}`,o=n,l=o.config.emulator?c1(n.config,i):`${n.config.apiScheme}://${i}`;return uI.includes(t)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function hI(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class fI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(va(this.auth,"network-request-failed")),cI.get())})}}function Jf(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=va(n,e,r);return i.customData._tokenResponse=t,i}function Q2(n){return n!==void 0&&n.enterprise!==void 0}class dI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return hI(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function pI(n,e){return vu(n,"GET","/v2/recaptchaConfig",mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gI(n,e){return vu(n,"POST","/v1/accounts:delete",e)}async function Dd(n,e){return vu(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oh(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function mI(n,e=!1){const t=Ms(n),r=await t.getIdToken(e),i=h1(r);Ft(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const o=typeof i.firebase=="object"?i.firebase:void 0,l=o==null?void 0:o.sign_in_provider;return{claims:i,token:r,authTime:Oh(vg(i.auth_time)),issuedAtTime:Oh(vg(i.iat)),expirationTime:Oh(vg(i.exp)),signInProvider:l||null,signInSecondFactor:(o==null?void 0:o.sign_in_second_factor)||null}}function vg(n){return Number(n)*1e3}function h1(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return cd("JWT malformed, contained fewer than 3 sections"),null;try{const i=ty(t);return i?JSON.parse(i):(cd("Failed to decode base64 JWT payload"),null)}catch(i){return cd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Y2(n){const e=h1(n);return Ft(e,"internal-error"),Ft(typeof e.exp<"u","internal-error"),Ft(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Kh(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ol&&vI(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function vI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Oh(this.lastLoginAt),this.creationTime=Oh(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fd(n){var e;const t=n.auth,r=await n.getIdToken(),i=await Kh(n,Dd(t,{idToken:r}));Ft(i==null?void 0:i.users.length,t,"internal-error");const o=i.users[0];n._notifyReloadListener(o);const l=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?K5(o.providerUserInfo):[],u=wI(n.providerData,l),h=n.isAnonymous,p=!(n.email&&o.passwordHash)&&!(u!=null&&u.length),v=h?p:!1,_={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new im(o.createdAt,o.lastLoginAt),isAnonymous:v};Object.assign(n,_)}async function _I(n){const e=Ms(n);await Fd(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function wI(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function K5(n){return n.map(e=>{var{providerId:t}=e,r=l1(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function SI(n,e){const t=await $5(n,{},async()=>{const r=ef({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,l=await G5(n,i,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();return u["Content-Type"]="application/x-www-form-urlencoded",W5.fetch()(l,{method:"POST",headers:u,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function bI(n,e){return vu(n,"POST","/v2/accounts:revokeToken",mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ft(e.idToken,"internal-error"),Ft(typeof e.idToken<"u","internal-error"),Ft(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Y2(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ft(e.length!==0,"internal-error");const t=Y2(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ft(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:o}=await SI(e,t);this.updateTokensAndExpiration(r,i,Number(o))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:o}=t,l=new Rc;return r&&(Ft(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(Ft(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),o&&(Ft(typeof o=="number","internal-error",{appName:e}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Rc,this.toJSON())}_performRefresh(){return Ya("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ql(n,e){Ft(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class zo{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=l1(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new yI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new im(o.createdAt||void 0,o.lastLoginAt||void 0)}async getIdToken(e){const t=await Kh(this,this.stsTokenManager.getToken(this.auth,e));return Ft(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return mI(this,e)}reload(){return _I(this)}_assign(e){this!==e&&(Ft(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new zo(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Fd(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(lo(this.auth.app))return Promise.reject(el(this.auth));const e=await this.getIdToken();return await Kh(this,gI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,l,u,h,p,v;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(i=t.email)!==null&&i!==void 0?i:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,j=(l=t.photoURL)!==null&&l!==void 0?l:void 0,M=(u=t.tenantId)!==null&&u!==void 0?u:void 0,B=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,V=(p=t.createdAt)!==null&&p!==void 0?p:void 0,Q=(v=t.lastLoginAt)!==null&&v!==void 0?v:void 0,{uid:ne,emailVerified:me,isAnonymous:xe,providerData:Ee,stsTokenManager:q}=t;Ft(ne&&q,e,"internal-error");const A=Rc.fromJSON(this.name,q);Ft(typeof ne=="string",e,"internal-error"),ql(_,e.name),ql(I,e.name),Ft(typeof me=="boolean",e,"internal-error"),Ft(typeof xe=="boolean",e,"internal-error"),ql(b,e.name),ql(j,e.name),ql(M,e.name),ql(B,e.name),ql(V,e.name),ql(Q,e.name);const N=new zo({uid:ne,auth:e,email:I,emailVerified:me,displayName:_,isAnonymous:xe,photoURL:j,phoneNumber:b,tenantId:M,stsTokenManager:A,createdAt:V,lastLoginAt:Q});return Ee&&Array.isArray(Ee)&&(N.providerData=Ee.map(O=>Object.assign({},O))),B&&(N._redirectEventId=B),N}static async _fromIdTokenResponse(e,t,r=!1){const i=new Rc;i.updateFromServerResponse(t);const o=new zo({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Fd(o),o}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];Ft(i.localId!==void 0,"internal-error");const o=i.providerUserInfo!==void 0?K5(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(o!=null&&o.length),u=new Rc;u.updateFromIdToken(r);const h=new zo({uid:i.localId,auth:e,stsTokenManager:u,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new im(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(o!=null&&o.length)};return Object.assign(h,p),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2=new Map;function Ja(n){il(n instanceof Function,"Expected a class definition");let e=J2.get(n);return e?(il(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,J2.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q5{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Q5.type="NONE";const X2=Q5;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hd(n,e,t){return`firebase:${n}:${e}:${t}`}class Oc{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:o}=this.auth;this.fullUserKey=hd(this.userKey,i.apiKey,o),this.fullPersistenceKey=hd("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Dd(this.auth,{idToken:e}).catch(()=>{});return t?zo._fromGetAccountInfoResponse(this.auth,t,e):null}return zo._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Oc(Ja(X2),e,r);const i=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let o=i[0]||Ja(X2);const l=hd(r,e.config.apiKey,e.name);let u=null;for(const p of t)try{const v=await p._get(l);if(v){let _;if(typeof v=="string"){const I=await Dd(e,{idToken:v}).catch(()=>{});if(!I)break;_=await zo._fromGetAccountInfoResponse(e,I,v)}else _=zo._fromJSON(e,v);p!==o&&(u=_),o=p;break}}catch{}const h=i.filter(p=>p._shouldAllowMigration);return!o._shouldAllowMigration||!h.length?new Oc(o,e,r):(o=h[0],u&&await o._set(l,u.toJSON()),await Promise.all(t.map(async p=>{if(p!==o)try{await p._remove(l)}catch{}})),new Oc(o,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z2(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Z5(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Y5(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(t_(e))return"Blackberry";if(n_(e))return"Webos";if(J5(e))return"Safari";if((e.includes("chrome/")||X5(e))&&!e.includes("edge/"))return"Chrome";if(e_(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Y5(n=Di()){return/firefox\//i.test(n)}function J5(n=Di()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function X5(n=Di()){return/crios\//i.test(n)}function Z5(n=Di()){return/iemobile/i.test(n)}function e_(n=Di()){return/android/i.test(n)}function t_(n=Di()){return/blackberry/i.test(n)}function n_(n=Di()){return/webos/i.test(n)}function f1(n=Di()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function EI(n=Di()){var e;return f1(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AI(){return d3()&&document.documentMode===10}function r_(n=Di()){return f1(n)||e_(n)||n_(n)||t_(n)||/windows phone/i.test(n)||Z5(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i_(n,e=[]){let t;switch(n){case"Browser":t=Z2(Di());break;case"Worker":t=`${Z2(Di())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Jc}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=o=>new Promise((l,u)=>{try{const h=e(o);l(h)}catch(h){u(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TI(n,e={}){return vu(n,"GET","/v2/passwordPolicy",mu(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xI=6;class PI{constructor(e){var t,r,i,o;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:xI,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,l,u;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(o=h.containsUppercaseLetter)!==null&&o!==void 0?o:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(u=h.containsNonAlphanumericCharacter)!==null&&u!==void 0?u:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NI{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ev(this),this.idTokenSubscription=new ev(this),this.beforeStateQueue=new II(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=q5,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ja(t)),this._initializationPromise=this.queue(async()=>{var r,i,o;if(!this._deleted&&(this.persistenceManager=await Oc.create(this,e),(r=this._resolvePersistenceManagerAvailable)===null||r===void 0||r.call(this),!this._deleted)){if(!((i=this._popupRedirectResolver)===null||i===void 0)&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Dd(this,{idToken:e}),r=await zo._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(lo(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(u=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(u,u))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,u=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===u)&&(h!=null&&h.user)&&(i=h.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Fd(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=aI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(lo(this.app))return Promise.reject(el(this));const t=e?Ms(e):null;return t&&Ft(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ft(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return lo(this.app)?Promise.reject(el(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return lo(this.app)?Promise.reject(el(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ja(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await TI(this),t=new PI(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Zh("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await bI(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ja(e)||this._popupRedirectResolver;Ft(t,this,"argument-error"),this.redirectPersistenceManager=await Oc.create(this,[Ja(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const o=typeof t=="function"?t:t.next.bind(t);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ft(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=i_(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;if(lo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&iI(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function Xu(n){return Ms(n)}class ev{constructor(e){this.auth=e,this.observer=null,this.addObserver=S3(t=>this.observer=t)}get next(){return Ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let up={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function CI(n){up=n}function s_(n){return up.loadJS(n)}function kI(){return up.recaptchaEnterpriseScript}function LI(){return up.gapiScript}function RI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class OI{constructor(){this.enterprise=new DI}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class DI{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const FI="recaptcha-enterprise",o_="NO_RECAPTCHA";class MI{constructor(e){this.type=FI,this.auth=Xu(e)}async verify(e="verify",t=!1){async function r(o){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{pI(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const p=new dI(h);return o.tenantId==null?o._agentRecaptchaConfig=p:o._tenantRecaptchaConfigs[o.tenantId]=p,l(p.siteKey)}}).catch(h=>{u(h)})})}function i(o,l,u){const h=window.grecaptcha;Q2(h)?h.enterprise.ready(()=>{h.enterprise.execute(o,{action:e}).then(p=>{l(p)}).catch(()=>{l(o_)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new OI().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{r(this.auth).then(u=>{if(!t&&Q2(window.grecaptcha))i(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=kI();h.length!==0&&(h+=u),s_(h).then(()=>{i(u,o,l)}).catch(p=>{l(p)})}}).catch(u=>{l(u)})})}}async function tv(n,e,t,r=!1,i=!1){const o=new MI(n);let l;if(i)l=o_;else try{l=await o.verify(t)}catch{l=await o.verify(t,!0)}const u=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const h=u.phoneEnrollmentInfo.phoneNumber,p=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:p,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const h=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return r?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function sm(n,e,t,r,i){var o;if(!((o=n._getRecaptchaConfig())===null||o===void 0)&&o.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await tv(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const u=await tv(n,e,t,t==="getOobCode");return r(n,u)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jI(n,e){const t=Cm(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),o=t.getOptions();if(zu(o,e??{}))return i;Ho(i,"already-initialized")}return t.initialize({options:e})}function VI(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Ja);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function BI(n,e,t){const r=Xu(n);Ft(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,o=a_(e),{host:l,port:u}=UI(e),h=u===null?"":`:${u}`,p={url:`${o}//${l}${h}/`},v=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Ft(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Ft(zu(p,r.config.emulator)&&zu(v,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=v,r.settings.appVerificationDisabledForTesting=!0,Xh(l)?(Kd("Auth",!0),sy(`${o}//${l}${h}`)):zI()}function a_(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function UI(n){const e=a_(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const o=i[1];return{host:o,port:nv(r.substr(o.length+1))}}else{const[o,l]=r.split(":");return{host:o,port:nv(l)}}}function nv(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function zI(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ya("not implemented")}_getIdTokenResponse(e){return Ya("not implemented")}_linkToIdToken(e,t){return Ya("not implemented")}_getReauthenticationResolver(e){return Ya("not implemented")}}async function qI(n,e){return vu(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HI(n,e){return af(n,"POST","/v1/accounts:signInWithPassword",mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WI(n,e){return af(n,"POST","/v1/accounts:signInWithEmailLink",mu(n,e))}async function $I(n,e){return af(n,"POST","/v1/accounts:signInWithEmailLink",mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qh extends d1{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new Qh(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new Qh(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,t,"signInWithPassword",HI);case"emailLink":return WI(e,{email:this._email,oobCode:this._password});default:Ho(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return sm(e,r,"signUpPassword",qI);case"emailLink":return $I(e,{idToken:t,email:this._email,oobCode:this._password});default:Ho(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dc(n,e){return af(n,"POST","/v1/accounts:signInWithIdp",mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GI="http://localhost";class $u extends d1{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new $u(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ho("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,o=l1(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new $u(r,i);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Dc(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Dc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Dc(e,t)}buildRequest(){const e={requestUri:GI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ef(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QI(n){const e=Eh(Ah(n)).link,t=e?Eh(Ah(e)).deep_link_id:null,r=Eh(Ah(n)).deep_link_id;return(r?Eh(Ah(r)).link:null)||r||t||e||n}class p1{constructor(e){var t,r,i,o,l,u;const h=Eh(Ah(e)),p=(t=h.apiKey)!==null&&t!==void 0?t:null,v=(r=h.oobCode)!==null&&r!==void 0?r:null,_=KI((i=h.mode)!==null&&i!==void 0?i:null);Ft(p&&v&&_,"argument-error"),this.apiKey=p,this.operation=_,this.code=v,this.continueUrl=(o=h.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(l=h.lang)!==null&&l!==void 0?l:null,this.tenantId=(u=h.tenantId)!==null&&u!==void 0?u:null}static parseLink(e){const t=QI(e);try{return new p1(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nh{constructor(){this.providerId=nh.PROVIDER_ID}static credential(e,t){return Qh._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=p1.parseLink(t);return Ft(r,"argument-error"),Qh._fromEmailAndCode(e,r.code,r.tenantId)}}nh.PROVIDER_ID="password";nh.EMAIL_PASSWORD_SIGN_IN_METHOD="password";nh.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l_{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf extends l_{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l extends lf{constructor(){super("facebook.com")}static credential(e){return $u._fromParams({providerId:$l.PROVIDER_ID,signInMethod:$l.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return $l.credentialFromTaggedObject(e)}static credentialFromError(e){return $l.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return $l.credential(e.oauthAccessToken)}catch{return null}}}$l.FACEBOOK_SIGN_IN_METHOD="facebook.com";$l.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gl extends lf{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return $u._fromParams({providerId:Gl.PROVIDER_ID,signInMethod:Gl.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Gl.credentialFromTaggedObject(e)}static credentialFromError(e){return Gl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Gl.credential(t,r)}catch{return null}}}Gl.GOOGLE_SIGN_IN_METHOD="google.com";Gl.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kl extends lf{constructor(){super("github.com")}static credential(e){return $u._fromParams({providerId:Kl.PROVIDER_ID,signInMethod:Kl.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kl.credentialFromTaggedObject(e)}static credentialFromError(e){return Kl.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kl.credential(e.oauthAccessToken)}catch{return null}}}Kl.GITHUB_SIGN_IN_METHOD="github.com";Kl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ql extends lf{constructor(){super("twitter.com")}static credential(e,t){return $u._fromParams({providerId:Ql.PROVIDER_ID,signInMethod:Ql.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Ql.credentialFromTaggedObject(e)}static credentialFromError(e){return Ql.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Ql.credential(t,r)}catch{return null}}}Ql.TWITTER_SIGN_IN_METHOD="twitter.com";Ql.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function YI(n,e){return af(n,"POST","/v1/accounts:signUp",mu(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const o=await zo._fromIdTokenResponse(e,r,i),l=rv(r);return new Gu({user:o,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=rv(r);return new Gu({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function rv(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Md extends ol{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Md.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Md(e,t,r,i)}}function u_(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Md._fromErrorAndOperation(n,o,e,r):o})}async function JI(n,e,t=!1){const r=await Kh(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return Gu._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function XI(n,e,t=!1){const{auth:r}=n;if(lo(r.app))return Promise.reject(el(r));const i="reauthenticate";try{const o=await Kh(n,u_(r,i,e,n),t);Ft(o.idToken,r,"internal-error");const l=h1(o.idToken);Ft(l,r,"internal-error");const{sub:u}=l;return Ft(n.uid===u,r,"user-mismatch"),Gu._forOperation(n,i,o)}catch(o){throw(o==null?void 0:o.code)==="auth/user-not-found"&&Ho(r,"user-mismatch"),o}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c_(n,e,t=!1){if(lo(n.app))return Promise.reject(el(n));const r="signIn",i=await u_(n,r,e),o=await Gu._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(o.user),o}async function ZI(n,e){return c_(Xu(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h_(n){const e=Xu(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function eT(n,e,t){if(lo(n.app))return Promise.reject(el(n));const r=Xu(n),l=await sm(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YI).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&h_(n),h}),u=await Gu._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(u.user),u}function tT(n,e,t){return lo(n.app)?Promise.reject(el(n)):ZI(Ms(n),nh.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&h_(n),r})}function nT(n,e,t,r){return Ms(n).onIdTokenChanged(e,t,r)}function rT(n,e,t){return Ms(n).beforeAuthStateChanged(e,t)}function f_(n,e,t,r){return Ms(n).onAuthStateChanged(e,t,r)}const jd="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d_{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(jd,"1"),this.storage.removeItem(jd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iT=1e3,sT=10;class p_ extends d_{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=r_(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,u,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},o=this.storage.getItem(r);AI()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,sT):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},iT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}p_.type="LOCAL";const oT=p_;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g_ extends d_{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}g_.type="SESSION";const m_=g_;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aT(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cp{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new cp(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:o}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const u=Array.from(l).map(async p=>p(t.origin,o)),h=await aT(u);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}cp.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g1(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,l;return new Promise((u,h)=>{const p=g1("",20);i.port1.start();const v=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const I=_;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(v),o=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(I.data.response);break;default:clearTimeout(v),clearTimeout(o),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(){return window}function uT(n){ya().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function v_(){return typeof ya().WorkerGlobalScope<"u"&&typeof ya().importScripts=="function"}async function cT(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function hT(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function fT(){return v_()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y_="firebaseLocalStorageDb",dT=1,Vd="firebaseLocalStorage",__="fbase_key";class uf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hp(n,e){return n.transaction([Vd],e?"readwrite":"readonly").objectStore(Vd)}function pT(){const n=indexedDB.deleteDatabase(y_);return new uf(n).toPromise()}function om(){const n=indexedDB.open(y_,dT);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Vd,{keyPath:__})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Vd)?e(r):(r.close(),await pT(),e(await om()))})})}async function iv(n,e,t){const r=hp(n,!0).put({[__]:e,value:t});return new uf(r).toPromise()}async function gT(n,e){const t=hp(n,!1).get(e),r=await new uf(t).toPromise();return r===void 0?null:r.value}function sv(n,e){const t=hp(n,!0).delete(e);return new uf(t).toPromise()}const mT=800,vT=3;class w_{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await om(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>vT)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return v_()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=cp._getInstance(fT()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await cT(),!this.activeServiceWorker)return;this.sender=new lT(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||hT()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await om();return await iv(e,jd,"1"),await sv(e,jd),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>iv(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>gT(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>sv(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const o=hp(i,!1).getAll();return new uf(o).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:o}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(o)&&(this.notifyListeners(i,o),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),mT)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}w_.type="LOCAL";const yT=w_;new of(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _T(n,e){return e?Ja(e):(Ft(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m1 extends d1{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Dc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Dc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Dc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function wT(n){return c_(n.auth,new m1(n),n.bypassAuthState)}function ST(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),XI(t,new m1(n),n.bypassAuthState)}async function bT(n){const{auth:e,user:t}=n;return Ft(t,e,"internal-error"),JI(t,new m1(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S_{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:l,type:u}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(h))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return wT;case"linkViaPopup":case"linkViaRedirect":return bT;case"reauthViaPopup":case"reauthViaRedirect":return ST;default:Ho(this.auth,"internal-error")}}resolve(e){il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){il(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ET=new of(2e3,1e4);class Nc extends S_{constructor(e,t,r,i,o){super(e,t,i,o),this.provider=r,this.authWindow=null,this.pollId=null,Nc.currentPopupAction&&Nc.currentPopupAction.cancel(),Nc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ft(e,this.auth,"internal-error"),e}async onExecution(){il(this.filter.length===1,"Popup operations only handle one event");const e=g1();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(va(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(va(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Nc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(va(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ET.get())};e()}}Nc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AT="pendingRedirect",fd=new Map;class IT extends S_{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=fd.get(this.auth._key());if(!e){try{const r=await TT(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}fd.set(this.auth._key(),e)}return this.bypassAuthState||fd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function TT(n,e){const t=NT(e),r=PT(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function xT(n,e){fd.set(n._key(),e)}function PT(n){return Ja(n._redirectPersistence)}function NT(n){return hd(AT,n.config.apiKey,n.name)}async function CT(n,e,t=!1){if(lo(n.app))return Promise.reject(el(n));const r=Xu(n),i=_T(r,e),l=await new IT(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kT=10*60*1e3;class LT{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!RT(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!b_(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(va(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=kT&&this.cachedEventUids.clear(),this.cachedEventUids.has(ov(e))}saveEventToCache(e){this.cachedEventUids.add(ov(e)),this.lastProcessedEventTime=Date.now()}}function ov(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function b_({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function RT(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return b_(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function OT(n,e={}){return vu(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DT=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,FT=/^https?/;async function MT(n){if(n.config.emulator)return;const{authorizedDomains:e}=await OT(n);for(const t of e)try{if(jT(t))return}catch{}Ho(n,"unauthorized-domain")}function jT(n){const e=rm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!FT.test(t))return!1;if(DT.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT=new of(3e4,6e4);function av(){const n=ya().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function BT(n){return new Promise((e,t)=>{var r,i,o;function l(){av(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{av(),t(va(n,"network-request-failed"))},timeout:VT.get()})}if(!((i=(r=ya().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ya().gapi)===null||o===void 0)&&o.load)l();else{const u=RI("iframefcb");return ya()[u]=()=>{gapi.load?l():t(va(n,"network-request-failed"))},s_(`${LI()}?onload=${u}`).catch(h=>t(h))}}).catch(e=>{throw dd=null,e})}let dd=null;function UT(n){return dd=dd||BT(n),dd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zT=new of(5e3,15e3),qT="__/auth/iframe",HT="emulator/auth/iframe",WT={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},$T=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function GT(n){const e=n.config;Ft(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?c1(e,HT):`https://${n.config.authDomain}/${qT}`,r={apiKey:e.apiKey,appName:n.name,v:Jc},i=$T.get(n.config.apiHost);i&&(r.eid=i);const o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${ef(r).slice(1)}`}async function KT(n){const e=await UT(n),t=ya().gapi;return Ft(t,n,"internal-error"),e.open({where:document.body,url:GT(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:WT,dontclear:!0},r=>new Promise(async(i,o)=>{await r.restyle({setHideOnLeave:!1});const l=va(n,"network-request-failed"),u=ya().setTimeout(()=>{o(l)},zT.get());function h(){ya().clearTimeout(u),i(r)}r.ping(h).then(h,()=>{o(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QT={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},YT=500,JT=600,XT="_blank",ZT="http://localhost";class lv{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function e6(n,e,t,r=YT,i=JT){const o=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let u="";const h=Object.assign(Object.assign({},QT),{width:r.toString(),height:i.toString(),top:o,left:l}),p=Di().toLowerCase();t&&(u=X5(p)?XT:t),Y5(p)&&(e=e||ZT,h.scrollbars="yes");const v=Object.entries(h).reduce((I,[b,j])=>`${I}${b}=${j},`,"");if(EI(p)&&u!=="_self")return t6(e||"",u),new lv(null);const _=window.open(e||"",u,v);Ft(_,n,"popup-blocked");try{_.focus()}catch{}return new lv(_)}function t6(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n6="__/auth/handler",r6="emulator/auth/handler",i6=encodeURIComponent("fac");async function uv(n,e,t,r,i,o){Ft(n.config.authDomain,n,"auth-domain-config-required"),Ft(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Jc,eventId:i};if(e instanceof l_){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",w3(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[v,_]of Object.entries({}))l[v]=_}if(e instanceof lf){const v=e.getScopes().filter(_=>_!=="");v.length>0&&(l.scopes=v.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const v of Object.keys(u))u[v]===void 0&&delete u[v];const h=await n._getAppCheckToken(),p=h?`#${i6}=${encodeURIComponent(h)}`:"";return`${s6(n)}?${ef(u).slice(1)}${p}`}function s6({config:n}){return n.emulator?c1(n,r6):`https://${n.authDomain}/${n6}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yg="webStorageSupport";class o6{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=m_,this._completeRedirectFn=CT,this._overrideRedirectResult=xT}async _openPopup(e,t,r,i){var o;il((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");const l=await uv(e,t,r,rm(),i);return e6(e,l,g1())}async _openRedirect(e,t,r,i){await this._originValidation(e);const o=await uv(e,t,r,rm(),i);return uT(o),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):(il(o,"If manager is not set, promise should be"),o)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await KT(e),r=new LT(e);return t.register("authEvent",i=>(Ft(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yg,{type:yg},i=>{var o;const l=(o=i==null?void 0:i[0])===null||o===void 0?void 0:o[yg];l!==void 0&&t(!!l),Ho(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=MT(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return r_()||J5()||f1()}}const a6=o6;var cv="@firebase/auth",hv="1.10.4";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l6{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u6(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function c6(n){Uc(new qu("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=r.options;Ft(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:i_(n)},p=new NI(r,i,o,h);return VI(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Uc(new qu("auth-internal",e=>{const t=Xu(e.getProvider("auth").getImmediate());return(r=>new l6(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),nu(cv,hv,u6(n)),nu(cv,hv,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h6=5*60,f6=iy("authIdTokenMaxAge")||h6;let fv=null;const d6=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>f6)return;const i=t==null?void 0:t.token;fv!==i&&(fv=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function p6(n=uy()){const e=Cm(n,"auth");if(e.isInitialized())return e.getImmediate();const t=jI(n,{popupRedirectResolver:a6,persistence:[yT,oT,m_]}),r=iy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(r,location.origin);if(location.origin===o.origin){const l=d6(o.toString());rT(t,l,()=>l(t.currentUser)),nT(t,u=>l(u))}}const i=ny("auth");return i?BI(t,`http://${i}`):Kd("Auth",!1),t}function g6(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}CI({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const o=va("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",g6().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});c6("Browser");const m6={apiKey:"AIzaSyAeuBX84PaJlyT9CgSTWDVmA0DNl_bRS8o",authDomain:"tps-assistant-2ea6b.firebaseapp.com",projectId:"tps-assistant-2ea6b",storageBucket:"tps-assistant-2ea6b.appspot.com",messagingSenderId:"797016519687",appId:"1:797016519687:web:94a65c03712a7b24492482",measurementId:"G-RXH1T2N193"},E_=ly(m6),A_=DA(E_),Dh=p6(E_);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function v6(n,e,t,r){function i(o){return o instanceof t?o:new t(function(l){l(o)})}return new(t||(t=Promise))(function(o,l){function u(v){try{p(r.next(v))}catch(_){l(_)}}function h(v){try{p(r.throw(v))}catch(_){l(_)}}function p(v){v.done?o(v.value):i(v.value).then(u,h)}p((r=r.apply(n,[])).next())})}function y6(n,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,l;return l={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(l[Symbol.iterator]=function(){return this}),l;function u(p){return function(v){return h([p,v])}}function h(p){if(r)throw new TypeError("Generator is already executing.");for(;t;)try{if(r=1,i&&(o=p[0]&2?i.return:p[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,p[1])).done)return o;switch(i=0,o&&(p=[p[0]&2,o.value]),p[0]){case 0:case 1:o=p;break;case 4:return t.label++,{value:p[1],done:!1};case 5:t.label++,i=p[1],p=[0];continue;case 7:p=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(p[0]===6||p[0]===2)){t=0;continue}if(p[0]===3&&(!o||p[1]>o[0]&&p[1]<o[3])){t.label=p[1];break}if(p[0]===6&&t.label<o[1]){t.label=o[1],o=p;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(p);break}o[2]&&t.ops.pop(),t.trys.pop();continue}p=e.call(n,t)}catch(v){p=[6,v],i=0}finally{r=o=0}if(p[0]&5)throw p[1];return{value:p[0]?p[1]:void 0,done:!0}}}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var Cc=function(){return Cc=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Cc.apply(this,arguments)},I_=function(n){return{loading:n==null,value:n}},_6=function(){return function(n,e){switch(e.type){case"error":return Cc(Cc({},n),{error:e.error,loading:!1,value:void 0});case"reset":return I_(e.defaultValue);case"value":return Cc(Cc({},n),{error:void 0,loading:!1,value:e.value});default:return n}}},w6=function(n){var e=n?n():void 0,t=ot.useReducer(_6(),I_(e)),r=t[0],i=t[1],o=ot.useCallback(function(){var h=n?n():void 0;i({type:"reset",defaultValue:h})},[n]),l=ot.useCallback(function(h){i({type:"error",error:h})},[]),u=ot.useCallback(function(h){i({type:"value",value:h})},[]);return ot.useMemo(function(){return{error:r.error,loading:r.loading,reset:o,setError:l,setValue:u,value:r.value}},[r.error,r.loading,o,l,u,r.value])},S6=function(n,e){var t=w6(function(){return n.currentUser}),r=t.error,i=t.loading,o=t.setError,l=t.setValue,u=t.value;return ot.useEffect(function(){var h=f_(n,function(p){return v6(void 0,void 0,void 0,function(){var v;return y6(this,function(_){switch(_.label){case 0:return[3,4];case 1:return _.trys.push([1,3,,4]),[4,e.onUserChanged(p)];case 2:return _.sent(),[3,4];case 3:return v=_.sent(),o(v),[3,4];case 4:return l(p),[2]}})})},o);return function(){h()}},[n]),[u,i,r]};function b6(){const[n,e]=ot.useState(""),[t,r]=ot.useState(""),[i,o]=ot.useState("login"),[l,u]=ot.useState(""),h=$d(),[p]=S6(Dh);if(p)return Be.jsx(Ka,{to:"/home"});const v=async _=>{_.preventDefault(),u("");try{i==="login"?await tT(Dh,n,t):await eT(Dh,n,t),h("/home")}catch(I){u(" "+I.message)}};return Be.jsxs("div",{className:"min-h-screen bg-black text-white flex flex-col items-center justify-center p-8",children:[Be.jsx("h1",{className:"text-2xl font-bold mb-4",children:i==="login"?" Entrar":" Criar Conta"}),Be.jsxs("form",{onSubmit:v,className:"space-y-4 w-full max-w-xs",children:[Be.jsx("input",{type:"email",placeholder:"Email",className:"w-full p-2 rounded bg-gray-800 border border-gray-600",value:n,onChange:_=>e(_.target.value),required:!0}),Be.jsx("input",{type:"password",placeholder:"Senha",className:"w-full p-2 rounded bg-gray-800 border border-gray-600",value:t,onChange:_=>r(_.target.value),required:!0}),Be.jsx("button",{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700 px-4 py-2 rounded font-semibold",children:i==="login"?"Entrar":"Registrar"}),l&&Be.jsx("p",{className:"text-red-500 text-sm",children:l})]}),Be.jsx("button",{onClick:()=>o(i==="login"?"registro":"login"),className:"mt-4 text-sm text-blue-400 hover:underline",children:i==="login"?"No tem conta? Registre-se":"J tem conta? Faa login"})]})}function E6(){return Be.jsxs("div",{className:"min-h-screen bg-gray-900 text-white flex flex-col items-center justify-center p-8",children:[Be.jsxs("h1",{className:"text-4xl font-bold mb-8",children:["Bem-vindo ao ",Be.jsx("span",{className:"text-blue-400",children:"TPS Assistant"})]}),Be.jsxs("div",{className:"space-y-4 text-lg",children:[Be.jsx(Qa,{to:"/hotels",className:"text-blue-300 hover:underline",children:" Ver hotis simulados"}),Be.jsx("br",{}),Be.jsx(Qa,{to:"/flights",className:"text-blue-300 hover:underline",children:" Ver voos simulados"}),Be.jsx("br",{}),Be.jsx(Qa,{to:"/cars",className:"text-blue-300 hover:underline",children:" Ver carros disponveis"}),Be.jsx("br",{}),Be.jsx(Qa,{to:"/insurance",className:"text-blue-300 hover:underline",children:" Ver seguros de viagem"}),Be.jsx("br",{}),Be.jsx(Qa,{to:"/history",className:"text-blue-300 hover:underline",children:" Ver histrico de simulaes"})]})]})}function A6(){return Be.jsx("div",{className:"p-8 text-white",children:" Aqui aparecero os resultados."})}const I6="modulepreload",T6=function(n){return"/"+n},dv={},am=function(e,t,r){let i=Promise.resolve();if(t&&t.length>0){let l=function(p){return Promise.all(p.map(v=>Promise.resolve(v).then(_=>({status:"fulfilled",value:_}),_=>({status:"rejected",reason:_}))))};document.getElementsByTagName("link");const u=document.querySelector("meta[property=csp-nonce]"),h=(u==null?void 0:u.nonce)||(u==null?void 0:u.getAttribute("nonce"));i=l(t.map(p=>{if(p=T6(p),p in dv)return;dv[p]=!0;const v=p.endsWith(".css"),_=v?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${_}`))return;const I=document.createElement("link");if(I.rel=v?"stylesheet":I6,v||(I.as="script"),I.crossOrigin="",I.href=p,h&&I.setAttribute("nonce",h),document.head.appendChild(I),v)return new Promise((b,j)=>{I.addEventListener("load",b),I.addEventListener("error",()=>j(new Error(`Unable to preload CSS for ${p}`)))})}))}function o(l){const u=new Event("vite:preloadError",{cancelable:!0});if(u.payload=l,window.dispatchEvent(u),!u.defaultPrevented)throw l}return i.then(l=>{for(const u of l||[])u.status==="rejected"&&o(u.reason);return e().catch(o)})};function kn(n){"@babel/helpers - typeof";return kn=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kn(n)}var Oi=Uint8Array,Fs=Uint16Array,v1=Int32Array,fp=new Oi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),dp=new Oi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),lm=new Oi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T_=function(n,e){for(var t=new Fs(31),r=0;r<31;++r)t[r]=e+=1<<n[r-1];for(var i=new v1(t[30]),r=1;r<30;++r)for(var o=t[r];o<t[r+1];++o)i[o]=o-t[r]<<5|r;return{b:t,r:i}},x_=T_(fp,2),P_=x_.b,um=x_.r;P_[28]=258,um[258]=28;var N_=T_(dp,0),x6=N_.b,pv=N_.r,cm=new Fs(32768);for(var qn=0;qn<32768;++qn){var Hl=(qn&43690)>>1|(qn&21845)<<1;Hl=(Hl&52428)>>2|(Hl&13107)<<2,Hl=(Hl&61680)>>4|(Hl&3855)<<4,cm[qn]=((Hl&65280)>>8|(Hl&255)<<8)>>1}var _a=function(n,e,t){for(var r=n.length,i=0,o=new Fs(e);i<r;++i)n[i]&&++o[n[i]-1];var l=new Fs(e);for(i=1;i<e;++i)l[i]=l[i-1]+o[i-1]<<1;var u;if(t){u=new Fs(1<<e);var h=15-e;for(i=0;i<r;++i)if(n[i])for(var p=i<<4|n[i],v=e-n[i],_=l[n[i]-1]++<<v,I=_|(1<<v)-1;_<=I;++_)u[cm[_]>>h]=p}else for(u=new Fs(r),i=0;i<r;++i)n[i]&&(u[i]=cm[l[n[i]-1]++]>>15-n[i]);return u},fu=new Oi(288);for(var qn=0;qn<144;++qn)fu[qn]=8;for(var qn=144;qn<256;++qn)fu[qn]=9;for(var qn=256;qn<280;++qn)fu[qn]=7;for(var qn=280;qn<288;++qn)fu[qn]=8;var Yh=new Oi(32);for(var qn=0;qn<32;++qn)Yh[qn]=5;var P6=_a(fu,9,0),N6=_a(fu,9,1),C6=_a(Yh,5,0),k6=_a(Yh,5,1),_g=function(n){for(var e=n[0],t=1;t<n.length;++t)n[t]>e&&(e=n[t]);return e},jo=function(n,e,t){var r=e/8|0;return(n[r]|n[r+1]<<8)>>(e&7)&t},wg=function(n,e){var t=e/8|0;return(n[t]|n[t+1]<<8|n[t+2]<<16)>>(e&7)},y1=function(n){return(n+7)/8|0},C_=function(n,e,t){return(t==null||t>n.length)&&(t=n.length),new Oi(n.subarray(e,t))},L6=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],Bo=function(n,e,t){var r=new Error(e||L6[n]);if(r.code=n,Error.captureStackTrace&&Error.captureStackTrace(r,Bo),!t)throw r;return r},R6=function(n,e,t,r){var i=n.length,o=0;if(!i||e.f&&!e.l)return t||new Oi(0);var l=!t,u=l||e.i!=2,h=e.i;l&&(t=new Oi(i*3));var p=function(Re){var Ke=t.length;if(Re>Ke){var Ge=new Oi(Math.max(Ke*2,Re));Ge.set(t),t=Ge}},v=e.f||0,_=e.p||0,I=e.b||0,b=e.l,j=e.d,M=e.m,B=e.n,V=i*8;do{if(!b){v=jo(n,_,1);var Q=jo(n,_+1,3);if(_+=3,Q)if(Q==1)b=N6,j=k6,M=9,B=5;else if(Q==2){var Ee=jo(n,_,31)+257,q=jo(n,_+10,15)+4,A=Ee+jo(n,_+5,31)+1;_+=14;for(var N=new Oi(A),O=new Oi(19),P=0;P<q;++P)O[lm[P]]=jo(n,_+P*3,7);_+=q*3;for(var C=_g(O),R=(1<<C)-1,ie=_a(O,C,1),P=0;P<A;){var Ne=ie[jo(n,_,R)];_+=Ne&15;var ne=Ne>>4;if(ne<16)N[P++]=ne;else{var Ae=0,ye=0;for(ne==16?(ye=3+jo(n,_,3),_+=2,Ae=N[P-1]):ne==17?(ye=3+jo(n,_,7),_+=3):ne==18&&(ye=11+jo(n,_,127),_+=7);ye--;)N[P++]=Ae}}var re=N.subarray(0,Ee),ae=N.subarray(Ee);M=_g(re),B=_g(ae),b=_a(re,M,1),j=_a(ae,B,1)}else Bo(1);else{var ne=y1(_)+4,me=n[ne-4]|n[ne-3]<<8,xe=ne+me;if(xe>i){h&&Bo(0);break}u&&p(I+me),t.set(n.subarray(ne,xe),I),e.b=I+=me,e.p=_=xe*8,e.f=v;continue}if(_>V){h&&Bo(0);break}}u&&p(I+131072);for(var ce=(1<<M)-1,X=(1<<B)-1,L=_;;L=_){var Ae=b[wg(n,_)&ce],W=Ae>>4;if(_+=Ae&15,_>V){h&&Bo(0);break}if(Ae||Bo(2),W<256)t[I++]=W;else if(W==256){L=_,b=null;break}else{var Y=W-254;if(W>264){var P=W-257,te=fp[P];Y=jo(n,_,(1<<te)-1)+P_[P],_+=te}var oe=j[wg(n,_)&X],ve=oe>>4;oe||Bo(3),_+=oe&15;var ae=x6[ve];if(ve>3){var te=dp[ve];ae+=wg(n,_)&(1<<te)-1,_+=te}if(_>V){h&&Bo(0);break}u&&p(I+131072);var ue=I+Y;if(I<ae){var ge=o-ae,Ve=Math.min(ae,ue);for(ge+I<0&&Bo(3);I<Ve;++I)t[I]=r[ge+I]}for(;I<ue;++I)t[I]=t[I-ae]}}e.l=b,e.p=L,e.b=I,e.f=v,b&&(v=1,e.m=M,e.d=j,e.n=B)}while(!v);return I!=t.length&&l?C_(t,0,I):t.subarray(0,I)},Ga=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8},Sh=function(n,e,t){t<<=e&7;var r=e/8|0;n[r]|=t,n[r+1]|=t>>8,n[r+2]|=t>>16},Sg=function(n,e){for(var t=[],r=0;r<n.length;++r)n[r]&&t.push({s:r,f:n[r]});var i=t.length,o=t.slice();if(!i)return{t:L_,l:0};if(i==1){var l=new Oi(t[0].s+1);return l[t[0].s]=1,{t:l,l:1}}t.sort(function(xe,Ee){return xe.f-Ee.f}),t.push({s:-1,f:25001});var u=t[0],h=t[1],p=0,v=1,_=2;for(t[0]={s:-1,f:u.f+h.f,l:u,r:h};v!=i-1;)u=t[t[p].f<t[_].f?p++:_++],h=t[p!=v&&t[p].f<t[_].f?p++:_++],t[v++]={s:-1,f:u.f+h.f,l:u,r:h};for(var I=o[0].s,r=1;r<i;++r)o[r].s>I&&(I=o[r].s);var b=new Fs(I+1),j=hm(t[v-1],b,0);if(j>e){var r=0,M=0,B=j-e,V=1<<B;for(o.sort(function(Ee,q){return b[q.s]-b[Ee.s]||Ee.f-q.f});r<i;++r){var Q=o[r].s;if(b[Q]>e)M+=V-(1<<j-b[Q]),b[Q]=e;else break}for(M>>=B;M>0;){var ne=o[r].s;b[ne]<e?M-=1<<e-b[ne]++-1:++r}for(;r>=0&&M;--r){var me=o[r].s;b[me]==e&&(--b[me],++M)}j=e}return{t:new Oi(b),l:j}},hm=function(n,e,t){return n.s==-1?Math.max(hm(n.l,e,t+1),hm(n.r,e,t+1)):e[n.s]=t},gv=function(n){for(var e=n.length;e&&!n[--e];);for(var t=new Fs(++e),r=0,i=n[0],o=1,l=function(h){t[r++]=h},u=1;u<=e;++u)if(n[u]==i&&u!=e)++o;else{if(!i&&o>2){for(;o>138;o-=138)l(32754);o>2&&(l(o>10?o-11<<5|28690:o-3<<5|12305),o=0)}else if(o>3){for(l(i),--o;o>6;o-=6)l(8304);o>2&&(l(o-3<<5|8208),o=0)}for(;o--;)l(i);o=1,i=n[u]}return{c:t.subarray(0,r),n:e}},bh=function(n,e){for(var t=0,r=0;r<e.length;++r)t+=n[r]*e[r];return t},k_=function(n,e,t){var r=t.length,i=y1(e+2);n[i]=r&255,n[i+1]=r>>8,n[i+2]=n[i]^255,n[i+3]=n[i+1]^255;for(var o=0;o<r;++o)n[i+o+4]=t[o];return(i+4+r)*8},mv=function(n,e,t,r,i,o,l,u,h,p,v){Ga(e,v++,t),++i[256];for(var _=Sg(i,15),I=_.t,b=_.l,j=Sg(o,15),M=j.t,B=j.l,V=gv(I),Q=V.c,ne=V.n,me=gv(M),xe=me.c,Ee=me.n,q=new Fs(19),A=0;A<Q.length;++A)++q[Q[A]&31];for(var A=0;A<xe.length;++A)++q[xe[A]&31];for(var N=Sg(q,7),O=N.t,P=N.l,C=19;C>4&&!O[lm[C-1]];--C);var R=p+5<<3,ie=bh(i,fu)+bh(o,Yh)+l,Ne=bh(i,I)+bh(o,M)+l+14+3*C+bh(q,O)+2*q[16]+3*q[17]+7*q[18];if(h>=0&&R<=ie&&R<=Ne)return k_(e,v,n.subarray(h,h+p));var Ae,ye,re,ae;if(Ga(e,v,1+(Ne<ie)),v+=2,Ne<ie){Ae=_a(I,b,0),ye=I,re=_a(M,B,0),ae=M;var ce=_a(O,P,0);Ga(e,v,ne-257),Ga(e,v+5,Ee-1),Ga(e,v+10,C-4),v+=14;for(var A=0;A<C;++A)Ga(e,v+3*A,O[lm[A]]);v+=3*C;for(var X=[Q,xe],L=0;L<2;++L)for(var W=X[L],A=0;A<W.length;++A){var Y=W[A]&31;Ga(e,v,ce[Y]),v+=O[Y],Y>15&&(Ga(e,v,W[A]>>5&127),v+=W[A]>>12)}}else Ae=P6,ye=fu,re=C6,ae=Yh;for(var A=0;A<u;++A){var te=r[A];if(te>255){var Y=te>>18&31;Sh(e,v,Ae[Y+257]),v+=ye[Y+257],Y>7&&(Ga(e,v,te>>23&31),v+=fp[Y]);var oe=te&31;Sh(e,v,re[oe]),v+=ae[oe],oe>3&&(Sh(e,v,te>>5&8191),v+=dp[oe])}else Sh(e,v,Ae[te]),v+=ye[te]}return Sh(e,v,Ae[256]),v+ye[256]},O6=new v1([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),L_=new Oi(0),D6=function(n,e,t,r,i,o){var l=o.z||n.length,u=new Oi(r+l+5*(1+Math.ceil(l/7e3))+i),h=u.subarray(r,u.length-i),p=o.l,v=(o.r||0)&7;if(e){v&&(h[0]=o.r>>3);for(var _=O6[e-1],I=_>>13,b=_&8191,j=(1<<t)-1,M=o.p||new Fs(32768),B=o.h||new Fs(j+1),V=Math.ceil(t/3),Q=2*V,ne=function(st){return(n[st]^n[st+1]<<V^n[st+2]<<Q)&j},me=new v1(25e3),xe=new Fs(288),Ee=new Fs(32),q=0,A=0,N=o.i||0,O=0,P=o.w||0,C=0;N+2<l;++N){var R=ne(N),ie=N&32767,Ne=B[R];if(M[ie]=Ne,B[R]=ie,P<=N){var Ae=l-N;if((q>7e3||O>24576)&&(Ae>423||!p)){v=mv(n,h,0,me,xe,Ee,A,O,C,N-C,v),O=q=A=0,C=N;for(var ye=0;ye<286;++ye)xe[ye]=0;for(var ye=0;ye<30;++ye)Ee[ye]=0}var re=2,ae=0,ce=b,X=ie-Ne&32767;if(Ae>2&&R==ne(N-X))for(var L=Math.min(I,Ae)-1,W=Math.min(32767,N),Y=Math.min(258,Ae);X<=W&&--ce&&ie!=Ne;){if(n[N+re]==n[N+re-X]){for(var te=0;te<Y&&n[N+te]==n[N+te-X];++te);if(te>re){if(re=te,ae=X,te>L)break;for(var oe=Math.min(X,te-2),ve=0,ye=0;ye<oe;++ye){var ue=N-X+ye&32767,ge=M[ue],Ve=ue-ge&32767;Ve>ve&&(ve=Ve,Ne=ue)}}}ie=Ne,Ne=M[ie],X+=ie-Ne&32767}if(ae){me[O++]=268435456|um[re]<<18|pv[ae];var Re=um[re]&31,Ke=pv[ae]&31;A+=fp[Re]+dp[Ke],++xe[257+Re],++Ee[Ke],P=N+re,++q}else me[O++]=n[N],++xe[n[N]]}}for(N=Math.max(N,P);N<l;++N)me[O++]=n[N],++xe[n[N]];v=mv(n,h,p,me,xe,Ee,A,O,C,N-C,v),p||(o.r=v&7|h[v/8|0]<<3,v-=7,o.h=B,o.p=M,o.i=N,o.w=P)}else{for(var N=o.w||0;N<l+p;N+=65535){var Ge=N+65535;Ge>=l&&(h[v/8|0]=p,Ge=l),v=k_(h,v+1,n.subarray(N,Ge))}o.i=l}return C_(u,0,r+y1(v)+i)},R_=function(){var n=1,e=0;return{p:function(t){for(var r=n,i=e,o=t.length|0,l=0;l!=o;){for(var u=Math.min(l+2655,o);l<u;++l)i+=r+=t[l];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}n=r,e=i},d:function(){return n%=65521,e%=65521,(n&255)<<24|(n&65280)<<8|(e&255)<<8|e>>8}}},F6=function(n,e,t,r,i){if(!i&&(i={l:1},e.dictionary)){var o=e.dictionary.subarray(-32768),l=new Oi(o.length+n.length);l.set(o),l.set(n,o.length),n=l,i.w=o.length}return D6(n,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(n.length)))*1.5):20:12+e.mem,t,r,i)},O_=function(n,e,t){for(;t;++e)n[e]=t,t>>>=8},M6=function(n,e){var t=e.level,r=t==0?0:t<6?1:t==9?3:2;if(n[0]=120,n[1]=r<<6|(e.dictionary&&32),n[1]|=31-(n[0]<<8|n[1])%31,e.dictionary){var i=R_();i.p(e.dictionary),O_(n,2,i.d())}},j6=function(n,e){return((n[0]&15)!=8||n[0]>>4>7||(n[0]<<8|n[1])%31)&&Bo(6,"invalid zlib data"),(n[1]>>5&1)==1&&Bo(6,"invalid zlib data: "+(n[1]&32?"need":"unexpected")+" dictionary"),(n[1]>>3&4)+2};function fm(n,e){e||(e={});var t=R_();t.p(n);var r=F6(n,e,e.dictionary?6:2,4);return M6(r,e),O_(r,r.length-4,t.d()),r}function V6(n,e){return R6(n.subarray(j6(n),-4),{i:2},e,e)}var B6=typeof TextDecoder<"u"&&new TextDecoder,U6=0;try{B6.decode(L_,{stream:!0}),U6=1}catch{}var Dt=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function bg(){Dt.console&&typeof Dt.console.log=="function"&&Dt.console.log.apply(Dt.console,arguments)}var Fn={log:bg,warn:function(n){Dt.console&&(typeof Dt.console.warn=="function"?Dt.console.warn.apply(Dt.console,arguments):bg.call(null,arguments))},error:function(n){Dt.console&&(typeof Dt.console.error=="function"?Dt.console.error.apply(Dt.console,arguments):bg(n))}};function Eg(n,e,t){var r=new XMLHttpRequest;r.open("GET",n),r.responseType="blob",r.onload=function(){ju(r.response,e,t)},r.onerror=function(){Fn.error("could not download file")},r.send()}function vv(n){var e=new XMLHttpRequest;e.open("HEAD",n,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Xf(n){try{n.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),n.dispatchEvent(e)}}var Fh,dm,ju=Dt.saveAs||((typeof window>"u"?"undefined":kn(window))!=="object"||window!==Dt?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(n,e,t){var r=Dt.URL||Dt.webkitURL,i=document.createElement("a");e=e||n.name||"download",i.download=e,i.rel="noopener",typeof n=="string"?(i.href=n,i.origin!==location.origin?vv(i.href)?Eg(n,e,t):Xf(i,i.target="_blank"):Xf(i)):(i.href=r.createObjectURL(n),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Xf(i)},0))}:"msSaveOrOpenBlob"in navigator?function(n,e,t){if(e=e||n.name||"download",typeof n=="string")if(vv(n))Eg(n,e,t);else{var r=document.createElement("a");r.href=n,r.target="_blank",setTimeout(function(){Xf(r)})}else navigator.msSaveOrOpenBlob(function(i,o){return o===void 0?o={autoBom:!1}:kn(o)!=="object"&&(Fn.warn("Deprecated: Expected third argument to be a object"),o={autoBom:!o}),o.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(n,t),e)}:function(n,e,t,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof n=="string")return Eg(n,e,t);var i=n.type==="application/octet-stream",o=/constructor/i.test(Dt.HTMLElement)||Dt.safari,l=/CriOS\/[\d]+/.test(navigator.userAgent);if((l||i&&o)&&(typeof FileReader>"u"?"undefined":kn(FileReader))==="object"){var u=new FileReader;u.onloadend=function(){var v=u.result;v=l?v:v.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=v:location=v,r=null},u.readAsDataURL(n)}else{var h=Dt.URL||Dt.webkitURL,p=h.createObjectURL(n);r?r.location=p:location.href=p,r=null,setTimeout(function(){h.revokeObjectURL(p)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function D_(n){var e;n=n||"",this.ok=!1,n.charAt(0)=="#"&&(n=n.substr(1,6)),n={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[n=(n=n.replace(/ /g,"")).toLowerCase()]||n;for(var t=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(u){return[parseInt(u[1]),parseInt(u[2]),parseInt(u[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(u){return[parseInt(u[1],16),parseInt(u[2],16),parseInt(u[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(u){return[parseInt(u[1]+u[1],16),parseInt(u[2]+u[2],16),parseInt(u[3]+u[3],16)]}}],r=0;r<t.length;r++){var i=t[r].re,o=t[r].process,l=i.exec(n);l&&(e=o(l),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var u=this.r.toString(16),h=this.g.toString(16),p=this.b.toString(16);return u.length==1&&(u="0"+u),h.length==1&&(h="0"+h),p.length==1&&(p="0"+p),"#"+u+h+p}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ag(n,e){var t=n[0],r=n[1],i=n[2],o=n[3];t=Pi(t,r,i,o,e[0],7,-680876936),o=Pi(o,t,r,i,e[1],12,-389564586),i=Pi(i,o,t,r,e[2],17,606105819),r=Pi(r,i,o,t,e[3],22,-1044525330),t=Pi(t,r,i,o,e[4],7,-176418897),o=Pi(o,t,r,i,e[5],12,1200080426),i=Pi(i,o,t,r,e[6],17,-1473231341),r=Pi(r,i,o,t,e[7],22,-45705983),t=Pi(t,r,i,o,e[8],7,1770035416),o=Pi(o,t,r,i,e[9],12,-1958414417),i=Pi(i,o,t,r,e[10],17,-42063),r=Pi(r,i,o,t,e[11],22,-1990404162),t=Pi(t,r,i,o,e[12],7,1804603682),o=Pi(o,t,r,i,e[13],12,-40341101),i=Pi(i,o,t,r,e[14],17,-1502002290),t=Ni(t,r=Pi(r,i,o,t,e[15],22,1236535329),i,o,e[1],5,-165796510),o=Ni(o,t,r,i,e[6],9,-1069501632),i=Ni(i,o,t,r,e[11],14,643717713),r=Ni(r,i,o,t,e[0],20,-373897302),t=Ni(t,r,i,o,e[5],5,-701558691),o=Ni(o,t,r,i,e[10],9,38016083),i=Ni(i,o,t,r,e[15],14,-660478335),r=Ni(r,i,o,t,e[4],20,-405537848),t=Ni(t,r,i,o,e[9],5,568446438),o=Ni(o,t,r,i,e[14],9,-1019803690),i=Ni(i,o,t,r,e[3],14,-187363961),r=Ni(r,i,o,t,e[8],20,1163531501),t=Ni(t,r,i,o,e[13],5,-1444681467),o=Ni(o,t,r,i,e[2],9,-51403784),i=Ni(i,o,t,r,e[7],14,1735328473),t=Ci(t,r=Ni(r,i,o,t,e[12],20,-1926607734),i,o,e[5],4,-378558),o=Ci(o,t,r,i,e[8],11,-2022574463),i=Ci(i,o,t,r,e[11],16,1839030562),r=Ci(r,i,o,t,e[14],23,-35309556),t=Ci(t,r,i,o,e[1],4,-1530992060),o=Ci(o,t,r,i,e[4],11,1272893353),i=Ci(i,o,t,r,e[7],16,-155497632),r=Ci(r,i,o,t,e[10],23,-1094730640),t=Ci(t,r,i,o,e[13],4,681279174),o=Ci(o,t,r,i,e[0],11,-358537222),i=Ci(i,o,t,r,e[3],16,-722521979),r=Ci(r,i,o,t,e[6],23,76029189),t=Ci(t,r,i,o,e[9],4,-640364487),o=Ci(o,t,r,i,e[12],11,-421815835),i=Ci(i,o,t,r,e[15],16,530742520),t=ki(t,r=Ci(r,i,o,t,e[2],23,-995338651),i,o,e[0],6,-198630844),o=ki(o,t,r,i,e[7],10,1126891415),i=ki(i,o,t,r,e[14],15,-1416354905),r=ki(r,i,o,t,e[5],21,-57434055),t=ki(t,r,i,o,e[12],6,1700485571),o=ki(o,t,r,i,e[3],10,-1894986606),i=ki(i,o,t,r,e[10],15,-1051523),r=ki(r,i,o,t,e[1],21,-2054922799),t=ki(t,r,i,o,e[8],6,1873313359),o=ki(o,t,r,i,e[15],10,-30611744),i=ki(i,o,t,r,e[6],15,-1560198380),r=ki(r,i,o,t,e[13],21,1309151649),t=ki(t,r,i,o,e[4],6,-145523070),o=ki(o,t,r,i,e[11],10,-1120210379),i=ki(i,o,t,r,e[2],15,718787259),r=ki(r,i,o,t,e[9],21,-343485551),n[0]=Xl(t,n[0]),n[1]=Xl(r,n[1]),n[2]=Xl(i,n[2]),n[3]=Xl(o,n[3])}function pp(n,e,t,r,i,o){return e=Xl(Xl(e,n),Xl(r,o)),Xl(e<<i|e>>>32-i,t)}function Pi(n,e,t,r,i,o,l){return pp(e&t|~e&r,n,e,i,o,l)}function Ni(n,e,t,r,i,o,l){return pp(e&r|t&~r,n,e,i,o,l)}function Ci(n,e,t,r,i,o,l){return pp(e^t^r,n,e,i,o,l)}function ki(n,e,t,r,i,o,l){return pp(t^(e|~r),n,e,i,o,l)}function F_(n){var e,t=n.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=n.length;e+=64)Ag(r,z6(n.substring(e-64,e)));n=n.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<n.length;e++)i[e>>2]|=n.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ag(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*t,Ag(r,i),r}function z6(n){var e,t=[];for(e=0;e<64;e+=4)t[e>>2]=n.charCodeAt(e)+(n.charCodeAt(e+1)<<8)+(n.charCodeAt(e+2)<<16)+(n.charCodeAt(e+3)<<24);return t}Fh=Dt.atob.bind(Dt),dm=Dt.btoa.bind(Dt);var yv="0123456789abcdef".split("");function q6(n){for(var e="",t=0;t<4;t++)e+=yv[n>>8*t+4&15]+yv[n>>8*t&15];return e}function H6(n){return String.fromCharCode((255&n)>>0,(65280&n)>>8,(16711680&n)>>16,(4278190080&n)>>24)}function pm(n){return F_(n).map(H6).join("")}var W6=function(n){for(var e=0;e<n.length;e++)n[e]=q6(n[e]);return n.join("")}(F_("hello"))!="5d41402abc4b2a76b9719d911017c592";function Xl(n,e){if(W6){var t=(65535&n)+(65535&e);return(n>>16)+(e>>16)+(t>>16)<<16|65535&t}return n+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function gm(n,e){var t,r,i,o;if(n!==t){for(var l=(i=n,o=1+(256/n.length>>0),new Array(o+1).join(i)),u=[],h=0;h<256;h++)u[h]=h;var p=0;for(h=0;h<256;h++){var v=u[h];p=(p+v+l.charCodeAt(h))%256,u[h]=u[p],u[p]=v}t=n,r=u}else u=r;var _=e.length,I=0,b=0,j="";for(h=0;h<_;h++)b=(b+(v=u[I=(I+1)%256]))%256,u[I]=u[b],u[b]=v,l=u[(u[I]+u[b])%256],j+=String.fromCharCode(e.charCodeAt(h)^l);return j}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var _v={print:4,modify:8,copy:16,"annot-forms":32};function xc(n,e,t,r){this.v=1,this.r=2;var i=192;n.forEach(function(u){if(_v.perm!==void 0)throw new Error("Invalid permission: "+u);i+=_v[u]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var o=(e+this.padding).substr(0,32),l=(t+this.padding).substr(0,32);this.O=this.processOwnerPassword(o,l),this.P=-(1+(255^i)),this.encryptionKey=pm(o+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=gm(this.encryptionKey,this.padding)}function Pc(n){if(/[^\u0000-\u00ff]/.test(n))throw new Error("Invalid PDF Name Object: "+n+", Only accept ASCII characters.");for(var e="",t=n.length,r=0;r<t;r++){var i=n.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=n[r]}return e}function wv(n){if(kn(n)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(t,r,i){if(i=i||!1,typeof t!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(t)||(e[t]={});var o=Math.random().toString(35);return e[t][o]=[r,!!i],o},this.unsubscribe=function(t){for(var r in e)if(e[r][t])return delete e[r][t],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(t){if(e.hasOwnProperty(t)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var o in e[t]){var l=e[t][o];try{l[0].apply(n,r)}catch(u){Dt.console&&Fn.error("jsPDF PubSub Error",u.message,u)}l[1]&&i.push(o)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function Bd(n){if(!(this instanceof Bd))return new Bd(n);var e="opacity,stroke-opacity".split(",");for(var t in n)n.hasOwnProperty(t)&&e.indexOf(t)>=0&&(this[t]=n[t]);this.id="",this.objectNumber=-1}function M_(n,e){this.gState=n,this.matrix=e,this.id="",this.objectNumber=-1}function Vu(n,e,t,r,i){if(!(this instanceof Vu))return new Vu(n,e,t,r,i);this.type=n==="axial"?2:3,this.coords=e,this.colors=t,M_.call(this,r,i)}function kc(n,e,t,r,i){if(!(this instanceof kc))return new kc(n,e,t,r,i);this.boundingBox=n,this.xStep=e,this.yStep=t,this.stream="",this.cloneIndex=0,M_.call(this,r,i)}function Rt(n){var e,t=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],o=arguments[3],l=[],u=1,h=16,p="S",v=null;kn(n=n||{})==="object"&&(t=n.orientation,r=n.unit||r,i=n.format||i,o=n.compress||n.compressPdf||o,(v=n.encryption||null)!==null&&(v.userPassword=v.userPassword||"",v.ownerPassword=v.ownerPassword||"",v.userPermissions=v.userPermissions||[]),u=typeof n.userUnit=="number"?Math.abs(n.userUnit):1,n.precision!==void 0&&(e=n.precision),n.floatPrecision!==void 0&&(h=n.floatPrecision),p=n.defaultPathOperation||"S"),l=n.filters||(o===!0?["FlateEncode"]:l),r=r||"mm",t=(""+(t||"P")).toLowerCase();var _=n.putOnlyUsedFonts||!1,I={},b={internal:{},__private__:{}};b.__private__.PubSub=wv;var j="1.3",M=b.__private__.getPdfVersion=function(){return j};b.__private__.setPdfVersion=function(y){j=y};var B={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};b.__private__.getPageFormats=function(){return B};var V=b.__private__.getPageFormat=function(y){return B[y]};i=i||"a4";var Q={COMPAT:"compat",ADVANCED:"advanced"},ne=Q.COMPAT;function me(){this.saveGraphicsState(),Z(new ft(it,0,0,-it,0,zr()*it).toString()+" cm"),this.setFontSize(this.getFontSize()/it),p="n",ne=Q.ADVANCED}function xe(){this.restoreGraphicsState(),p="S",ne=Q.COMPAT}var Ee=b.__private__.combineFontStyleAndFontWeight=function(y,F){if(y=="bold"&&F=="normal"||y=="bold"&&F==400||y=="normal"&&F=="italic"||y=="bold"&&F=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return F&&(y=F==400||F==="normal"?y==="italic"?"italic":"normal":F!=700&&F!=="bold"||y!=="normal"?(F==700?"bold":F)+""+y:"bold"),y};b.advancedAPI=function(y){var F=ne===Q.COMPAT;return F&&me.call(this),typeof y!="function"||(y(this),F&&xe.call(this)),this},b.compatAPI=function(y){var F=ne===Q.ADVANCED;return F&&xe.call(this),typeof y!="function"||(y(this),F&&me.call(this)),this},b.isAdvancedAPI=function(){return ne===Q.ADVANCED};var q,A=function(y){if(ne!==Q.ADVANCED)throw new Error(y+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},N=b.roundToPrecision=b.__private__.roundToPrecision=function(y,F){var ee=e||F;if(isNaN(y)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return y.toFixed(ee).replace(/0+$/,"")};q=b.hpf=b.__private__.hpf=typeof h=="number"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return N(y,h)}:h==="smart"?function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return N(y,y>-1&&y<1?16:5)}:function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.hpf");return N(y,16)};var O=b.f2=b.__private__.f2=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f2");return N(y,2)},P=b.__private__.f3=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.f3");return N(y,3)},C=b.scale=b.__private__.scale=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.scale");return ne===Q.COMPAT?y*it:ne===Q.ADVANCED?y:void 0},R=function(y){return ne===Q.COMPAT?zr()-y:ne===Q.ADVANCED?y:void 0},ie=function(y){return C(R(y))};b.__private__.setPrecision=b.setPrecision=function(y){typeof parseInt(y,10)=="number"&&(e=parseInt(y,10))};var Ne,Ae="00000000000000000000000000000000",ye=b.__private__.getFileId=function(){return Ae},re=b.__private__.setFileId=function(y){return Ae=y!==void 0&&/^[a-fA-F0-9]{32}$/.test(y)?y.toUpperCase():Ae.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),v!==null&&(sn=new xc(v.userPermissions,v.userPassword,v.ownerPassword,Ae)),Ae};b.setFileId=function(y){return re(y),this},b.getFileId=function(){return ye()};var ae=b.__private__.convertDateToPDFDate=function(y){var F=y.getTimezoneOffset(),ee=F<0?"+":"-",le=Math.floor(Math.abs(F/60)),be=Math.abs(F%60),Fe=[ee,Y(le),"'",Y(be),"'"].join("");return["D:",y.getFullYear(),Y(y.getMonth()+1),Y(y.getDate()),Y(y.getHours()),Y(y.getMinutes()),Y(y.getSeconds()),Fe].join("")},ce=b.__private__.convertPDFDateToDate=function(y){var F=parseInt(y.substr(2,4),10),ee=parseInt(y.substr(6,2),10)-1,le=parseInt(y.substr(8,2),10),be=parseInt(y.substr(10,2),10),Fe=parseInt(y.substr(12,2),10),$e=parseInt(y.substr(14,2),10);return new Date(F,ee,le,be,Fe,$e,0)},X=b.__private__.setCreationDate=function(y){var F;if(y===void 0&&(y=new Date),y instanceof Date)F=ae(y);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(y))throw new Error("Invalid argument passed to jsPDF.setCreationDate");F=y}return Ne=F},L=b.__private__.getCreationDate=function(y){var F=Ne;return y==="jsDate"&&(F=ce(Ne)),F};b.setCreationDate=function(y){return X(y),this},b.getCreationDate=function(y){return L(y)};var W,Y=b.__private__.padd2=function(y){return("0"+parseInt(y)).slice(-2)},te=b.__private__.padd2Hex=function(y){return("00"+(y=y.toString())).substr(y.length)},oe=0,ve=[],ue=[],ge=0,Ve=[],Re=[],Ke=!1,Ge=ue,st=function(){oe=0,ge=0,ue=[],ve=[],Ve=[],ys=Rn(),jr=Rn()};b.__private__.setCustomOutputDestination=function(y){Ke=!0,Ge=y};var Ce=function(y){Ke||(Ge=y)};b.__private__.resetCustomOutputDestination=function(){Ke=!1,Ge=ue};var Z=b.__private__.out=function(y){return y=y.toString(),ge+=y.length+1,Ge.push(y),Ge},bt=b.__private__.write=function(y){return Z(arguments.length===1?y.toString():Array.prototype.join.call(arguments," "))},We=b.__private__.getArrayBuffer=function(y){for(var F=y.length,ee=new ArrayBuffer(F),le=new Uint8Array(ee);F--;)le[F]=y.charCodeAt(F);return ee},ze=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];b.__private__.getStandardFonts=function(){return ze};var Xe=n.fontSize||16;b.__private__.setFontSize=b.setFontSize=function(y){return Xe=ne===Q.ADVANCED?y/it:y,this};var nt,tt=b.__private__.getFontSize=b.getFontSize=function(){return ne===Q.COMPAT?Xe:Xe*it},pt=n.R2L||!1;b.__private__.setR2L=b.setR2L=function(y){return pt=y,this},b.__private__.getR2L=b.getR2L=function(){return pt};var gt,At=b.__private__.setZoomMode=function(y){var F=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(y))nt=y;else if(isNaN(y)){if(F.indexOf(y)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+y+'" is not recognized.');nt=y}else nt=parseInt(y,10)};b.__private__.getZoomMode=function(){return nt};var ct,mt=b.__private__.setPageMode=function(y){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(y)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+y+'" is not recognized.');gt=y};b.__private__.getPageMode=function(){return gt};var jt=b.__private__.setLayoutMode=function(y){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(y)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+y+'" is not recognized.');ct=y};b.__private__.getLayoutMode=function(){return ct},b.__private__.setDisplayMode=b.setDisplayMode=function(y,F,ee){return At(y),jt(F),mt(ee),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};b.__private__.getDocumentProperty=function(y){if(Object.keys(It).indexOf(y)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[y]},b.__private__.getDocumentProperties=function(){return It},b.__private__.setDocumentProperties=b.setProperties=b.setDocumentProperties=function(y){for(var F in It)It.hasOwnProperty(F)&&y[F]&&(It[F]=y[F]);return this},b.__private__.setDocumentProperty=function(y,F){if(Object.keys(It).indexOf(y)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[y]=F};var Ot,it,rn,Ht,_r,un={},bn={},di=[],Yt={},Ji={},xn={},Hn={},wr=null,Pn=0,xt=[],Zt=new wv(b),Fi=n.hotfixes||[],Jn={},Sr={},pi=[],ft=function y(F,ee,le,be,Fe,$e){if(!(this instanceof y))return new y(F,ee,le,be,Fe,$e);isNaN(F)&&(F=1),isNaN(ee)&&(ee=0),isNaN(le)&&(le=0),isNaN(be)&&(be=1),isNaN(Fe)&&(Fe=0),isNaN($e)&&($e=0),this._matrix=[F,ee,le,be,Fe,$e]};Object.defineProperty(ft.prototype,"sx",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ft.prototype,"shy",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ft.prototype,"shx",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ft.prototype,"sy",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ft.prototype,"tx",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ft.prototype,"ty",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ft.prototype,"a",{get:function(){return this._matrix[0]},set:function(y){this._matrix[0]=y}}),Object.defineProperty(ft.prototype,"b",{get:function(){return this._matrix[1]},set:function(y){this._matrix[1]=y}}),Object.defineProperty(ft.prototype,"c",{get:function(){return this._matrix[2]},set:function(y){this._matrix[2]=y}}),Object.defineProperty(ft.prototype,"d",{get:function(){return this._matrix[3]},set:function(y){this._matrix[3]=y}}),Object.defineProperty(ft.prototype,"e",{get:function(){return this._matrix[4]},set:function(y){this._matrix[4]=y}}),Object.defineProperty(ft.prototype,"f",{get:function(){return this._matrix[5]},set:function(y){this._matrix[5]=y}}),Object.defineProperty(ft.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(ft.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(ft.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(ft.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),ft.prototype.join=function(y){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(q).join(y)},ft.prototype.multiply=function(y){var F=y.sx*this.sx+y.shy*this.shx,ee=y.sx*this.shy+y.shy*this.sy,le=y.shx*this.sx+y.sy*this.shx,be=y.shx*this.shy+y.sy*this.sy,Fe=y.tx*this.sx+y.ty*this.shx+this.tx,$e=y.tx*this.shy+y.ty*this.sy+this.ty;return new ft(F,ee,le,be,Fe,$e)},ft.prototype.decompose=function(){var y=this.sx,F=this.shy,ee=this.shx,le=this.sy,be=this.tx,Fe=this.ty,$e=Math.sqrt(y*y+F*F),at=(y/=$e)*ee+(F/=$e)*le;ee-=y*at,le-=F*at;var d=Math.sqrt(ee*ee+le*le);return at/=d,y*(le/=d)<F*(ee/=d)&&(y=-y,F=-F,at=-at,$e=-$e),{scale:new ft($e,0,0,d,0,0),translate:new ft(1,0,0,1,be,Fe),rotate:new ft(y,F,-F,y,0,0),skew:new ft(1,0,at,1,0,0)}},ft.prototype.toString=function(y){return this.join(" ")},ft.prototype.inversed=function(){var y=this.sx,F=this.shy,ee=this.shx,le=this.sy,be=this.tx,Fe=this.ty,$e=1/(y*le-F*ee),at=le*$e,d=-F*$e,E=-ee*$e,k=y*$e;return new ft(at,d,E,k,-at*be-E*Fe,-d*be-k*Fe)},ft.prototype.applyToPoint=function(y){var F=y.x*this.sx+y.y*this.shx+this.tx,ee=y.x*this.shy+y.y*this.sy+this.ty;return new zi(F,ee)},ft.prototype.applyToRectangle=function(y){var F=this.applyToPoint(y),ee=this.applyToPoint(new zi(y.x+y.w,y.y+y.h));return new xs(F.x,F.y,ee.x-F.x,ee.y-F.y)},ft.prototype.clone=function(){var y=this.sx,F=this.shy,ee=this.shx,le=this.sy,be=this.tx,Fe=this.ty;return new ft(y,F,ee,le,be,Fe)},b.Matrix=ft;var Mr=b.matrixMult=function(y,F){return F.multiply(y)},nr=new ft(1,0,0,1,0,0);b.unitMatrix=b.identityMatrix=nr;var rr=function(y,F){if(!Ji[y]){var ee=(F instanceof Vu?"Sh":"P")+(Object.keys(Yt).length+1).toString(10);F.id=ee,Ji[y]=ee,Yt[ee]=F,Zt.publish("addPattern",F)}};b.ShadingPattern=Vu,b.TilingPattern=kc,b.addShadingPattern=function(y,F){return A("addShadingPattern()"),rr(y,F),this},b.beginTilingPattern=function(y){A("beginTilingPattern()"),Xo(y.boundingBox[0],y.boundingBox[1],y.boundingBox[2]-y.boundingBox[0],y.boundingBox[3]-y.boundingBox[1],y.matrix)},b.endTilingPattern=function(y,F){A("endTilingPattern()"),F.stream=Re[W].join(`
`),rr(y,F),Zt.publish("endTilingPattern",F),pi.pop().restore()};var Ln=b.__private__.newObject=function(){var y=Rn();return jn(y,!0),y},Rn=b.__private__.newObjectDeferred=function(){return oe++,ve[oe]=function(){return ge},oe},jn=function(y,F){return F=typeof F=="boolean"&&F,ve[y]=ge,F&&Z(y+" 0 obj"),y},js=b.__private__.newAdditionalObject=function(){var y={objId:Rn(),content:""};return Ve.push(y),y},ys=Rn(),jr=Rn(),gi=b.__private__.decodeColorString=function(y){var F=y.split(" ");if(F.length!==2||F[1]!=="g"&&F[1]!=="G")F.length===5&&(F[4]==="k"||F[4]==="K")&&(F=[(1-F[0])*(1-F[3]),(1-F[1])*(1-F[3]),(1-F[2])*(1-F[3]),"r"]);else{var ee=parseFloat(F[0]);F=[ee,ee,ee,"r"]}for(var le="#",be=0;be<3;be++)le+=("0"+Math.floor(255*parseFloat(F[be])).toString(16)).slice(-2);return le},Xn=b.__private__.encodeColorString=function(y){var F;typeof y=="string"&&(y={ch1:y});var ee=y.ch1,le=y.ch2,be=y.ch3,Fe=y.ch4,$e=y.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var at=new D_(ee);if(at.ok)ee=at.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var d=parseInt(ee.substr(1),16);ee=d>>16&255,le=d>>8&255,be=255&d}if(le===void 0||Fe===void 0&&ee===le&&le===be)if(typeof ee=="string")F=ee+" "+$e[0];else switch(y.precision){case 2:F=O(ee/255)+" "+$e[0];break;case 3:default:F=P(ee/255)+" "+$e[0]}else if(Fe===void 0||kn(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return F=["1.","1.","1.",$e[1]].join(" ");if(typeof ee=="string")F=[ee,le,be,$e[1]].join(" ");else switch(y.precision){case 2:F=[O(ee/255),O(le/255),O(be/255),$e[1]].join(" ");break;default:case 3:F=[P(ee/255),P(le/255),P(be/255),$e[1]].join(" ")}}else if(typeof ee=="string")F=[ee,le,be,Fe,$e[2]].join(" ");else switch(y.precision){case 2:F=[O(ee),O(le),O(be),O(Fe),$e[2]].join(" ");break;case 3:default:F=[P(ee),P(le),P(be),P(Fe),$e[2]].join(" ")}return F},Vr=b.__private__.getFilters=function(){return l},Wn=b.__private__.putStream=function(y){var F=(y=y||{}).data||"",ee=y.filters||Vr(),le=y.alreadyAppliedFilters||[],be=y.addLength1||!1,Fe=F.length,$e=y.objectId,at=function(Ut){return Ut};if(v!==null&&$e===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");v!==null&&(at=sn.encryptor($e,0));var d={};ee===!0&&(ee=["FlateEncode"]);var E=y.additionalKeyValues||[],k=(d=Rt.API.processDataByFilters!==void 0?Rt.API.processDataByFilters(F,ee):{data:F,reverseChain:[]}).reverseChain+(Array.isArray(le)?le.join(" "):le.toString());if(d.data.length!==0&&(E.push({key:"Length",value:d.data.length}),be===!0&&E.push({key:"Length1",value:Fe})),k.length!=0)if(k.split("/").length-1==1)E.push({key:"Filter",value:k});else{E.push({key:"Filter",value:"["+k+"]"});for(var G=0;G<E.length;G+=1)if(E[G].key==="DecodeParms"){for(var we=[],ke=0;ke<d.reverseChain.split("/").length-1;ke+=1)we.push("null");we.push(E[G].value),E[G].value="["+we.join(" ")+"]"}}Z("<<");for(var Qe=0;Qe<E.length;Qe++)Z("/"+E[Qe].key+" "+E[Qe].value);Z(">>"),d.data.length!==0&&(Z("stream"),Z(at(d.data)),Z("endstream"))},Mi=b.__private__.putPage=function(y){var F=y.number,ee=y.data,le=y.objId,be=y.contentsObjId;jn(le,!0),Z("<</Type /Page"),Z("/Parent "+y.rootDictionaryObjId+" 0 R"),Z("/Resources "+y.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(q(y.mediaBox.bottomLeftX))+" "+parseFloat(q(y.mediaBox.bottomLeftY))+" "+q(y.mediaBox.topRightX)+" "+q(y.mediaBox.topRightY)+"]"),y.cropBox!==null&&Z("/CropBox ["+q(y.cropBox.bottomLeftX)+" "+q(y.cropBox.bottomLeftY)+" "+q(y.cropBox.topRightX)+" "+q(y.cropBox.topRightY)+"]"),y.bleedBox!==null&&Z("/BleedBox ["+q(y.bleedBox.bottomLeftX)+" "+q(y.bleedBox.bottomLeftY)+" "+q(y.bleedBox.topRightX)+" "+q(y.bleedBox.topRightY)+"]"),y.trimBox!==null&&Z("/TrimBox ["+q(y.trimBox.bottomLeftX)+" "+q(y.trimBox.bottomLeftY)+" "+q(y.trimBox.topRightX)+" "+q(y.trimBox.topRightY)+"]"),y.artBox!==null&&Z("/ArtBox ["+q(y.artBox.bottomLeftX)+" "+q(y.artBox.bottomLeftY)+" "+q(y.artBox.topRightX)+" "+q(y.artBox.topRightY)+"]"),typeof y.userUnit=="number"&&y.userUnit!==1&&Z("/UserUnit "+y.userUnit),Zt.publish("putPage",{objId:le,pageContext:xt[F],pageNumber:F,page:ee}),Z("/Contents "+be+" 0 R"),Z(">>"),Z("endobj");var Fe=ee.join(`
`);return ne===Q.ADVANCED&&(Fe+=`
Q`),jn(be,!0),Wn({data:Fe,filters:Vr(),objectId:be}),Z("endobj"),le},_s=b.__private__.putPages=function(){var y,F,ee=[];for(y=1;y<=Pn;y++)xt[y].objId=Rn(),xt[y].contentsObjId=Rn();for(y=1;y<=Pn;y++)ee.push(Mi({number:y,data:Re[y],objId:xt[y].objId,contentsObjId:xt[y].contentsObjId,mediaBox:xt[y].mediaBox,cropBox:xt[y].cropBox,bleedBox:xt[y].bleedBox,trimBox:xt[y].trimBox,artBox:xt[y].artBox,userUnit:xt[y].userUnit,rootDictionaryObjId:ys,resourceDictionaryObjId:jr}));jn(ys,!0),Z("<</Type /Pages");var le="/Kids [";for(F=0;F<Pn;F++)le+=ee[F]+" 0 R ";Z(le+"]"),Z("/Count "+Pn),Z(">>"),Z("endobj"),Zt.publish("postPutPages")},ws=function(y){Zt.publish("putFont",{font:y,out:Z,newObject:Ln,putStream:Wn}),y.isAlreadyPutted!==!0&&(y.objectNumber=Ln(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Pc(y.postScriptName)),Z("/Subtype /Type1"),typeof y.encoding=="string"&&Z("/Encoding /"+y.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},Ss=function(){for(var y in un)un.hasOwnProperty(y)&&(_===!1||_===!0&&I.hasOwnProperty(y))&&ws(un[y])},Vs=function(y){y.objectNumber=Ln();var F=[];F.push({key:"Type",value:"/XObject"}),F.push({key:"Subtype",value:"/Form"}),F.push({key:"BBox",value:"["+[q(y.x),q(y.y),q(y.x+y.width),q(y.y+y.height)].join(" ")+"]"}),F.push({key:"Matrix",value:"["+y.matrix.toString()+"]"});var ee=y.pages[1].join(`
`);Wn({data:ee,additionalKeyValues:F,objectId:y.objectNumber}),Z("endobj")},co=function(){for(var y in Jn)Jn.hasOwnProperty(y)&&Vs(Jn[y])},al=function(y,F){var ee,le=[],be=1/(F-1);for(ee=0;ee<1;ee+=be)le.push(ee);if(le.push(1),y[0].offset!=0){var Fe={offset:0,color:y[0].color};y.unshift(Fe)}if(y[y.length-1].offset!=1){var $e={offset:1,color:y[y.length-1].color};y.push($e)}for(var at="",d=0,E=0;E<le.length;E++){for(ee=le[E];ee>y[d+1].offset;)d++;var k=y[d].offset,G=(ee-k)/(y[d+1].offset-k),we=y[d].color,ke=y[d+1].color;at+=te(Math.round((1-G)*we[0]+G*ke[0]).toString(16))+te(Math.round((1-G)*we[1]+G*ke[1]).toString(16))+te(Math.round((1-G)*we[2]+G*ke[2]).toString(16))}return at.trim()},En=function(y,F){F||(F=21);var ee=Ln(),le=al(y.colors,F),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+F+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Wn({data:le,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),Z("endobj"),y.objectNumber=Ln(),Z("<< /ShadingType "+y.type),Z("/ColorSpace /DeviceRGB");var Fe="/Coords ["+q(parseFloat(y.coords[0]))+" "+q(parseFloat(y.coords[1]))+" ";y.type===2?Fe+=q(parseFloat(y.coords[2]))+" "+q(parseFloat(y.coords[3])):Fe+=q(parseFloat(y.coords[2]))+" "+q(parseFloat(y.coords[3]))+" "+q(parseFloat(y.coords[4]))+" "+q(parseFloat(y.coords[5])),Z(Fe+="]"),y.matrix&&Z("/Matrix ["+y.matrix.toString()+"]"),Z("/Function "+ee+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},ll=function(y,F){var ee=Rn(),le=Ln();F.push({resourcesOid:ee,objectOid:le}),y.objectNumber=le;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+y.boundingBox.map(q).join(" ")+"]"}),be.push({key:"XStep",value:q(y.xStep)}),be.push({key:"YStep",value:q(y.yStep)}),be.push({key:"Resources",value:ee+" 0 R"}),y.matrix&&be.push({key:"Matrix",value:"["+y.matrix.toString()+"]"}),Wn({data:y.stream,additionalKeyValues:be,objectId:y.objectNumber}),Z("endobj")},Xi=function(y){var F;for(F in Yt)Yt.hasOwnProperty(F)&&(Yt[F]instanceof Vu?En(Yt[F]):Yt[F]instanceof kc&&ll(Yt[F],y))},bs=function(y){for(var F in y.objectNumber=Ln(),Z("<<"),y)switch(F){case"opacity":Z("/ca "+O(y[F]));break;case"stroke-opacity":Z("/CA "+O(y[F]))}Z(">>"),Z("endobj")},mi=function(){var y;for(y in xn)xn.hasOwnProperty(y)&&bs(xn[y])},ho=function(){for(var y in Z("/XObject <<"),Jn)Jn.hasOwnProperty(y)&&Jn[y].objectNumber>=0&&Z("/"+y+" "+Jn[y].objectNumber+" 0 R");Zt.publish("putXobjectDict"),Z(">>")},ul=function(){sn.oid=Ln(),Z("<<"),Z("/Filter /Standard"),Z("/V "+sn.v),Z("/R "+sn.r),Z("/U <"+sn.toHexString(sn.U)+">"),Z("/O <"+sn.toHexString(sn.O)+">"),Z("/P "+sn.P),Z(">>"),Z("endobj")},Bs=function(){for(var y in Z("/Font <<"),un)un.hasOwnProperty(y)&&(_===!1||_===!0&&I.hasOwnProperty(y))&&Z("/"+y+" "+un[y].objectNumber+" 0 R");Z(">>")},Xr=function(){if(Object.keys(Yt).length>0){for(var y in Z("/Shading <<"),Yt)Yt.hasOwnProperty(y)&&Yt[y]instanceof Vu&&Yt[y].objectNumber>=0&&Z("/"+y+" "+Yt[y].objectNumber+" 0 R");Zt.publish("putShadingPatternDict"),Z(">>")}},fo=function(y){if(Object.keys(Yt).length>0){for(var F in Z("/Pattern <<"),Yt)Yt.hasOwnProperty(F)&&Yt[F]instanceof b.TilingPattern&&Yt[F].objectNumber>=0&&Yt[F].objectNumber<y&&Z("/"+F+" "+Yt[F].objectNumber+" 0 R");Zt.publish("putTilingPatternDict"),Z(">>")}},Ar=function(){if(Object.keys(xn).length>0){var y;for(y in Z("/ExtGState <<"),xn)xn.hasOwnProperty(y)&&xn[y].objectNumber>=0&&Z("/"+y+" "+xn[y].objectNumber+" 0 R");Zt.publish("putGStateDict"),Z(">>")}},On=function(y){jn(y.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),Bs(),Xr(),fo(y.objectOid),Ar(),ho(),Z(">>"),Z("endobj")},Ea=function(){var y=[];Ss(),mi(),co(),Xi(y),Zt.publish("putResources"),y.forEach(On),On({resourcesOid:jr,objectOid:Number.MAX_SAFE_INTEGER}),Zt.publish("postPutResources")},Aa=function(){Zt.publish("putAdditionalObjects");for(var y=0;y<Ve.length;y++){var F=Ve[y];jn(F.objId,!0),Z(F.content),Z("endobj")}Zt.publish("postPutAdditionalObjects")},po=function(y){bn[y.fontName]=bn[y.fontName]||{},bn[y.fontName][y.fontStyle]=y.id},Us=function(y,F,ee,le,be){var Fe={id:"F"+(Object.keys(un).length+1).toString(10),postScriptName:y,fontName:F,fontStyle:ee,encoding:le,isStandardFont:be||!1,metadata:{}};return Zt.publish("addFont",{font:Fe,instance:this}),un[Fe.id]=Fe,po(Fe),Fe.id},zs=function(y){for(var F=0,ee=ze.length;F<ee;F++){var le=Us.call(this,y[F][0],y[F][1],y[F][2],ze[F][3],!0);_===!1&&(I[le]=!0);var be=y[F][0].split("-");po({id:le,fontName:be[0],fontStyle:be[1]||""})}Zt.publish("addFonts",{fonts:un,dictionary:bn})},Ir=function(y){return y.foo=function(){try{return y.apply(this,arguments)}catch(le){var F=le.stack||"";~F.indexOf(" at ")&&(F=F.split(" at ")[1]);var ee="Error in function "+F.split(`
`)[0].split("<")[0]+": "+le.message;if(!Dt.console)throw new Error(ee);Dt.console.error(ee,le),Dt.alert&&alert(ee)}},y.foo.bar=y,y.foo},Go=function(y,F){var ee,le,be,Fe,$e,at,d,E,k;if(be=(F=F||{}).sourceEncoding||"Unicode",$e=F.outputEncoding,(F.autoencode||$e)&&un[Ot].metadata&&un[Ot].metadata[be]&&un[Ot].metadata[be].encoding&&(Fe=un[Ot].metadata[be].encoding,!$e&&un[Ot].encoding&&($e=un[Ot].encoding),!$e&&Fe.codePages&&($e=Fe.codePages[0]),typeof $e=="string"&&($e=Fe[$e]),$e)){for(d=!1,at=[],ee=0,le=y.length;ee<le;ee++)(E=$e[y.charCodeAt(ee)])?at.push(String.fromCharCode(E)):at.push(y[ee]),at[ee].charCodeAt(0)>>8&&(d=!0);y=at.join("")}for(ee=y.length;d===void 0&&ee!==0;)y.charCodeAt(ee-1)>>8&&(d=!0),ee--;if(!d)return y;for(at=F.noBOM?[]:[254,255],ee=0,le=y.length;ee<le;ee++){if((k=(E=y.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+y+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");at.push(k),at.push(E-(k<<8))}return String.fromCharCode.apply(void 0,at)},$n=b.__private__.pdfEscape=b.pdfEscape=function(y,F){return Go(y,F).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Tr=b.__private__.beginPage=function(y){Re[++Pn]=[],xt[Pn]={objId:0,contentsObjId:0,userUnit:Number(u),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(y[0]),topRightY:Number(y[1])}},Es(Pn),Ce(Re[W])},qs=function(y,F){var ee,le,be;switch(t=F||t,typeof y=="string"&&(ee=V(y.toLowerCase()),Array.isArray(ee)&&(le=ee[0],be=ee[1])),Array.isArray(y)&&(le=y[0]*it,be=y[1]*it),isNaN(le)&&(le=i[0],be=i[1]),(le>14400||be>14400)&&(Fn.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),le=Math.min(14400,le),be=Math.min(14400,be)),i=[le,be],t.substr(0,1)){case"l":be>le&&(i=[be,le]);break;case"p":le>be&&(i=[be,le])}Tr(i),Ks(Ta),Z(ir),Pa!==0&&Z(Pa+" J"),Qs!==0&&Z(Qs+" j"),Zt.publish("addPage",{pageNumber:Pn})},Hs=function(y){y>0&&y<=Pn&&(Re.splice(y,1),xt.splice(y,1),Pn--,W>Pn&&(W=Pn),this.setPage(W))},Es=function(y){y>0&&y<=Pn&&(W=y)},vn=b.__private__.getNumberOfPages=b.getNumberOfPages=function(){return Re.length-1},As=function(y,F,ee){var le,be=void 0;return ee=ee||{},y=y!==void 0?y:un[Ot].fontName,F=F!==void 0?F:un[Ot].fontStyle,le=y.toLowerCase(),bn[le]!==void 0&&bn[le][F]!==void 0?be=bn[le][F]:bn[y]!==void 0&&bn[y][F]!==void 0?be=bn[y][F]:ee.disableWarning===!1&&Fn.warn("Unable to look up font label for font '"+y+"', '"+F+"'. Refer to getFontList() for available fonts."),be||ee.noFallback||(be=bn.times[F])==null&&(be=bn.times.normal),be},Kt=b.__private__.putInfo=function(){var y=Ln(),F=function(le){return le};for(var ee in v!==null&&(F=sn.encryptor(y,0)),Z("<<"),Z("/Producer ("+$n(F("jsPDF "+Rt.version))+")"),It)It.hasOwnProperty(ee)&&It[ee]&&Z("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+$n(F(It[ee]))+")");Z("/CreationDate ("+$n(F(Ne))+")"),Z(">>"),Z("endobj")},Zi=b.__private__.putCatalog=function(y){var F=(y=y||{}).rootDictionaryObjId||ys;switch(Ln(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+F+" 0 R"),nt||(nt="fullwidth"),nt){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+nt;ee.substr(ee.length-1)==="%"&&(nt=parseInt(nt)/100),typeof nt=="number"&&Z("/OpenAction [3 0 R /XYZ null null "+O(nt)+"]")}switch(ct||(ct="continuous"),ct){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}gt&&Z("/PageMode /"+gt),Zt.publish("putCatalog"),Z(">>"),Z("endobj")},cl=b.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(oe+1)),Z("/Root "+oe+" 0 R"),Z("/Info "+(oe-1)+" 0 R"),v!==null&&Z("/Encrypt "+sn.oid+" 0 R"),Z("/ID [ <"+Ae+"> <"+Ae+"> ]"),Z(">>")},Ko=b.__private__.putHeader=function(){Z("%PDF-"+j),Z("%")},hl=b.__private__.putXRef=function(){var y="0000000000";Z("xref"),Z("0 "+(oe+1)),Z("0000000000 65535 f ");for(var F=1;F<=oe;F++)typeof ve[F]=="function"?Z((y+ve[F]()).slice(-10)+" 00000 n "):ve[F]!==void 0?Z((y+ve[F]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},es=b.__private__.buildDocument=function(){st(),Ce(ue),Zt.publish("buildDocument"),Ko(),_s(),Aa(),Ea(),v!==null&&ul(),Kt(),Zi();var y=ge;return hl(),cl(),Z("startxref"),Z(""+y),Z("%%EOF"),Ce(Re[W]),ue.join(`
`)},go=b.__private__.getBlob=function(y){return new Blob([We(y)],{type:"application/pdf"})},Ws=b.output=b.__private__.output=Ir(function(y,F){switch(typeof(F=F||{})=="string"?F={filename:F}:F.filename=F.filename||"generated.pdf",y){case void 0:return es();case"save":b.save(F.filename);break;case"arraybuffer":return We(es());case"blob":return go(es());case"bloburi":case"bloburl":if(Dt.URL!==void 0&&typeof Dt.URL.createObjectURL=="function")return Dt.URL&&Dt.URL.createObjectURL(go(es()))||void 0;Fn.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",le=es();try{ee=dm(le)}catch{ee=dm(unescape(encodeURIComponent(le)))}return"data:application/pdf;filename="+F.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';F.pdfObjectUrl&&(be=F.pdfObjectUrl,Fe="");var $e='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Fe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(F)+");<\/script></body></html>",at=Dt.open();return at!==null&&at.document.write($e),at}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Dt)==="[object Window]"){var d='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(F.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+F.filename+'" width="500px" height="400px" /></body></html>',E=Dt.open();if(E!==null){E.document.write(d);var k=this;E.document.documentElement.querySelector("#pdfViewer").onload=function(){E.document.title=F.filename,E.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(k.output("bloburl"))}}return E}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var G='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",F)+'"></iframe></body></html>',we=Dt.open();if(we!==null&&(we.document.write(G),we.document.title=F.filename),we||typeof safari>"u")return we;break;case"datauri":case"dataurl":return Dt.document.location.href=this.output("datauristring",F);default:return null}}),ji=function(y){return Array.isArray(Fi)===!0&&Fi.indexOf(y)>-1};switch(r){case"pt":it=1;break;case"mm":it=72/25.4;break;case"cm":it=72/2.54;break;case"in":it=72;break;case"px":it=ji("px_scaling")==1?.75:96/72;break;case"pc":case"em":it=12;break;case"ex":it=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);it=r}var sn=null;X(),re();var Vi=function(y){return v!==null?sn.encryptor(y,0):function(F){return F}},vi=b.__private__.getPageInfo=b.getPageInfo=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:xt[y].objId,pageNumber:y,pageContext:xt[y]}},Pt=b.__private__.getPageInfoByObjId=function(y){if(isNaN(y)||y%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var F in xt)if(xt[F].objId===y)break;return vi(F)},yi=b.__private__.getCurrentPageInfo=b.getCurrentPageInfo=function(){return{objId:xt[W].objId,pageNumber:W,pageContext:xt[W]}};b.addPage=function(){return qs.apply(this,arguments),this},b.setPage=function(){return Es.apply(this,arguments),Ce.call(this,Re[W]),this},b.insertPage=function(y){return this.addPage(),this.movePage(W,y),this},b.movePage=function(y,F){var ee,le;if(y>F){ee=Re[y],le=xt[y];for(var be=y;be>F;be--)Re[be]=Re[be-1],xt[be]=xt[be-1];Re[F]=ee,xt[F]=le,this.setPage(F)}else if(y<F){ee=Re[y],le=xt[y];for(var Fe=y;Fe<F;Fe++)Re[Fe]=Re[Fe+1],xt[Fe]=xt[Fe+1];Re[F]=ee,xt[F]=le,this.setPage(F)}return this},b.deletePage=function(){return Hs.apply(this,arguments),this},b.__private__.text=b.text=function(y,F,ee,le,be){var Fe,$e,at,d,E,k,G,we,ke,Qe=(le=le||{}).scope||this;if(typeof y=="number"&&typeof F=="number"&&(typeof ee=="string"||Array.isArray(ee))){var Ut=ee;ee=F,F=y,y=Ut}if(arguments[3]instanceof ft?(A("The transform parameter of text() with a Matrix value"),ke=be):(at=arguments[4],d=arguments[5],kn(G=arguments[3])==="object"&&G!==null||(typeof at=="string"&&(d=at,at=null),typeof G=="string"&&(d=G,G=null),typeof G=="number"&&(at=G,G=null),le={flags:G,angle:at,align:d})),isNaN(F)||isNaN(ee)||y==null)throw new Error("Invalid arguments passed to jsPDF.text");if(y.length===0)return Qe;var Jt="",zt=!1,dn=typeof le.lineHeightFactor=="number"?le.lineHeightFactor:fn,yn=Qe.internal.scaleFactor;function ti(Nn){return Nn=Nn.split("	").join(Array(le.TabLen||9).join(" ")),$n(Nn,G)}function Nr(Nn){for(var _n,Qn=Nn.concat(),sr=[],Zs=Qn.length;Zs--;)typeof(_n=Qn.shift())=="string"?sr.push(_n):Array.isArray(Nn)&&(_n.length===1||_n[1]===void 0&&_n[2]===void 0)?sr.push(_n[0]):sr.push([_n[0],_n[1],_n[2]]);return sr}function Ns(Nn,_n){var Qn;if(typeof Nn=="string")Qn=_n(Nn)[0];else if(Array.isArray(Nn)){for(var sr,Zs,El=Nn.concat(),Da=[],wu=El.length;wu--;)typeof(sr=El.shift())=="string"?Da.push(_n(sr)[0]):Array.isArray(sr)&&typeof sr[0]=="string"&&(Zs=_n(sr[0],sr[1],sr[2]),Da.push([Zs[0],Zs[1],Zs[2]]));Qn=Da}return Qn}var Cs=!1,pl=!0;if(typeof y=="string")Cs=!0;else if(Array.isArray(y)){var gl=y.concat();$e=[];for(var Na,Kn=gl.length;Kn--;)(typeof(Na=gl.shift())!="string"||Array.isArray(Na)&&typeof Na[0]!="string")&&(pl=!1);Cs=pl}if(Cs===!1)throw new Error('Type of text must be string or Array. "'+y+'" is not recognized.');typeof y=="string"&&(y=y.match(/[\r?\n]/)?y.split(/\r\n|\r|\n/g):[y]);var ml=Xe/Qe.internal.scaleFactor,vl=ml*(dn-1);switch(le.baseline){case"bottom":ee-=vl;break;case"top":ee+=ml-vl;break;case"hanging":ee+=ml-2*vl;break;case"middle":ee+=ml/2-vl}if((k=le.maxWidth||0)>0&&(typeof y=="string"?y=Qe.splitTextToSize(y,k):Object.prototype.toString.call(y)==="[object Array]"&&(y=y.reduce(function(Nn,_n){return Nn.concat(Qe.splitTextToSize(_n,k))},[]))),Fe={text:y,x:F,y:ee,options:le,mutex:{pdfEscape:$n,activeFontKey:Ot,fonts:un,activeFontSize:Xe}},Zt.publish("preProcessText",Fe),y=Fe.text,at=(le=Fe.options).angle,!(ke instanceof ft)&&at&&typeof at=="number"){at*=Math.PI/180,le.rotationDirection===0&&(at=-at),ne===Q.ADVANCED&&(at=-at);var yl=Math.cos(at),_l=Math.sin(at);ke=new ft(yl,_l,-_l,yl,0,0)}else at&&at instanceof ft&&(ke=at);ne!==Q.ADVANCED||ke||(ke=nr),(E=le.charSpace||Ts)!==void 0&&(Jt+=q(C(E))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(we=le.horizontalScale)!==void 0&&(Jt+=q(100*we)+` Tz
`),le.lang;var ni=-1,Ca=le.renderingMode!==void 0?le.renderingMode:le.stroke,_o=Qe.internal.getCurrentPageInfo().pageContext;switch(Ca){case 0:case!1:case"fill":ni=0;break;case 1:case!0:case"stroke":ni=1;break;case 2:case"fillThenStroke":ni=2;break;case 3:case"invisible":ni=3;break;case 4:case"fillAndAddForClipping":ni=4;break;case 5:case"strokeAndAddPathForClipping":ni=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":ni=6;break;case 7:case"addToPathForClipping":ni=7}var ec=_o.usedRenderingMode!==void 0?_o.usedRenderingMode:-1;ni!==-1?Jt+=ni+` Tr
`:ec!==-1&&(Jt+=`0 Tr
`),ni!==-1&&(_o.usedRenderingMode=ni),d=le.align||"left";var ri,wl=Xe*dn,yu=Qe.internal.pageSize.getWidth(),Sl=un[Ot];E=le.charSpace||Ts,k=le.maxWidth||0,G=Object.assign({autoencode:!0,noBOM:!0},le.flags);var Js=[],ta=function(Nn){return Qe.getStringUnitWidth(Nn,{font:Sl,charSpace:E,fontSize:Xe,doKerning:!1})*Xe/yn};if(Object.prototype.toString.call(y)==="[object Array]"){var ii;$e=Nr(y),d!=="left"&&(ri=$e.map(ta));var qr,na=0;if(d==="right"){F-=ri[0],y=[],Kn=$e.length;for(var wo=0;wo<Kn;wo++)wo===0?(qr=ei(F),ii=Gn(ee)):(qr=C(na-ri[wo]),ii=-wl),y.push([$e[wo],qr,ii]),na=ri[wo]}else if(d==="center"){F-=ri[0]/2,y=[],Kn=$e.length;for(var So=0;So<Kn;So++)So===0?(qr=ei(F),ii=Gn(ee)):(qr=C((na-ri[So])/2),ii=-wl),y.push([$e[So],qr,ii]),na=ri[So]}else if(d==="left"){y=[],Kn=$e.length;for(var bl=0;bl<Kn;bl++)y.push($e[bl])}else if(d==="justify"&&Sl.encoding==="Identity-H"){y=[],Kn=$e.length,k=k!==0?k:yu;for(var bo=0,cn=0;cn<Kn;cn++)if(ii=cn===0?Gn(ee):-wl,qr=cn===0?ei(F):bo,cn<Kn-1){var Eo=C((k-ri[cn])/($e[cn].split(" ").length-1)),Hr=$e[cn].split(" ");y.push([Hr[0]+" ",qr,ii]),bo=0;for(var qi=1;qi<Hr.length;qi++){var ka=(ta(Hr[qi-1]+" "+Hr[qi])-ta(Hr[qi]))*yn+Eo;qi==Hr.length-1?y.push([Hr[qi],ka,0]):y.push([Hr[qi]+" ",ka,0]),bo-=ka}}else y.push([$e[cn],qr,ii]);y.push(["",bo,0])}else{if(d!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(y=[],Kn=$e.length,k=k!==0?k:yu,cn=0;cn<Kn;cn++)ii=cn===0?Gn(ee):-wl,qr=cn===0?ei(F):0,cn<Kn-1?Js.push(q(C((k-ri[cn])/($e[cn].split(" ").length-1)))):Js.push(0),y.push([$e[cn],qr,ii])}}var _u=typeof le.R2L=="boolean"?le.R2L:pt;_u===!0&&(y=Ns(y,function(Nn,_n,Qn){return[Nn.split("").reverse().join(""),_n,Qn]})),Fe={text:y,x:F,y:ee,options:le,mutex:{pdfEscape:$n,activeFontKey:Ot,fonts:un,activeFontSize:Xe}},Zt.publish("postProcessText",Fe),y=Fe.text,zt=Fe.mutex.isHex||!1;var La=un[Ot].encoding;La!=="WinAnsiEncoding"&&La!=="StandardEncoding"||(y=Ns(y,function(Nn,_n,Qn){return[ti(Nn),_n,Qn]})),$e=Nr(y),y=[];for(var Ra,Oa,Hi,Ao=0,Xs=1,Io=Array.isArray($e[0])?Xs:Ao,To="",ra=function(Nn,_n,Qn){var sr="";return Qn instanceof ft?(Qn=typeof le.angle=="number"?Mr(Qn,new ft(1,0,0,1,Nn,_n)):Mr(new ft(1,0,0,1,Nn,_n),Qn),ne===Q.ADVANCED&&(Qn=Mr(new ft(1,0,0,-1,0,0),Qn)),sr=Qn.join(" ")+` Tm
`):sr=q(Nn)+" "+q(_n)+` Td
`,sr},Cr=0;Cr<$e.length;Cr++){switch(To="",Io){case Xs:Hi=(zt?"<":"(")+$e[Cr][0]+(zt?">":")"),Ra=parseFloat($e[Cr][1]),Oa=parseFloat($e[Cr][2]);break;case Ao:Hi=(zt?"<":"(")+$e[Cr]+(zt?">":")"),Ra=ei(F),Oa=Gn(ee)}Js!==void 0&&Js[Cr]!==void 0&&(To=Js[Cr]+` Tw
`),Cr===0?y.push(To+ra(Ra,Oa,ke)+Hi):Io===Ao?y.push(To+Hi):Io===Xs&&y.push(To+ra(Ra,Oa,ke)+Hi)}y=Io===Ao?y.join(` Tj
T* `):y.join(` Tj
`),y+=` Tj
`;var _i=`BT
/`;return _i+=Ot+" "+Xe+` Tf
`,_i+=q(Xe*dn)+` TL
`,_i+=Vn+`
`,_i+=Jt,_i+=y,Z(_i+="ET"),I[Ot]=!0,Qe};var ts=b.__private__.clip=b.clip=function(y){return Z(y==="evenodd"?"W*":"W"),this};b.clipEvenOdd=function(){return ts("evenodd")},b.__private__.discardPath=b.discardPath=function(){return Z("n"),this};var ns=b.__private__.isValidStyle=function(y){var F=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(y)!==-1&&(F=!0),F};b.__private__.setDefaultPathOperation=b.setDefaultPathOperation=function(y){return ns(y)&&(p=y),this};var Ia=b.__private__.getStyle=b.getStyle=function(y){var F=p;switch(y){case"D":case"S":F="S";break;case"F":F="f";break;case"FD":case"DF":F="B";break;case"f":case"f*":case"B":case"B*":F=y}return F},xr=b.close=function(){return Z("h"),this};b.stroke=function(){return Z("S"),this},b.fill=function(y){return Qo("f",y),this},b.fillEvenOdd=function(y){return Qo("f*",y),this},b.fillStroke=function(y){return Qo("B",y),this},b.fillStrokeEvenOdd=function(y){return Qo("B*",y),this};var Qo=function(y,F){kn(F)==="object"?mo(F,y):Z(y)},Yo=function(y){y===null||ne===Q.ADVANCED&&y===void 0||(y=Ia(y),Z(y))};function Is(y,F,ee,le,be){var Fe=new kc(F||this.boundingBox,ee||this.xStep,le||this.yStep,this.gState,be||this.matrix);Fe.stream=this.stream;var $e=y+"$$"+this.cloneIndex+++"$$";return rr($e,Fe),Fe}var mo=function(y,F){var ee=Ji[y.key],le=Yt[ee];if(le instanceof Vu)Z("q"),Z(fl(F)),le.gState&&b.setGState(le.gState),Z(y.matrix.toString()+" cm"),Z("/"+ee+" sh"),Z("Q");else if(le instanceof kc){var be=new ft(1,0,0,-1,0,zr());y.matrix&&(be=be.multiply(y.matrix||nr),ee=Is.call(le,y.key,y.boundingBox,y.xStep,y.yStep,be).id),Z("q"),Z("/Pattern cs"),Z("/"+ee+" scn"),le.gState&&b.setGState(le.gState),Z(F),Z("Q")}},fl=function(y){switch(y){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Zr=b.moveTo=function(y,F){return Z(q(C(y))+" "+q(ie(F))+" m"),this},Pr=b.lineTo=function(y,F){return Z(q(C(y))+" "+q(ie(F))+" l"),this},Br=b.curveTo=function(y,F,ee,le,be,Fe){return Z([q(C(y)),q(ie(F)),q(C(ee)),q(ie(le)),q(C(be)),q(ie(Fe)),"c"].join(" ")),this};b.__private__.line=b.line=function(y,F,ee,le,be){if(isNaN(y)||isNaN(F)||isNaN(ee)||isNaN(le)||!ns(be))throw new Error("Invalid arguments passed to jsPDF.line");return ne===Q.COMPAT?this.lines([[ee-y,le-F]],y,F,[1,1],be||"S"):this.lines([[ee-y,le-F]],y,F,[1,1]).stroke()},b.__private__.lines=b.lines=function(y,F,ee,le,be,Fe){var $e,at,d,E,k,G,we,ke,Qe,Ut,Jt,zt;if(typeof y=="number"&&(zt=ee,ee=F,F=y,y=zt),le=le||[1,1],Fe=Fe||!1,isNaN(F)||isNaN(ee)||!Array.isArray(y)||!Array.isArray(le)||!ns(be)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Zr(F,ee),$e=le[0],at=le[1],E=y.length,Ut=F,Jt=ee,d=0;d<E;d++)(k=y[d]).length===2?(Ut=k[0]*$e+Ut,Jt=k[1]*at+Jt,Pr(Ut,Jt)):(G=k[0]*$e+Ut,we=k[1]*at+Jt,ke=k[2]*$e+Ut,Qe=k[3]*at+Jt,Ut=k[4]*$e+Ut,Jt=k[5]*at+Jt,Br(G,we,ke,Qe,Ut,Jt));return Fe&&xr(),Yo(be),this},b.path=function(y){for(var F=0;F<y.length;F++){var ee=y[F],le=ee.c;switch(ee.op){case"m":Zr(le[0],le[1]);break;case"l":Pr(le[0],le[1]);break;case"c":Br.apply(this,le);break;case"h":xr()}}return this},b.__private__.rect=b.rect=function(y,F,ee,le,be){if(isNaN(y)||isNaN(F)||isNaN(ee)||isNaN(le)||!ns(be))throw new Error("Invalid arguments passed to jsPDF.rect");return ne===Q.COMPAT&&(le=-le),Z([q(C(y)),q(ie(F)),q(C(ee)),q(C(le)),"re"].join(" ")),Yo(be),this},b.__private__.triangle=b.triangle=function(y,F,ee,le,be,Fe,$e){if(isNaN(y)||isNaN(F)||isNaN(ee)||isNaN(le)||isNaN(be)||isNaN(Fe)||!ns($e))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-y,le-F],[be-ee,Fe-le],[y-be,F-Fe]],y,F,[1,1],$e,!0),this},b.__private__.roundedRect=b.roundedRect=function(y,F,ee,le,be,Fe,$e){if(isNaN(y)||isNaN(F)||isNaN(ee)||isNaN(le)||isNaN(be)||isNaN(Fe)||!ns($e))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var at=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*ee),Fe=Math.min(Fe,.5*le),this.lines([[ee-2*be,0],[be*at,0,be,Fe-Fe*at,be,Fe],[0,le-2*Fe],[0,Fe*at,-be*at,Fe,-be,Fe],[2*be-ee,0],[-be*at,0,-be,-Fe*at,-be,-Fe],[0,2*Fe-le],[0,-Fe*at,be*at,-Fe,be,-Fe]],y+be,F,[1,1],$e,!0),this},b.__private__.ellipse=b.ellipse=function(y,F,ee,le,be){if(isNaN(y)||isNaN(F)||isNaN(ee)||isNaN(le)||!ns(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*ee,$e=4/3*(Math.SQRT2-1)*le;return Zr(y+ee,F),Br(y+ee,F-$e,y+Fe,F-le,y,F-le),Br(y-Fe,F-le,y-ee,F-$e,y-ee,F),Br(y-ee,F+$e,y-Fe,F+le,y,F+le),Br(y+Fe,F+le,y+ee,F+$e,y+ee,F),Yo(be),this},b.__private__.circle=b.circle=function(y,F,ee,le){if(isNaN(y)||isNaN(F)||isNaN(ee)||!ns(le))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(y,F,ee,ee,le)},b.setFont=function(y,F,ee){return ee&&(F=Ee(F,ee)),Ot=As(y,F,{disableWarning:!1}),this};var $s=b.__private__.getFont=b.getFont=function(){return un[As.apply(b,arguments)]};b.__private__.getFontList=b.getFontList=function(){var y,F,ee={};for(y in bn)if(bn.hasOwnProperty(y))for(F in ee[y]=[],bn[y])bn[y].hasOwnProperty(F)&&ee[y].push(F);return ee},b.addFont=function(y,F,ee,le,be){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(ee=Ee(ee,le)),be=be||"Identity-H",Us.call(this,y,F,ee,be)};var fn,Ta=n.lineWidth||.200025,Gs=b.__private__.getLineWidth=b.getLineWidth=function(){return Ta},Ks=b.__private__.setLineWidth=b.setLineWidth=function(y){return Ta=y,Z(q(C(y))+" w"),this};b.__private__.setLineDash=Rt.API.setLineDash=Rt.API.setLineDashPattern=function(y,F){if(y=y||[],F=F||0,isNaN(F)||!Array.isArray(y))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return y=y.map(function(ee){return q(C(ee))}).join(" "),F=q(C(F)),Z("["+y+"] "+F+" d"),this};var vo=b.__private__.getLineHeight=b.getLineHeight=function(){return Xe*fn};b.__private__.getLineHeight=b.getLineHeight=function(){return Xe*fn};var Jo=b.__private__.setLineHeightFactor=b.setLineHeightFactor=function(y){return typeof(y=y||1.15)=="number"&&(fn=y),this},Ur=b.__private__.getLineHeightFactor=b.getLineHeightFactor=function(){return fn};Jo(n.lineHeight);var ei=b.__private__.getHorizontalCoordinate=function(y){return C(y)},Gn=b.__private__.getVerticalCoordinate=function(y){return ne===Q.ADVANCED?y:xt[W].mediaBox.topRightY-xt[W].mediaBox.bottomLeftY-C(y)},xa=b.__private__.getHorizontalCoordinateString=b.getHorizontalCoordinateString=function(y){return q(ei(y))},Bi=b.__private__.getVerticalCoordinateString=b.getVerticalCoordinateString=function(y){return q(Gn(y))},ir=n.strokeColor||"0 G";b.__private__.getStrokeColor=b.getDrawColor=function(){return gi(ir)},b.__private__.setStrokeColor=b.setDrawColor=function(y,F,ee,le){return ir=Xn({ch1:y,ch2:F,ch3:ee,ch4:le,pdfColorType:"draw",precision:2}),Z(ir),this};var yo=n.fillColor||"0 g";b.__private__.getFillColor=b.getFillColor=function(){return gi(yo)},b.__private__.setFillColor=b.setFillColor=function(y,F,ee,le){return yo=Xn({ch1:y,ch2:F,ch3:ee,ch4:le,pdfColorType:"fill",precision:2}),Z(yo),this};var Vn=n.textColor||"0 g",Ui=b.__private__.getTextColor=b.getTextColor=function(){return gi(Vn)};b.__private__.setTextColor=b.setTextColor=function(y,F,ee,le){return Vn=Xn({ch1:y,ch2:F,ch3:ee,ch4:le,pdfColorType:"text",precision:3}),this};var Ts=n.charSpace,rs=b.__private__.getCharSpace=b.getCharSpace=function(){return parseFloat(Ts||0)};b.__private__.setCharSpace=b.setCharSpace=function(y){if(isNaN(y))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ts=y,this};var Pa=0;b.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},b.__private__.setLineCap=b.setLineCap=function(y){var F=b.CapJoinStyles[y];if(F===void 0)throw new Error("Line cap style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Pa=F,Z(F+" J"),this};var Qs=0;b.__private__.setLineJoin=b.setLineJoin=function(y){var F=b.CapJoinStyles[y];if(F===void 0)throw new Error("Line join style of '"+y+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Qs=F,Z(F+" j"),this},b.__private__.setLineMiterLimit=b.__private__.setMiterLimit=b.setLineMiterLimit=b.setMiterLimit=function(y){if(y=y||0,isNaN(y))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(q(C(y))+" M"),this},b.GState=Bd,b.setGState=function(y){(y=typeof y=="string"?xn[Hn[y]]:is(null,y)).equals(wr)||(Z("/"+y.id+" gs"),wr=y)};var is=function(y,F){if(!y||!Hn[y]){var ee=!1;for(var le in xn)if(xn.hasOwnProperty(le)&&xn[le].equals(F)){ee=!0;break}if(ee)F=xn[le];else{var be="GS"+(Object.keys(xn).length+1).toString(10);xn[be]=F,F.id=be}return y&&(Hn[y]=F.id),Zt.publish("addGState",F),F}};b.addGState=function(y,F){return is(y,F),this},b.saveGraphicsState=function(){return Z("q"),di.push({key:Ot,size:Xe,color:Vn}),this},b.restoreGraphicsState=function(){Z("Q");var y=di.pop();return Ot=y.key,Xe=y.size,Vn=y.color,wr=null,this},b.setCurrentTransformationMatrix=function(y){return Z(y.toString()+" cm"),this},b.comment=function(y){return Z("#"+y),this};var zi=function(y,F){var ee=y||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(Fe){isNaN(Fe)||(ee=parseFloat(Fe))}});var le=F||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return le},set:function(Fe){isNaN(Fe)||(le=parseFloat(Fe))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(Fe){be=Fe.toString()}}),this},xs=function(y,F,ee,le){zi.call(this,y,F),this.type="rect";var be=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function($e){isNaN($e)||(be=parseFloat($e))}});var Fe=le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Fe},set:function($e){isNaN($e)||(Fe=parseFloat($e))}}),this},Ys=function(){this.page=Pn,this.currentPage=W,this.pages=Re.slice(0),this.pagesContext=xt.slice(0),this.x=rn,this.y=Ht,this.matrix=_r,this.width=ss(W),this.height=zr(W),this.outputDestination=Ge,this.id="",this.objectNumber=-1};Ys.prototype.restore=function(){Pn=this.page,W=this.currentPage,xt=this.pagesContext,Re=this.pages,rn=this.x,Ht=this.y,_r=this.matrix,Zo(W,this.width),ea(W,this.height),Ge=this.outputDestination};var Xo=function(y,F,ee,le,be){pi.push(new Ys),Pn=W=0,Re=[],rn=y,Ht=F,_r=be,Tr([ee,le])},dl=function(y){if(Sr[y])pi.pop().restore();else{var F=new Ys,ee="Xo"+(Object.keys(Jn).length+1).toString(10);F.id=ee,Sr[y]=ee,Jn[ee]=F,Zt.publish("addFormObject",F),pi.pop().restore()}};for(var Ps in b.beginFormObject=function(y,F,ee,le,be){return Xo(y,F,ee,le,be),this},b.endFormObject=function(y){return dl(y),this},b.doFormObject=function(y,F){var ee=Jn[Sr[y]];return Z("q"),Z(F.toString()+" cm"),Z("/"+ee.id+" Do"),Z("Q"),this},b.getFormObject=function(y){var F=Jn[Sr[y]];return{x:F.x,y:F.y,width:F.width,height:F.height,matrix:F.matrix}},b.save=function(y,F){return y=y||"generated.pdf",(F=F||{}).returnPromise=F.returnPromise||!1,F.returnPromise===!1?(ju(go(es()),y),typeof ju.unload=="function"&&Dt.setTimeout&&setTimeout(ju.unload,911),this):new Promise(function(ee,le){try{var be=ju(go(es()),y);typeof ju.unload=="function"&&Dt.setTimeout&&setTimeout(ju.unload,911),ee(be)}catch(Fe){le(Fe.message)}})},Rt.API)Rt.API.hasOwnProperty(Ps)&&(Ps==="events"&&Rt.API.events.length?function(y,F){var ee,le,be;for(be=F.length-1;be!==-1;be--)ee=F[be][0],le=F[be][1],y.subscribe.apply(y,[ee].concat(typeof le=="function"?[le]:le))}(Zt,Rt.API.events):b[Ps]=Rt.API[Ps]);var ss=b.getPageWidth=function(y){return(xt[y=y||W].mediaBox.topRightX-xt[y].mediaBox.bottomLeftX)/it},Zo=b.setPageWidth=function(y,F){xt[y].mediaBox.topRightX=F*it+xt[y].mediaBox.bottomLeftX},zr=b.getPageHeight=function(y){return(xt[y=y||W].mediaBox.topRightY-xt[y].mediaBox.bottomLeftY)/it},ea=b.setPageHeight=function(y,F){xt[y].mediaBox.topRightY=F*it+xt[y].mediaBox.bottomLeftY};return b.internal={pdfEscape:$n,getStyle:Ia,getFont:$s,getFontSize:tt,getCharSpace:rs,getTextColor:Ui,getLineHeight:vo,getLineHeightFactor:Ur,getLineWidth:Gs,write:bt,getHorizontalCoordinate:ei,getVerticalCoordinate:Gn,getCoordinateString:xa,getVerticalCoordinateString:Bi,collections:{},newObject:Ln,newAdditionalObject:js,newObjectDeferred:Rn,newObjectDeferredBegin:jn,getFilters:Vr,putStream:Wn,events:Zt,scaleFactor:it,pageSize:{getWidth:function(){return ss(W)},setWidth:function(y){Zo(W,y)},getHeight:function(){return zr(W)},setHeight:function(y){ea(W,y)}},encryptionOptions:v,encryption:sn,getEncryptor:Vi,output:Ws,getNumberOfPages:vn,pages:Re,out:Z,f2:O,f3:P,getPageInfo:vi,getPageInfoByObjId:Pt,getCurrentPageInfo:yi,getPDFVersion:M,Point:zi,Rectangle:xs,Matrix:ft,hasHotfix:ji},Object.defineProperty(b.internal.pageSize,"width",{get:function(){return ss(W)},set:function(y){Zo(W,y)},enumerable:!0,configurable:!0}),Object.defineProperty(b.internal.pageSize,"height",{get:function(){return zr(W)},set:function(y){ea(W,y)},enumerable:!0,configurable:!0}),zs.call(b,ze),Ot="F1",qs(i,t),Zt.publish("initialized"),b}xc.prototype.lsbFirstWord=function(n){return String.fromCharCode(n>>0&255,n>>8&255,n>>16&255,n>>24&255)},xc.prototype.toHexString=function(n){return n.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},xc.prototype.hexToBytes=function(n){for(var e=[],t=0;t<n.length;t+=2)e.push(String.fromCharCode(parseInt(n.substr(t,2),16)));return e.join("")},xc.prototype.processOwnerPassword=function(n,e){return gm(pm(e).substr(0,5),n)},xc.prototype.encryptor=function(n,e){var t=pm(this.encryptionKey+String.fromCharCode(255&n,n>>8&255,n>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return gm(t,r)}},Bd.prototype.equals=function(n){var e,t="id,objectNumber,equals";if(!n||kn(n)!==kn(this))return!1;var r=0;for(e in this)if(!(t.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!n.hasOwnProperty(e)||this[e]!==n[e])return!1;r++}for(e in n)n.hasOwnProperty(e)&&t.indexOf(e)<0&&r--;return r===0},Rt.API={events:[]},Rt.version="3.0.1";var ur=Rt.API,_1=1,Zu=function(n){return n.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Sc=function(n){return n.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Wt=function(n){return n.toFixed(2)},Wl=function(n){return n.toFixed(5)};ur.__acroform__={};var vs=function(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n},Sv=function(n){return n*_1},fa=function(n){var e=new V_,t=wt.internal.getHeight(n)||0,r=wt.internal.getWidth(n)||0;return e.BBox=[0,0,Number(Wt(r)),Number(Wt(t))],e},$6=ur.__acroform__.setBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return n|=1<<e},G6=ur.__acroform__.clearBit=function(n,e){if(n=n||0,e=e||0,isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return n&=~(1<<e)},K6=ur.__acroform__.getBit=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(n&1<<e)==0?0:1},gr=ur.__acroform__.getBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return K6(n,e-1)},mr=ur.__acroform__.setBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return $6(n,e-1)},vr=ur.__acroform__.clearBitForPdf=function(n,e){if(isNaN(n)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return G6(n,e-1)},Q6=ur.__acroform__.calculateCoordinates=function(n,e){var t=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=n[0],o=n[1],l=n[2],u=n[3],h={};return h.lowerLeft_X=t(i)||0,h.lowerLeft_Y=r(o+u)||0,h.upperRight_X=t(i+l)||0,h.upperRight_Y=r(o)||0,[Number(Wt(h.lowerLeft_X)),Number(Wt(h.lowerLeft_Y)),Number(Wt(h.upperRight_X)),Number(Wt(h.upperRight_Y))]},Y6=function(n){if(n.appearanceStreamContent)return n.appearanceStreamContent;if(n.V||n.DV){var e=[],t=n._V||n.DV,r=mm(n,t),i=n.scope.internal.getFont(n.fontName,n.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(n.scope.__private__.encodeColorString(n.color)),e.push("/"+i+" "+Wt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var o=fa(n);return o.scope=n.scope,o.stream=e.join(`
`),o}},mm=function(n,e){var t=n.fontSize===0?n.maxFontSize:n.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=n.multiline?i.map(function(P){return P.split(`
`)}):i.map(function(P){return[P]});var o=t,l=wt.internal.getHeight(n)||0;l=l<0?-l:l;var u=wt.internal.getWidth(n)||0;u=u<0?-u:u;var h=function(P,C,R){if(P+1<i.length){var ie=C+" "+i[P+1][0];return Zf(ie,n,R).width<=u-4}return!1};o++;e:for(;o>0;){e="",o--;var p,v,_=Zf("3",n,o).height,I=n.multiline?l-o:(l-_)/2,b=I+=2,j=0,M=0,B=0;if(o<=0){e=`(...) Tj
`,e+="% Width of Text: "+Zf(e,n,o=12).width+", FieldWidth:"+u+`
`;break}for(var V="",Q=0,ne=0;ne<i.length;ne++)if(i.hasOwnProperty(ne)){var me=!1;if(i[ne].length!==1&&B!==i[ne].length-1){if((_+2)*(Q+2)+2>l)continue e;V+=i[ne][B],me=!0,M=ne,ne--}else{V=(V+=i[ne][B]+" ").substr(V.length-1)==" "?V.substr(0,V.length-1):V;var xe=parseInt(ne),Ee=h(xe,V,o),q=ne>=i.length-1;if(Ee&&!q){V+=" ",B=0;continue}if(Ee||q){if(q)M=xe;else if(n.multiline&&(_+2)*(Q+2)+2>l)continue e}else{if(!n.multiline||(_+2)*(Q+2)+2>l)continue e;M=xe}}for(var A="",N=j;N<=M;N++){var O=i[N];if(n.multiline){if(N===M){A+=O[B]+" ",B=(B+1)%O.length;continue}if(N===j){A+=O[O.length-1]+" ";continue}}A+=O[0]+" "}switch(A=A.substr(A.length-1)==" "?A.substr(0,A.length-1):A,v=Zf(A,n,o).width,n.textAlign){case"right":p=u-v-2;break;case"center":p=(u-v)/2;break;case"left":default:p=2}e+=Wt(p)+" "+Wt(b)+` Td
`,e+="("+Zu(A)+`) Tj
`,e+=-Wt(p)+` 0 Td
`,b=-(o+2),v=0,j=me?M:M+1,Q++,V=""}break}return r.text=e,r.fontSize=o,r},Zf=function(n,e,t){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(n,{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(t),charSpace:0})*parseFloat(t)*1.5,width:i}},J6={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},X6=function(n,e){var t={type:"reference",object:n};e.internal.getPageInfo(n.page).pageContext.annotations.find(function(r){return r.type===t.type&&r.object===t.object})===void 0&&e.internal.getPageInfo(n.page).pageContext.annotations.push(t)},Z6=function(n,e){for(var t in n)if(n.hasOwnProperty(t)){var r=t,i=n[t];e.internal.newObjectDeferredBegin(i.objId,!0),kn(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete n[r]}},ex=function(n,e){if(e.scope=n,n.internal!==void 0&&(n.internal.acroformPlugin===void 0||n.internal.acroformPlugin.isInitialized===!1)){if(Wo.FieldNum=0,n.internal.acroformPlugin=JSON.parse(JSON.stringify(J6)),n.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");_1=n.internal.scaleFactor,n.internal.acroformPlugin.acroFormDictionaryRoot=new B_,n.internal.acroformPlugin.acroFormDictionaryRoot.scope=n,n.internal.acroformPlugin.acroFormDictionaryRoot._eventID=n.internal.events.subscribe("postPutResources",function(){(function(t){t.internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0})(n)}),n.internal.events.subscribe("buildDocument",function(){(function(t){t.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=t.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var o=r[i];o.objId=void 0,o.hasAnnotation&&X6(o,t)}})(n)}),n.internal.events.subscribe("putCatalog",function(){(function(t){if(t.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");t.internal.write("/AcroForm "+t.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(n)}),n.internal.events.subscribe("postPutPages",function(t){(function(r,i){var o=!r;for(var l in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(l)){var u=r[l],h=[],p=u.Rect;if(u.Rect&&(u.Rect=Q6(u.Rect,i)),i.internal.newObjectDeferredBegin(u.objId,!0),u.DA=wt.createDefaultAppearanceStream(u),kn(u)==="object"&&typeof u.getKeyValueListForStream=="function"&&(h=u.getKeyValueListForStream()),u.Rect=p,u.hasAppearanceStream&&!u.appearanceStreamContent){var v=Y6(u);h.push({key:"AP",value:"<</N "+v+">>"}),i.internal.acroformPlugin.xForms.push(v)}if(u.appearanceStreamContent){var _="";for(var I in u.appearanceStreamContent)if(u.appearanceStreamContent.hasOwnProperty(I)){var b=u.appearanceStreamContent[I];if(_+="/"+I+" ",_+="<<",Object.keys(b).length>=1||Array.isArray(b)){for(var l in b)if(b.hasOwnProperty(l)){var j=b[l];typeof j=="function"&&(j=j.call(i,u)),_+="/"+l+" "+j+" ",i.internal.acroformPlugin.xForms.indexOf(j)>=0||i.internal.acroformPlugin.xForms.push(j)}}else typeof(j=b)=="function"&&(j=j.call(i,u)),_+="/"+l+" "+j,i.internal.acroformPlugin.xForms.indexOf(j)>=0||i.internal.acroformPlugin.xForms.push(j);_+=">>"}h.push({key:"AP",value:`<<
`+_+">>"})}i.internal.putStream({additionalKeyValues:h,objectId:u.objId}),i.internal.out("endobj")}o&&Z6(i.internal.acroformPlugin.xForms,i)})(t,n)}),n.internal.acroformPlugin.isInitialized=!0}},j_=ur.__acroform__.arrayToPdfArray=function(n,e,t){var r=function(l){return l};if(Array.isArray(n)){for(var i="[",o=0;o<n.length;o++)switch(o!==0&&(i+=" "),kn(n[o])){case"boolean":case"number":case"object":i+=n[o].toString();break;case"string":n[o].substr(0,1)!=="/"?(e!==void 0&&t&&(r=t.internal.getEncryptor(e)),i+="("+Zu(r(n[o].toString()))+")"):i+=n[o].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Ig=function(n,e,t){var r=function(i){return i};return e!==void 0&&t&&(r=t.internal.getEncryptor(e)),(n=n||"").toString(),n="("+Zu(r(n))+")"},pa=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(n){this._objId=n}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};pa.prototype.toString=function(){return this.objId+" 0 R"},pa.prototype.putStream=function(){var n=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:n,objectId:this.objId}),this.scope.internal.out("endobj")},pa.prototype.getKeyValueListForStream=function(){var n=[],e=Object.getOwnPropertyNames(this).filter(function(o){return o!="content"&&o!="appearanceStreamContent"&&o!="scope"&&o!="objId"&&o.substring(0,1)!="_"});for(var t in e)if(Object.getOwnPropertyDescriptor(this,e[t]).configurable===!1){var r=e[t],i=this[r];i&&(Array.isArray(i)?n.push({key:r,value:j_(i,this.objId,this.scope)}):i instanceof pa?(i.scope=this.scope,n.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&n.push({key:r,value:i}))}return n};var V_=function(){pa.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var n,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){n=t.trim()},get:function(){return n||null}})};vs(V_,pa);var B_=function(){pa.call(this);var n,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(n){var t=function(r){return r};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Zu(t(n))+")"}},set:function(t){n=t}})};vs(B_,pa);var Wo=function n(){pa.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute F supplied.');e=V}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!gr(e,3)},set:function(V){V?this.F=mr(e,3):this.F=vr(e,3)}});var t=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return t},set:function(V){if(isNaN(V))throw new Error('Invalid value "'+V+'" for attribute Ff supplied.');t=V}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(V){r=V!==void 0?V:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(V){r[0]=V}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(V){r[1]=V}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(V){r[2]=V}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(V){r[3]=V}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(V){switch(V){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=V;break;default:throw new Error('Invalid value "'+V+'" for attribute FT supplied.')}}});var o=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!o||o.length<1){if(this instanceof Ud)return;o="FieldObject"+n.FieldNum++}var V=function(Q){return Q};return this.scope&&(V=this.scope.internal.getEncryptor(this.objId)),"("+Zu(V(o))+")"},set:function(V){o=V.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return o},set:function(V){o=V}});var l="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return l},set:function(V){l=V}});var u="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return u},set:function(V){u=V}});var h=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return h},set:function(V){h=V}});var p=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return p===void 0?50/_1:p},set:function(V){p=V}});var v="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return v},set:function(V){v=V}});var _="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!_||this instanceof Ud||this instanceof Uu))return Ig(_,this.objId,this.scope)},set:function(V){V=V.toString(),_=V}});var I=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(I)return this instanceof Jr?I:Ig(I,this.objId,this.scope)},set:function(V){V=V.toString(),I=this instanceof Jr?V:V.substr(0,1)==="("?Sc(V.substr(1,V.length-2)):Sc(V)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?Sc(I.substr(1,I.length-1)):I},set:function(V){V=V.toString(),I=this instanceof Jr?"/"+V:V}});var b=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(b)return b},set:function(V){this.V=V}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(b)return this instanceof Jr?b:Ig(b,this.objId,this.scope)},set:function(V){V=V.toString(),b=this instanceof Jr?V:V.substr(0,1)==="("?Sc(V.substr(1,V.length-2)):Sc(V)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Jr?Sc(b.substr(1,b.length-1)):b},set:function(V){V=V.toString(),b=this instanceof Jr?"/"+V:V}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var j,M=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return M},set:function(V){V=!!V,M=V}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(j)return j},set:function(V){j=V}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,1)},set:function(V){V?this.Ff=mr(this.Ff,1):this.Ff=vr(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,2)},set:function(V){V?this.Ff=mr(this.Ff,2):this.Ff=vr(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,3)},set:function(V){V?this.Ff=mr(this.Ff,3):this.Ff=vr(this.Ff,3)}});var B=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(B!==null)return B},set:function(V){if([0,1,2].indexOf(V)===-1)throw new Error('Invalid value "'+V+'" for attribute Q supplied.');B=V}}),Object.defineProperty(this,"textAlign",{get:function(){var V;switch(B){case 0:default:V="left";break;case 1:V="center";break;case 2:V="right"}return V},configurable:!0,enumerable:!0,set:function(V){switch(V){case"right":case 2:B=2;break;case"center":case 1:B=1;break;case"left":case 0:default:B=0}}})};vs(Wo,pa);var Fc=function(){Wo.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var n=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return n},set:function(t){n=t}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return j_(e,this.objId,this.scope)},set:function(t){var r,i;i=[],typeof(r=t)=="string"&&(i=function(o,l,u){u||(u=1);for(var h,p=[];h=l.exec(o);)p.push(h[u]);return p}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(t){e=t,this.sort&&e.sort()},this.addOption=function(t){t=(t=t||"").toString(),e.push(t),this.sort&&e.sort()},this.removeOption=function(t,r){for(r=r||!1,t=(t=t||"").toString();e.indexOf(t)!==-1&&(e.splice(e.indexOf(t),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,18)},set:function(t){t?this.Ff=mr(this.Ff,18):this.Ff=vr(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,19)},set:function(t){this.combo===!0&&(t?this.Ff=mr(this.Ff,19):this.Ff=vr(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,20)},set:function(t){t?(this.Ff=mr(this.Ff,20),e.sort()):this.Ff=vr(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,22)},set:function(t){t?this.Ff=mr(this.Ff,22):this.Ff=vr(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,23)},set:function(t){t?this.Ff=mr(this.Ff,23):this.Ff=vr(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,27)},set:function(t){t?this.Ff=mr(this.Ff,27):this.Ff=vr(this.Ff,27)}}),this.hasAppearanceStream=!1};vs(Fc,Wo);var Mc=function(){Fc.call(this),this.fontName="helvetica",this.combo=!1};vs(Mc,Fc);var jc=function(){Mc.call(this),this.combo=!0};vs(jc,Mc);var pd=function(){jc.call(this),this.edit=!0};vs(pd,jc);var Jr=function(){Wo.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,15)},set:function(t){t?this.Ff=mr(this.Ff,15):this.Ff=vr(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,16)},set:function(t){t?this.Ff=mr(this.Ff,16):this.Ff=vr(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,17)},set:function(t){t?this.Ff=mr(this.Ff,17):this.Ff=vr(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,26)},set:function(t){t?this.Ff=mr(this.Ff,26):this.Ff=vr(this.Ff,26)}});var n,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var t=function(o){return o};if(this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Zu(t(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(t){kn(t)==="object"&&(e=t)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(t){typeof t=="string"&&(e.CA=t)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(t){n=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(t){n="/"+t}})};vs(Jr,Wo);var gd=function(){Jr.call(this),this.pushButton=!0};vs(gd,Jr);var Vc=function(){Jr.call(this),this.radio=!0,this.pushButton=!1;var n=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e!==void 0?e:[]}})};vs(Vc,Jr);var Ud=function(){var n,e;Wo.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var t,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(u){return u};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var o,l=[];for(o in l.push("<<"),r)l.push("/"+o+" ("+Zu(i(r[o]))+")");return l.push(">>"),l.join(`
`)},set:function(i){kn(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(i){t="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=wt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};vs(Ud,Wo),Vc.prototype.setAppearance=function(n){if(!("createAppearanceStream"in n)||!("getCA"in n))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var t=this.Kids[e];t.appearanceStreamContent=n.createAppearanceStream(t.optionName),t.caption=n.getCA()}},Vc.prototype.createOption=function(n){var e=new Ud;return e.Parent=this,e.optionName=n,this.Kids.push(e),tx.call(this.scope,e),e};var md=function(){Jr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=wt.CheckBox.createAppearanceStream()};vs(md,Jr);var Uu=function(){Wo.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,13)},set:function(e){e?this.Ff=mr(this.Ff,13):this.Ff=vr(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,21)},set:function(e){e?this.Ff=mr(this.Ff,21):this.Ff=vr(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,23)},set:function(e){e?this.Ff=mr(this.Ff,23):this.Ff=vr(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,24)},set:function(e){e?this.Ff=mr(this.Ff,24):this.Ff=vr(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,25)},set:function(e){e?this.Ff=mr(this.Ff,25):this.Ff=vr(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,26)},set:function(e){e?this.Ff=mr(this.Ff,26):this.Ff=vr(this.Ff,26)}});var n=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return n},set:function(e){Number.isInteger(e)&&(n=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};vs(Uu,Wo);var vd=function(){Uu.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!gr(this.Ff,14)},set:function(n){n?this.Ff=mr(this.Ff,14):this.Ff=vr(this.Ff,14)}}),this.password=!0};vs(vd,Uu);var wt={CheckBox:{createAppearanceStream:function(){return{N:{On:wt.CheckBox.YesNormal},D:{On:wt.CheckBox.YesPushDown,Off:wt.CheckBox.OffPushDown}}},YesPushDown:function(n){var e=fa(n);e.scope=n.scope;var t=[],r=n.scope.internal.getFont(n.fontName,n.fontStyle).id,i=n.scope.__private__.encodeColorString(n.color),o=mm(n,n.caption);return t.push("0.749023 g"),t.push("0 0 "+Wt(wt.internal.getWidth(n))+" "+Wt(wt.internal.getHeight(n))+" re"),t.push("f"),t.push("BMC"),t.push("q"),t.push("0 0 1 rg"),t.push("/"+r+" "+Wt(o.fontSize)+" Tf "+i),t.push("BT"),t.push(o.text),t.push("ET"),t.push("Q"),t.push("EMC"),e.stream=t.join(`
`),e},YesNormal:function(n){var e=fa(n);e.scope=n.scope;var t=n.scope.internal.getFont(n.fontName,n.fontStyle).id,r=n.scope.__private__.encodeColorString(n.color),i=[],o=wt.internal.getHeight(n),l=wt.internal.getWidth(n),u=mm(n,n.caption);return i.push("1 g"),i.push("0 0 "+Wt(l)+" "+Wt(o)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+Wt(l-1)+" "+Wt(o-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+t+" "+Wt(u.fontSize)+" Tf "+r),i.push(u.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(n){var e=fa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(wt.internal.getWidth(n))+" "+Wt(wt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(n){var e={D:{Off:wt.RadioButton.Circle.OffPushDown},N:{}};return e.N[n]=wt.RadioButton.Circle.YesNormal,e.D[n]=wt.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(n){var e=fa(n);e.scope=n.scope;var t=[],r=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=wt.internal.Bezier_C,o=Number((r*i).toFixed(5));return t.push("q"),t.push("1 0 0 1 "+Wl(wt.internal.getWidth(n)/2)+" "+Wl(wt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+o+" "+o+" "+r+" 0 "+r+" c"),t.push("-"+o+" "+r+" -"+r+" "+o+" -"+r+" 0 c"),t.push("-"+r+" -"+o+" -"+o+" -"+r+" 0 -"+r+" c"),t.push(o+" -"+r+" "+r+" -"+o+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=fa(n);e.scope=n.scope;var t=[],r=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*wt.internal.Bezier_C).toFixed(5)),l=Number((r*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wl(wt.internal.getWidth(n)/2)+" "+Wl(wt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),t.push("0 g"),t.push("q"),t.push("1 0 0 1 "+Wl(wt.internal.getWidth(n)/2)+" "+Wl(wt.internal.getHeight(n)/2)+" cm"),t.push(r+" 0 m"),t.push(r+" "+l+" "+l+" "+r+" 0 "+r+" c"),t.push("-"+l+" "+r+" -"+r+" "+l+" -"+r+" 0 c"),t.push("-"+r+" -"+l+" -"+l+" -"+r+" 0 -"+r+" c"),t.push(l+" -"+r+" "+r+" -"+l+" "+r+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e},OffPushDown:function(n){var e=fa(n);e.scope=n.scope;var t=[],r=wt.internal.getWidth(n)<=wt.internal.getHeight(n)?wt.internal.getWidth(n)/4:wt.internal.getHeight(n)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),o=Number((i*wt.internal.Bezier_C).toFixed(5));return t.push("0.749023 g"),t.push("q"),t.push("1 0 0 1 "+Wl(wt.internal.getWidth(n)/2)+" "+Wl(wt.internal.getHeight(n)/2)+" cm"),t.push(i+" 0 m"),t.push(i+" "+o+" "+o+" "+i+" 0 "+i+" c"),t.push("-"+o+" "+i+" -"+i+" "+o+" -"+i+" 0 c"),t.push("-"+i+" -"+o+" -"+o+" -"+i+" 0 -"+i+" c"),t.push(o+" -"+i+" "+i+" -"+o+" "+i+" 0 c"),t.push("f"),t.push("Q"),e.stream=t.join(`
`),e}},Cross:{createAppearanceStream:function(n){var e={D:{Off:wt.RadioButton.Cross.OffPushDown},N:{}};return e.N[n]=wt.RadioButton.Cross.YesNormal,e.D[n]=wt.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(n){var e=fa(n);e.scope=n.scope;var t=[],r=wt.internal.calculateCross(n);return t.push("q"),t.push("1 1 "+Wt(wt.internal.getWidth(n)-2)+" "+Wt(wt.internal.getHeight(n)-2)+" re"),t.push("W"),t.push("n"),t.push(Wt(r.x1.x)+" "+Wt(r.x1.y)+" m"),t.push(Wt(r.x2.x)+" "+Wt(r.x2.y)+" l"),t.push(Wt(r.x4.x)+" "+Wt(r.x4.y)+" m"),t.push(Wt(r.x3.x)+" "+Wt(r.x3.y)+" l"),t.push("s"),t.push("Q"),e.stream=t.join(`
`),e},YesPushDown:function(n){var e=fa(n);e.scope=n.scope;var t=wt.internal.calculateCross(n),r=[];return r.push("0.749023 g"),r.push("0 0 "+Wt(wt.internal.getWidth(n))+" "+Wt(wt.internal.getHeight(n))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Wt(wt.internal.getWidth(n)-2)+" "+Wt(wt.internal.getHeight(n)-2)+" re"),r.push("W"),r.push("n"),r.push(Wt(t.x1.x)+" "+Wt(t.x1.y)+" m"),r.push(Wt(t.x2.x)+" "+Wt(t.x2.y)+" l"),r.push(Wt(t.x4.x)+" "+Wt(t.x4.y)+" m"),r.push(Wt(t.x3.x)+" "+Wt(t.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(n){var e=fa(n);e.scope=n.scope;var t=[];return t.push("0.749023 g"),t.push("0 0 "+Wt(wt.internal.getWidth(n))+" "+Wt(wt.internal.getHeight(n))+" re"),t.push("f"),e.stream=t.join(`
`),e}}},createDefaultAppearanceStream:function(n){var e=n.scope.internal.getFont(n.fontName,n.fontStyle).id,t=n.scope.__private__.encodeColorString(n.color);return"/"+e+" "+n.fontSize+" Tf "+t}};wt.internal={Bezier_C:.551915024494,calculateCross:function(n){var e=wt.internal.getWidth(n),t=wt.internal.getHeight(n),r=Math.min(e,t);return{x1:{x:(e-r)/2,y:(t-r)/2+r},x2:{x:(e-r)/2+r,y:(t-r)/2},x3:{x:(e-r)/2,y:(t-r)/2},x4:{x:(e-r)/2+r,y:(t-r)/2+r}}}},wt.internal.getWidth=function(n){var e=0;return kn(n)==="object"&&(e=Sv(n.Rect[2])),e},wt.internal.getHeight=function(n){var e=0;return kn(n)==="object"&&(e=Sv(n.Rect[3])),e};var tx=ur.addField=function(n){if(ex(this,n),!(n instanceof Wo))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=n).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),n.page=n.scope.internal.getCurrentPageInfo().pageNumber,this};ur.AcroFormChoiceField=Fc,ur.AcroFormListBox=Mc,ur.AcroFormComboBox=jc,ur.AcroFormEditBox=pd,ur.AcroFormButton=Jr,ur.AcroFormPushButton=gd,ur.AcroFormRadioButton=Vc,ur.AcroFormCheckBox=md,ur.AcroFormTextField=Uu,ur.AcroFormPasswordField=vd,ur.AcroFormAppearance=wt,ur.AcroForm={ChoiceField:Fc,ListBox:Mc,ComboBox:jc,EditBox:pd,Button:Jr,PushButton:gd,RadioButton:Vc,CheckBox:md,TextField:Uu,PasswordField:vd,Appearance:wt},Rt.AcroForm={ChoiceField:Fc,ListBox:Mc,ComboBox:jc,EditBox:pd,Button:Jr,PushButton:gd,RadioButton:Vc,CheckBox:md,TextField:Uu,PasswordField:vd,Appearance:wt};Rt.AcroForm;function U_(n){return n.reduce(function(e,t,r){return e[t]=r,e},{})}(function(n){n.__addimage__={};var e="UNKNOWN",t={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=n.__addimage__.getImageFileTypeByImageData=function(P,C){var R,ie,Ne,Ae,ye,re=e;if((C=C||e)==="RGBA"||P.data!==void 0&&P.data instanceof Uint8ClampedArray&&"height"in P&&"width"in P)return"RGBA";if(Ee(P))for(ye in t)for(Ne=t[ye],R=0;R<Ne.length;R+=1){for(Ae=!0,ie=0;ie<Ne[R].length;ie+=1)if(Ne[R][ie]!==void 0&&Ne[R][ie]!==P[ie]){Ae=!1;break}if(Ae===!0){re=ye;break}}else for(ye in t)for(Ne=t[ye],R=0;R<Ne.length;R+=1){for(Ae=!0,ie=0;ie<Ne[R].length;ie+=1)if(Ne[R][ie]!==void 0&&Ne[R][ie]!==P.charCodeAt(ie)){Ae=!1;break}if(Ae===!0){re=ye;break}}return re===e&&C!==e&&(re=C),re},i=function P(C){for(var R=this.internal.write,ie=this.internal.putStream,Ne=(0,this.internal.getFilters)();Ne.indexOf("FlateEncode")!==-1;)Ne.splice(Ne.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var Ae=[];if(Ae.push({key:"Type",value:"/XObject"}),Ae.push({key:"Subtype",value:"/Image"}),Ae.push({key:"Width",value:C.width}),Ae.push({key:"Height",value:C.height}),C.colorSpace===B.INDEXED?Ae.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(Ae.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===B.DEVICE_CMYK&&Ae.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ae.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&Ae.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var ye="",re=0,ae=C.transparency.length;re<ae;re++)ye+=C.transparency[re]+" "+C.transparency[re]+" ";Ae.push({key:"Mask",value:"["+ye+"]"})}C.sMask!==void 0&&Ae.push({key:"SMask",value:C.objectId+1+" 0 R"});var ce=C.filter!==void 0?["/"+C.filter]:void 0;if(ie({data:C.data,additionalKeyValues:Ae,alreadyAppliedFilters:ce,objectId:C.objectId}),R("endobj"),"sMask"in C&&C.sMask!==void 0){var X="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,L={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:X,data:C.sMask};"filter"in C&&(L.filter=C.filter),P.call(this,L)}if(C.colorSpace===B.INDEXED){var W=this.internal.newObject();ie({data:A(new Uint8Array(C.palette)),objectId:W}),R("endobj")}},o=function(){var P=this.internal.collections.addImage_images;for(var C in P)i.call(this,P[C])},l=function(){var P,C=this.internal.collections.addImage_images,R=this.internal.write;for(var ie in C)R("/I"+(P=C[ie]).index,P.objectId,"0","R")},u=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",o),this.internal.events.subscribe("putXobjectDict",l))},h=function(){var P=this.internal.collections.addImage_images;return u.call(this),P},p=function(){return Object.keys(this.internal.collections.addImage_images).length},v=function(P){return typeof n["process"+P.toUpperCase()]=="function"},_=function(P){return kn(P)==="object"&&P.nodeType===1},I=function(P,C){if(P.nodeName==="IMG"&&P.hasAttribute("src")){var R=""+P.getAttribute("src");if(R.indexOf("data:image/")===0)return Fh(unescape(R).split("base64,").pop());var ie=n.loadFile(R,!0);if(ie!==void 0)return ie}if(P.nodeName==="CANVAS"){if(P.width===0||P.height===0)throw new Error("Given canvas must have data. Canvas width: "+P.width+", height: "+P.height);var Ne;switch(C){case"PNG":Ne="image/png";break;case"WEBP":Ne="image/webp";break;case"JPEG":case"JPG":default:Ne="image/jpeg"}return Fh(P.toDataURL(Ne,1).split("base64,").pop())}},b=function(P){var C=this.internal.collections.addImage_images;if(C){for(var R in C)if(P===C[R].alias)return C[R]}},j=function(P,C,R){return P||C||(P=-96,C=-96),P<0&&(P=-1*R.width*72/P/this.internal.scaleFactor),C<0&&(C=-1*R.height*72/C/this.internal.scaleFactor),P===0&&(P=C*R.width/R.height),C===0&&(C=P*R.height/R.width),[P,C]},M=function(P,C,R,ie,Ne,Ae){var ye=j.call(this,R,ie,Ne),re=this.internal.getCoordinateString,ae=this.internal.getVerticalCoordinateString,ce=h.call(this);if(R=ye[0],ie=ye[1],ce[Ne.index]=Ne,Ae){Ae*=Math.PI/180;var X=Math.cos(Ae),L=Math.sin(Ae),W=function(te){return te.toFixed(4)},Y=[W(X),W(L),W(-1*L),W(X),0,0,"cm"]}this.internal.write("q"),Ae?(this.internal.write([1,"0","0",1,re(P),ae(C+ie),"cm"].join(" ")),this.internal.write(Y.join(" ")),this.internal.write([re(R),"0","0",re(ie),"0","0","cm"].join(" "))):this.internal.write([re(R),"0","0",re(ie),re(P),ae(C+ie),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ne.index+" Do"),this.internal.write("Q")},B=n.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};n.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var V=n.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Q=n.__addimage__.sHashCode=function(P){var C,R,ie=0;if(typeof P=="string")for(R=P.length,C=0;C<R;C++)ie=(ie<<5)-ie+P.charCodeAt(C),ie|=0;else if(Ee(P))for(R=P.byteLength/2,C=0;C<R;C++)ie=(ie<<5)-ie+P[C],ie|=0;return ie},ne=n.__addimage__.validateStringAsBase64=function(P){(P=P||"").toString().trim();var C=!0;return P.length===0&&(C=!1),P.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(P.substr(0,P.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(P.substr(-2))===!1&&(C=!1),C},me=n.__addimage__.extractImageFromDataUrl=function(P){if(P==null||!(P=P.trim()).startsWith("data:"))return null;var C=P.indexOf(",");return C<0?null:P.substring(0,C).trim().endsWith("base64")?P.substring(C+1):null},xe=n.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};n.__addimage__.isArrayBuffer=function(P){return xe()&&P instanceof ArrayBuffer};var Ee=n.__addimage__.isArrayBufferView=function(P){return xe()&&typeof Uint32Array<"u"&&(P instanceof Int8Array||P instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&P instanceof Uint8ClampedArray||P instanceof Int16Array||P instanceof Uint16Array||P instanceof Int32Array||P instanceof Uint32Array||P instanceof Float32Array||P instanceof Float64Array)},q=n.__addimage__.binaryStringToUint8Array=function(P){for(var C=P.length,R=new Uint8Array(C),ie=0;ie<C;ie++)R[ie]=P.charCodeAt(ie);return R},A=n.__addimage__.arrayBufferToBinaryString=function(P){for(var C="",R=Ee(P)?P:new Uint8Array(P),ie=0;ie<R.length;ie+=8192)C+=String.fromCharCode.apply(null,R.subarray(ie,ie+8192));return C};n.addImage=function(){var P,C,R,ie,Ne,Ae,ye,re,ae;if(typeof arguments[1]=="number"?(C=e,R=arguments[1],ie=arguments[2],Ne=arguments[3],Ae=arguments[4],ye=arguments[5],re=arguments[6],ae=arguments[7]):(C=arguments[1],R=arguments[2],ie=arguments[3],Ne=arguments[4],Ae=arguments[5],ye=arguments[6],re=arguments[7],ae=arguments[8]),kn(P=arguments[0])==="object"&&!_(P)&&"imageData"in P){var ce=P;P=ce.imageData,C=ce.format||C||e,R=ce.x||R||0,ie=ce.y||ie||0,Ne=ce.w||ce.width||Ne,Ae=ce.h||ce.height||Ae,ye=ce.alias||ye,re=ce.compression||re,ae=ce.rotation||ce.angle||ae}var X=this.internal.getFilters();if(re===void 0&&X.indexOf("FlateEncode")!==-1&&(re="SLOW"),isNaN(R)||isNaN(ie))throw new Error("Invalid coordinates passed to jsPDF.addImage");u.call(this);var L=N.call(this,P,C,ye,re);return M.call(this,R,ie,Ne,Ae,L,ae),this};var N=function(P,C,R,ie){var Ne,Ae,ye;if(typeof P=="string"&&r(P)===e){P=unescape(P);var re=O(P,!1);(re!==""||(re=n.loadFile(P,!0))!==void 0)&&(P=re)}if(_(P)&&(P=I(P,C)),C=r(P,C),!v(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((ye=R)==null||ye.length===0)&&(R=function(ae){return typeof ae=="string"||Ee(ae)?Q(ae):Ee(ae.data)?Q(ae.data):null}(P)),(Ne=b.call(this,R))||(xe()&&(P instanceof Uint8Array||C==="RGBA"||(Ae=P,P=q(P))),Ne=this["process"+C.toUpperCase()](P,p.call(this),R,function(ae){return ae&&typeof ae=="string"&&(ae=ae.toUpperCase()),ae in n.image_compression?ae:V.NONE}(ie),Ae)),!Ne)throw new Error("An unknown error occurred whilst processing the image.");return Ne},O=n.__addimage__.convertBase64ToBinaryString=function(P,C){C=typeof C!="boolean"||C;var R,ie="";if(typeof P=="string"){var Ne;R=(Ne=me(P))!==null&&Ne!==void 0?Ne:P;try{ie=Fh(R)}catch(Ae){if(C)throw ne(R)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ae.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ie};n.getImageProperties=function(P){var C,R,ie="";if(_(P)&&(P=I(P)),typeof P=="string"&&r(P)===e&&((ie=O(P,!1))===""&&(ie=n.loadFile(P)||""),P=ie),R=r(P),!v(R))throw new Error("addImage does not support files of type '"+R+"', please ensure that a plugin for '"+R+"' support is added.");if(!xe()||P instanceof Uint8Array||(P=q(P)),!(C=this["process"+R.toUpperCase()](P)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=R,C}})(Rt.API),function(n){var e=function(t){if(t!==void 0&&t!="")return!0};Rt.API.events.push(["addPage",function(t){this.internal.getPageInfo(t.pageNumber).pageContext.annotations=[]}]),n.events.push(["putPage",function(t){for(var r,i,o,l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString,h=this.internal.getPageInfoByObjId(t.objId),p=t.pageContext.annotations,v=!1,_=0;_<p.length&&!v;_++)switch((r=p[_]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(v=!0);break;case"reference":case"text":case"freetext":v=!0}if(v!=0){this.internal.write("/Annots [");for(var I=0;I<p.length;I++){r=p[I];var b=this.internal.pdfEscape,j=this.internal.getEncryptor(t.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var M=this.internal.newAdditionalObject(),B=this.internal.newAdditionalObject(),V=this.internal.getEncryptor(M.objId),Q=r.title||"Note";o="<</Type /Annot /Subtype /Text "+(i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y)+"] ")+"/Contents ("+b(V(r.contents))+")",o+=" /Popup "+B.objId+" 0 R",o+=" /P "+h.objId+" 0 R",o+=" /T ("+b(V(Q))+") >>",M.content=o;var ne=M.objId+" 0 R";o="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+l(r.bounds.x+30)+" "+u(r.bounds.y+r.bounds.h)+" "+l(r.bounds.x+r.bounds.w+30)+" "+u(r.bounds.y)+"] ")+" /Parent "+ne,r.open&&(o+=" /Open true"),o+=" >>",B.content=o,this.internal.write(M.objId,"0 R",B.objId,"0 R");break;case"freetext":i="/Rect ["+l(r.bounds.x)+" "+u(r.bounds.y)+" "+l(r.bounds.x+r.bounds.w)+" "+u(r.bounds.y+r.bounds.h)+"] ";var me=r.color||"#000000";o="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+b(j(r.contents))+")",o+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+me+")",o+=" /Border [0 0 0]",o+=" >>",this.internal.write(o);break;case"link":if(r.options.name){var xe=this.annotations._nameMap[r.options.name];r.options.pageNumber=xe.page,r.options.top=xe.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",o="",r.options.url)o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+b(j(r.options.url))+") >>";else if(r.options.pageNumber)switch(o="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":o+=" /Fit]";break;case"FitH":o+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,o+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var Ee=u(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),o+=" /XYZ "+r.options.left+" "+Ee+" "+r.options.zoom+"]"}o!=""&&(o+=" >>",this.internal.write(o))}}this.internal.write("]")}}]),n.createAnnotation=function(t){var r=this.internal.getCurrentPageInfo();switch(t.type){case"link":this.link(t.bounds.x,t.bounds.y,t.bounds.w,t.bounds.h,t);break;case"text":case"freetext":r.pageContext.annotations.push(t)}},n.link=function(t,r,i,o,l){var u=this.internal.getCurrentPageInfo(),h=this.internal.getCoordinateString,p=this.internal.getVerticalCoordinateString;u.pageContext.annotations.push({finalBounds:{x:h(t),y:p(r),w:h(t+i),h:p(r+o)},options:l,type:"link"})},n.textWithLink=function(t,r,i,o){var l,u,h=this.getTextWidth(t),p=this.internal.getLineHeight()/this.internal.scaleFactor;if(o.maxWidth!==void 0){u=o.maxWidth;var v=this.splitTextToSize(t,u).length;l=Math.ceil(p*v)}else u=h,l=p;return this.text(t,r,i,o),i+=.2*p,o.align==="center"&&(r-=h/2),o.align==="right"&&(r-=h),this.link(r,i-p,u,l,o),h},n.getTextWidth=function(t){var r=this.internal.getFontSize();return this.getStringUnitWidth(t)*r/this.internal.scaleFactor}}(Rt.API),function(n){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},t={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];n.__arabicParser__={};var o=n.__arabicParser__.isInArabicSubstitutionA=function(M){return e[M.charCodeAt(0)]!==void 0},l=n.__arabicParser__.isArabicLetter=function(M){return typeof M=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(M)},u=n.__arabicParser__.isArabicEndLetter=function(M){return l(M)&&o(M)&&e[M.charCodeAt(0)].length<=2},h=n.__arabicParser__.isArabicAlfLetter=function(M){return l(M)&&i.indexOf(M.charCodeAt(0))>=0};n.__arabicParser__.arabicLetterHasIsolatedForm=function(M){return l(M)&&o(M)&&e[M.charCodeAt(0)].length>=1};var p=n.__arabicParser__.arabicLetterHasFinalForm=function(M){return l(M)&&o(M)&&e[M.charCodeAt(0)].length>=2};n.__arabicParser__.arabicLetterHasInitialForm=function(M){return l(M)&&o(M)&&e[M.charCodeAt(0)].length>=3};var v=n.__arabicParser__.arabicLetterHasMedialForm=function(M){return l(M)&&o(M)&&e[M.charCodeAt(0)].length==4},_=n.__arabicParser__.resolveLigatures=function(M){var B=0,V=t,Q="",ne=0;for(B=0;B<M.length;B+=1)V[M.charCodeAt(B)]!==void 0?(ne++,typeof(V=V[M.charCodeAt(B)])=="number"&&(Q+=String.fromCharCode(V),V=t,ne=0),B===M.length-1&&(V=t,Q+=M.charAt(B-(ne-1)),B-=ne-1,ne=0)):(V=t,Q+=M.charAt(B-ne),B-=ne,ne=0);return Q};n.__arabicParser__.isArabicDiacritic=function(M){return M!==void 0&&r[M.charCodeAt(0)]!==void 0};var I=n.__arabicParser__.getCorrectForm=function(M,B,V){return l(M)?o(M)===!1?-1:!p(M)||!l(B)&&!l(V)||!l(V)&&u(B)||u(M)&&!l(B)||u(M)&&h(B)||u(M)&&u(B)?0:v(M)&&l(B)&&!u(B)&&l(V)&&p(V)?3:u(M)||!l(V)?1:2:-1},b=function(M){var B=0,V=0,Q=0,ne="",me="",xe="",Ee=(M=M||"").split("\\s+"),q=[];for(B=0;B<Ee.length;B+=1){for(q.push(""),V=0;V<Ee[B].length;V+=1)ne=Ee[B][V],me=Ee[B][V-1],xe=Ee[B][V+1],l(ne)?(Q=I(ne,me,xe),q[B]+=Q!==-1?String.fromCharCode(e[ne.charCodeAt(0)][Q]):ne):q[B]+=ne;q[B]=_(q[B])}return q.join(" ")},j=n.__arabicParser__.processArabic=n.processArabic=function(){var M,B=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,V=[];if(Array.isArray(B)){var Q=0;for(V=[],Q=0;Q<B.length;Q+=1)Array.isArray(B[Q])?V.push([b(B[Q][0]),B[Q][1],B[Q][2]]):V.push([b(B[Q])]);M=V}else M=b(B);return typeof arguments[0]=="string"?M:(arguments[0].text=M,arguments[0])};n.events.push(["preProcessText",j])}(Rt.API),Rt.API.autoPrint=function(n){var e;switch((n=n||{}).variant=n.variant||"non-conform",n.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(n){var e=function(){var t=void 0;Object.defineProperty(this,"pdf",{get:function(){return t},set:function(u){t=u}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(u){r=isNaN(u)||Number.isInteger(u)===!1||u<0?150:u,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(u){i=isNaN(u)||Number.isInteger(u)===!1||u<0?300:u,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var o=[];Object.defineProperty(this,"childNodes",{get:function(){return o},set:function(u){o=u}});var l={};Object.defineProperty(this,"style",{get:function(){return l},set:function(u){l=u}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(t,r){var i;if((t=t||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},n.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Rt.API),function(n){var e={left:0,top:0,bottom:0,right:0},t=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new o,this.internal.__cell__.pages=1},o=function(){var h=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return h},set:function(M){h=M}});var p=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return p},set:function(M){p=M}});var v=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return v},set:function(M){v=M}});var _=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return _},set:function(M){_=M}});var I=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return I},set:function(M){I=M}});var b=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return b},set:function(M){b=M}});var j=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return j},set:function(M){j=M}}),this};o.prototype.clone=function(){return new o(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},o.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},n.setHeaderFunction=function(h){return r.call(this),this.internal.__cell__.headerFunction=typeof h=="function"?h:void 0,this},n.getTextDimensions=function(h,p){r.call(this);var v=(p=p||{}).fontSize||this.getFontSize(),_=p.font||this.getFont(),I=p.scaleFactor||this.internal.scaleFactor,b=0,j=0,M=0,B=this;if(!Array.isArray(h)&&typeof h!="string"){if(typeof h!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");h=String(h)}var V=p.maxWidth;V>0?typeof h=="string"?h=this.splitTextToSize(h,V):Object.prototype.toString.call(h)==="[object Array]"&&(h=h.reduce(function(ne,me){return ne.concat(B.splitTextToSize(me,V))},[])):h=Array.isArray(h)?h:[h];for(var Q=0;Q<h.length;Q++)b<(M=this.getStringUnitWidth(h[Q],{font:_})*v)&&(b=M);return b!==0&&(j=h.length),{w:b/=I,h:Math.max((j*v*this.getLineHeightFactor()-v*(this.getLineHeightFactor()-1))/I,0)}},n.cellAddPage=function(){r.call(this),this.addPage();var h=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new o(h.left,h.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var l=n.cell=function(){var h;h=arguments[0]instanceof o?arguments[0]:new o(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var p=this.internal.__cell__.lastCell,v=this.internal.__cell__.padding,_=this.internal.__cell__.margins||e,I=this.internal.__cell__.tableHeaderRow,b=this.internal.__cell__.printHeaders;return p.lineNumber!==void 0&&(p.lineNumber===h.lineNumber?(h.x=(p.x||0)+(p.width||0),h.y=p.y||0):p.y+p.height+h.height+_.bottom>this.getPageHeight()?(this.cellAddPage(),h.y=_.top,b&&I&&(this.printHeaderRow(h.lineNumber,!0),h.y+=I[0].height)):h.y=p.y+p.height||h.y),h.text[0]!==void 0&&(this.rect(h.x,h.y,h.width,h.height,t===!0?"FD":void 0),h.align==="right"?this.text(h.text,h.x+h.width-v,h.y+v,{align:"right",baseline:"top"}):h.align==="center"?this.text(h.text,h.x+h.width/2,h.y+v,{align:"center",baseline:"top",maxWidth:h.width-v-v}):this.text(h.text,h.x+v,h.y+v,{align:"left",baseline:"top",maxWidth:h.width-v-v})),this.internal.__cell__.lastCell=h,this};n.table=function(h,p,v,_,I){if(r.call(this),!v)throw new Error("No data for PDF table.");var b,j,M,B,V=[],Q=[],ne=[],me={},xe={},Ee=[],q=[],A=(I=I||{}).autoSize||!1,N=I.printHeaders!==!1,O=I.css&&I.css["font-size"]!==void 0?16*I.css["font-size"]:I.fontSize||12,P=I.margins||Object.assign({width:this.getPageWidth()},e),C=typeof I.padding=="number"?I.padding:3,R=I.headerBackgroundColor||"#c8c8c8",ie=I.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=P,this.internal.__cell__.table_font_size=O,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=R,this.internal.__cell__.headerTextColor=ie,this.setFontSize(O),_==null)Q=V=Object.keys(v[0]),ne=V.map(function(){return"left"});else if(Array.isArray(_)&&kn(_[0])==="object")for(V=_.map(function(ce){return ce.name}),Q=_.map(function(ce){return ce.prompt||ce.name||""}),ne=_.map(function(ce){return ce.align||"left"}),b=0;b<_.length;b+=1)xe[_[b].name]=_[b].width*(19.049976/25.4);else Array.isArray(_)&&typeof _[0]=="string"&&(Q=V=_,ne=V.map(function(){return"left"}));if(A||Array.isArray(_)&&typeof _[0]=="string")for(b=0;b<V.length;b+=1){for(me[B=V[b]]=v.map(function(ce){return ce[B]}),this.setFont(void 0,"bold"),Ee.push(this.getTextDimensions(Q[b],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),j=me[B],this.setFont(void 0,"normal"),M=0;M<j.length;M+=1)Ee.push(this.getTextDimensions(j[M],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);xe[B]=Math.max.apply(null,Ee)+C+C,Ee=[]}if(N){var Ne={};for(b=0;b<V.length;b+=1)Ne[V[b]]={},Ne[V[b]].text=Q[b],Ne[V[b]].align=ne[b];var Ae=u.call(this,Ne,xe);q=V.map(function(ce){return new o(h,p,xe[ce],Ae,Ne[ce].text,void 0,Ne[ce].align)}),this.setTableHeaderRow(q),this.printHeaderRow(1,!1)}var ye=_.reduce(function(ce,X){return ce[X.name]=X.align,ce},{});for(b=0;b<v.length;b+=1){"rowStart"in I&&I.rowStart instanceof Function&&I.rowStart({row:b,data:v[b]},this);var re=u.call(this,v[b],xe);for(M=0;M<V.length;M+=1){var ae=v[b][V[M]];"cellStart"in I&&I.cellStart instanceof Function&&I.cellStart({row:b,col:M,data:ae},this),l.call(this,new o(h,p,xe[V[M]],re,ae,b+2,ye[V[M]]))}}return this.internal.__cell__.table_x=h,this.internal.__cell__.table_y=p,this};var u=function(h,p){var v=this.internal.__cell__.padding,_=this.internal.__cell__.table_font_size,I=this.internal.scaleFactor;return Object.keys(h).map(function(b){var j=h[b];return this.splitTextToSize(j.hasOwnProperty("text")?j.text:j,p[b]-v-v)},this).map(function(b){return this.getLineHeightFactor()*b.length*_/I+v+v},this).reduce(function(b,j){return Math.max(b,j)},0)};n.setTableHeaderRow=function(h){r.call(this),this.internal.__cell__.tableHeaderRow=h},n.printHeaderRow=function(h,p){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var v;if(t=!0,typeof this.internal.__cell__.headerFunction=="function"){var _=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new o(_[0],_[1],_[2],_[3],void 0,-1)}this.setFont(void 0,"bold");for(var I=[],b=0;b<this.internal.__cell__.tableHeaderRow.length;b+=1){v=this.internal.__cell__.tableHeaderRow[b].clone(),p&&(v.y=this.internal.__cell__.margins.top||0,I.push(v)),v.lineNumber=h;var j=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),l.call(this,v),this.setTextColor(j)}I.length>0&&this.setTableHeaderRow(I),this.setFont(void 0,"normal"),t=!1}}(Rt.API);var z_={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},q_=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],vm=U_(q_),H_=[100,200,300,400,500,600,700,800,900],nx=U_(H_);function ym(n){var e=n.family.replace(/"|'/g,"").toLowerCase(),t=function(o){return z_[o=o||"normal"]?o:"normal"}(n.style),r=function(o){if(!o)return 400;if(typeof o=="number")return o>=100&&o<=900&&o%100==0?o:400;if(/^\d00$/.test(o))return parseInt(o);switch(o){case"bold":return 700;case"normal":default:return 400}}(n.weight),i=function(o){return typeof vm[o=o||"normal"]=="number"?o:"normal"}(n.stretch);return{family:e,style:t,weight:r,stretch:i,src:n.src||[],ref:n.ref||{name:e,style:[i,t,r].join(" ")}}}function bv(n,e,t,r){var i;for(i=t;i>=0&&i<e.length;i+=r)if(n[e[i]])return n[e[i]];for(i=t;i>=0&&i<e.length;i-=r)if(n[e[i]])return n[e[i]]}var rx={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ev={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Av(n){return[n.stretch,n.style,n.weight,n.family].join(" ")}function ix(n,e,t){for(var r=(t=t||{}).defaultFontFamily||"times",i=Object.assign({},rx,t.genericFontFamilies||{}),o=null,l=null,u=0;u<e.length;++u)if(i[(o=ym(e[u])).family]&&(o.family=i[o.family]),n.hasOwnProperty(o.family)){l=n[o.family];break}if(!(l=l||n[r]))throw new Error("Could not find a font-family for the rule '"+Av(o)+"' and default family '"+r+"'.");if(l=function(h,p){if(p[h])return p[h];var v=vm[h],_=v<=vm.normal?-1:1,I=bv(p,q_,v,_);if(!I)throw new Error("Could not find a matching font-stretch value for "+h);return I}(o.stretch,l),l=function(h,p){if(p[h])return p[h];for(var v=z_[h],_=0;_<v.length;++_)if(p[v[_]])return p[v[_]];throw new Error("Could not find a matching font-style for "+h)}(o.style,l),!(l=function(h,p){if(p[h])return p[h];if(h===400&&p[500])return p[500];if(h===500&&p[400])return p[400];var v=nx[h],_=bv(p,H_,v,h<400?-1:1);if(!_)throw new Error("Could not find a matching font-weight for value "+h);return _}(o.weight,l)))throw new Error("Failed to resolve a font for the rule '"+Av(o)+"'.");return l}function Iv(n){return n.trimLeft()}function sx(n,e){for(var t=0;t<n.length;){if(n.charAt(t)===e)return[n.substring(0,t),n.substring(t+1)];t+=1}return null}function ox(n){var e=n.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],n.substring(e[0].length)]}var ed,Tv,xv,Tg=["times"];(function(n){var e,t,r,i,o,l,u,h,p,v=function(L){return L=L||{},this.isStrokeTransparent=L.isStrokeTransparent||!1,this.strokeOpacity=L.strokeOpacity||1,this.strokeStyle=L.strokeStyle||"#000000",this.fillStyle=L.fillStyle||"#000000",this.isFillTransparent=L.isFillTransparent||!1,this.fillOpacity=L.fillOpacity||1,this.font=L.font||"10px sans-serif",this.textBaseline=L.textBaseline||"alphabetic",this.textAlign=L.textAlign||"left",this.lineWidth=L.lineWidth||1,this.lineJoin=L.lineJoin||"miter",this.lineCap=L.lineCap||"butt",this.path=L.path||[],this.transform=L.transform!==void 0?L.transform.clone():new h,this.globalCompositeOperation=L.globalCompositeOperation||"normal",this.globalAlpha=L.globalAlpha||1,this.clip_path=L.clip_path||[],this.currentPoint=L.currentPoint||new l,this.miterLimit=L.miterLimit||10,this.lastPoint=L.lastPoint||new l,this.lineDashOffset=L.lineDashOffset||0,this.lineDash=L.lineDash||[],this.margin=L.margin||[0,0,0,0],this.prevPageLastElemOffset=L.prevPageLastElemOffset||0,this.ignoreClearRect=typeof L.ignoreClearRect!="boolean"||L.ignoreClearRect,this};n.events.push(["initialized",function(){this.context2d=new _(this),e=this.internal.f2,t=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,o=this.internal.getVerticalCoordinate,l=this.internal.Point,u=this.internal.Rectangle,h=this.internal.Matrix,p=new v}]);var _=function(L){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var W=L;Object.defineProperty(this,"pdf",{get:function(){return W}});var Y=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return Y},set:function(Ce){Y=!!Ce}});var te=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return te},set:function(Ce){te=!!Ce}});var oe=0;Object.defineProperty(this,"posX",{get:function(){return oe},set:function(Ce){isNaN(Ce)||(oe=Ce)}});var ve=0;Object.defineProperty(this,"posY",{get:function(){return ve},set:function(Ce){isNaN(Ce)||(ve=Ce)}}),Object.defineProperty(this,"margin",{get:function(){return p.margin},set:function(Ce){var Z;typeof Ce=="number"?Z=[Ce,Ce,Ce,Ce]:((Z=new Array(4))[0]=Ce[0],Z[1]=Ce.length>=2?Ce[1]:Z[0],Z[2]=Ce.length>=3?Ce[2]:Z[0],Z[3]=Ce.length>=4?Ce[3]:Z[1]),p.margin=Z}});var ue=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ue},set:function(Ce){ue=Ce}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Ce){ge=Ce}});var Ve=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ve},set:function(Ce){Ve=Ce}}),Object.defineProperty(this,"ctx",{get:function(){return p},set:function(Ce){Ce instanceof v&&(p=Ce)}}),Object.defineProperty(this,"path",{get:function(){return p.path},set:function(Ce){p.path=Ce}});var Re=[];Object.defineProperty(this,"ctxStack",{get:function(){return Re},set:function(Ce){Re=Ce}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ce){var Z;Z=I(Ce),this.ctx.fillStyle=Z.style,this.ctx.isFillTransparent=Z.a===0,this.ctx.fillOpacity=Z.a,this.pdf.setFillColor(Z.r,Z.g,Z.b,{a:Z.a}),this.pdf.setTextColor(Z.r,Z.g,Z.b,{a:Z.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ce){var Z=I(Ce);this.ctx.strokeStyle=Z.style,this.ctx.isStrokeTransparent=Z.a===0,this.ctx.strokeOpacity=Z.a,Z.a===0?this.pdf.setDrawColor(255,255,255):(Z.a,this.pdf.setDrawColor(Z.r,Z.g,Z.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ce){["butt","round","square"].indexOf(Ce)!==-1&&(this.ctx.lineCap=Ce,this.pdf.setLineCap(Ce))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ce){isNaN(Ce)||(this.ctx.lineWidth=Ce,this.pdf.setLineWidth(Ce))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ce){["bevel","round","miter"].indexOf(Ce)!==-1&&(this.ctx.lineJoin=Ce,this.pdf.setLineJoin(Ce))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ce){isNaN(Ce)||(this.ctx.miterLimit=Ce,this.pdf.setMiterLimit(Ce))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ce){this.ctx.textBaseline=Ce}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ce){["right","end","center","left","start"].indexOf(Ce)!==-1&&(this.ctx.textAlign=Ce)}});var Ke=null;function Ge(Ce,Z){if(Ke===null){var bt=function(We){var ze=[];return Object.keys(We).forEach(function(Xe){We[Xe].forEach(function(nt){var tt=null;switch(nt){case"bold":tt={family:Xe,weight:"bold"};break;case"italic":tt={family:Xe,style:"italic"};break;case"bolditalic":tt={family:Xe,weight:"bold",style:"italic"};break;case"":case"normal":tt={family:Xe}}tt!==null&&(tt.ref={name:Xe,style:nt},ze.push(tt))})}),ze}(Ce.getFontList());Ke=function(We){for(var ze={},Xe=0;Xe<We.length;++Xe){var nt=ym(We[Xe]),tt=nt.family,pt=nt.stretch,gt=nt.style,At=nt.weight;ze[tt]=ze[tt]||{},ze[tt][pt]=ze[tt][pt]||{},ze[tt][pt][gt]=ze[tt][pt][gt]||{},ze[tt][pt][gt][At]=nt}return ze}(bt.concat(Z))}return Ke}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(Ce){Ke=null,st=Ce}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ce){var Z;if(this.ctx.font=Ce,(Z=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ce))!==null){var bt=Z[1];Z[2];var We=Z[3],ze=Z[4];Z[5];var Xe=Z[6],nt=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(ze)[2];ze=Math.floor(nt==="px"?parseFloat(ze)*this.pdf.internal.scaleFactor:nt==="em"?parseFloat(ze)*this.pdf.getFontSize():parseFloat(ze)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(ze);var tt=function(It){var Ot,it,rn=[],Ht=It.trim();if(Ht==="")return Tg;if(Ht in Ev)return[Ev[Ht]];for(;Ht!=="";){switch(it=null,Ot=(Ht=Iv(Ht)).charAt(0)){case'"':case"'":it=sx(Ht.substring(1),Ot);break;default:it=ox(Ht)}if(it===null||(rn.push(it[0]),(Ht=Iv(it[1]))!==""&&Ht.charAt(0)!==","))return Tg;Ht=Ht.replace(/^,/,"")}return rn}(Xe);if(this.fontFaces){var pt=ix(Ge(this.pdf,this.fontFaces),tt.map(function(It){return{family:It,stretch:"normal",weight:We,style:bt}}));this.pdf.setFont(pt.ref.name,pt.ref.style)}else{var gt="";(We==="bold"||parseInt(We,10)>=700||bt==="bold")&&(gt="bold"),bt==="italic"&&(gt+="italic"),gt.length===0&&(gt="normal");for(var At="",ct={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},mt=0;mt<tt.length;mt++){if(this.pdf.internal.getFont(tt[mt],gt,{noFallback:!0,disableWarning:!0})!==void 0){At=tt[mt];break}if(gt==="bolditalic"&&this.pdf.internal.getFont(tt[mt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)At=tt[mt],gt="bold";else if(this.pdf.internal.getFont(tt[mt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){At=tt[mt],gt="normal";break}}if(At===""){for(var jt=0;jt<tt.length;jt++)if(ct[tt[jt]]){At=ct[tt[jt]];break}}At=At===""?"Times":At,this.pdf.setFont(At,gt)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ce){this.ctx.globalCompositeOperation=Ce}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ce){this.ctx.globalAlpha=Ce}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ce){this.ctx.lineDashOffset=Ce,X.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ce){this.ctx.lineDash=Ce,X.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ce){this.ctx.ignoreClearRect=!!Ce}})};_.prototype.setLineDash=function(L){this.lineDash=L},_.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},_.prototype.fill=function(){me.call(this,"fill",!1)},_.prototype.stroke=function(){me.call(this,"stroke",!1)},_.prototype.beginPath=function(){this.path=[{type:"begin"}]},_.prototype.moveTo=function(L,W){if(isNaN(L)||isNaN(W))throw Fn.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Y=this.ctx.transform.applyToPoint(new l(L,W));this.path.push({type:"mt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(L,W)},_.prototype.closePath=function(){var L=new l(0,0),W=0;for(W=this.path.length-1;W!==-1;W--)if(this.path[W].type==="begin"&&kn(this.path[W+1])==="object"&&typeof this.path[W+1].x=="number"){L=new l(this.path[W+1].x,this.path[W+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new l(L.x,L.y)},_.prototype.lineTo=function(L,W){if(isNaN(L)||isNaN(W))throw Fn.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Y=this.ctx.transform.applyToPoint(new l(L,W));this.path.push({type:"lt",x:Y.x,y:Y.y}),this.ctx.lastPoint=new l(Y.x,Y.y)},_.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),me.call(this,null,!0)},_.prototype.quadraticCurveTo=function(L,W,Y,te){if(isNaN(Y)||isNaN(te)||isNaN(L)||isNaN(W))throw Fn.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var oe=this.ctx.transform.applyToPoint(new l(Y,te)),ve=this.ctx.transform.applyToPoint(new l(L,W));this.path.push({type:"qct",x1:ve.x,y1:ve.y,x:oe.x,y:oe.y}),this.ctx.lastPoint=new l(oe.x,oe.y)},_.prototype.bezierCurveTo=function(L,W,Y,te,oe,ve){if(isNaN(oe)||isNaN(ve)||isNaN(L)||isNaN(W)||isNaN(Y)||isNaN(te))throw Fn.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ue=this.ctx.transform.applyToPoint(new l(oe,ve)),ge=this.ctx.transform.applyToPoint(new l(L,W)),Ve=this.ctx.transform.applyToPoint(new l(Y,te));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Ve.x,y2:Ve.y,x:ue.x,y:ue.y}),this.ctx.lastPoint=new l(ue.x,ue.y)},_.prototype.arc=function(L,W,Y,te,oe,ve){if(isNaN(L)||isNaN(W)||isNaN(Y)||isNaN(te)||isNaN(oe))throw Fn.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(ve=!!ve,!this.ctx.transform.isIdentity){var ue=this.ctx.transform.applyToPoint(new l(L,W));L=ue.x,W=ue.y;var ge=this.ctx.transform.applyToPoint(new l(0,Y)),Ve=this.ctx.transform.applyToPoint(new l(0,0));Y=Math.sqrt(Math.pow(ge.x-Ve.x,2)+Math.pow(ge.y-Ve.y,2))}Math.abs(oe-te)>=2*Math.PI&&(te=0,oe=2*Math.PI),this.path.push({type:"arc",x:L,y:W,radius:Y,startAngle:te,endAngle:oe,counterclockwise:ve})},_.prototype.arcTo=function(L,W,Y,te,oe){throw new Error("arcTo not implemented.")},_.prototype.rect=function(L,W,Y,te){if(isNaN(L)||isNaN(W)||isNaN(Y)||isNaN(te))throw Fn.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(L,W),this.lineTo(L+Y,W),this.lineTo(L+Y,W+te),this.lineTo(L,W+te),this.lineTo(L,W),this.lineTo(L+Y,W),this.lineTo(L,W)},_.prototype.fillRect=function(L,W,Y,te){if(isNaN(L)||isNaN(W)||isNaN(Y)||isNaN(te))throw Fn.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!b.call(this)){var oe={};this.lineCap!=="butt"&&(oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(L,W,Y,te),this.fill(),oe.hasOwnProperty("lineCap")&&(this.lineCap=oe.lineCap),oe.hasOwnProperty("lineJoin")&&(this.lineJoin=oe.lineJoin)}},_.prototype.strokeRect=function(L,W,Y,te){if(isNaN(L)||isNaN(W)||isNaN(Y)||isNaN(te))throw Fn.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");j.call(this)||(this.beginPath(),this.rect(L,W,Y,te),this.stroke())},_.prototype.clearRect=function(L,W,Y,te){if(isNaN(L)||isNaN(W)||isNaN(Y)||isNaN(te))throw Fn.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(L,W,Y,te))},_.prototype.save=function(L){L=typeof L!="boolean"||L;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("q");if(this.pdf.setPage(W),L){this.ctx.fontSize=this.pdf.internal.getFontSize();var te=new v(this.ctx);this.ctxStack.push(this.ctx),this.ctx=te}},_.prototype.restore=function(L){L=typeof L!="boolean"||L;for(var W=this.pdf.internal.getCurrentPageInfo().pageNumber,Y=0;Y<this.pdf.internal.getNumberOfPages();Y++)this.pdf.setPage(Y+1),this.pdf.internal.out("Q");this.pdf.setPage(W),L&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},_.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var I=function(L){var W,Y,te,oe;if(L.isCanvasGradient===!0&&(L=L.getColor()),!L)return{r:0,g:0,b:0,a:0,style:L};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(L))W=0,Y=0,te=0,oe=0;else{var ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(L);if(ve!==null)W=parseInt(ve[1]),Y=parseInt(ve[2]),te=parseInt(ve[3]),oe=1;else if((ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(L))!==null)W=parseInt(ve[1]),Y=parseInt(ve[2]),te=parseInt(ve[3]),oe=parseFloat(ve[4]);else{if(oe=1,typeof L=="string"&&L.charAt(0)!=="#"){var ue=new D_(L);L=ue.ok?ue.toHex():"#000000"}L.length===4?(W=L.substring(1,2),W+=W,Y=L.substring(2,3),Y+=Y,te=L.substring(3,4),te+=te):(W=L.substring(1,3),Y=L.substring(3,5),te=L.substring(5,7)),W=parseInt(W,16),Y=parseInt(Y,16),te=parseInt(te,16)}}return{r:W,g:Y,b:te,a:oe,style:L}},b=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},j=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};_.prototype.fillText=function(L,W,Y,te){if(isNaN(W)||isNaN(Y)||typeof L!="string")throw Fn.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(te=isNaN(te)?void 0:te,!b.call(this)){var oe=re(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;C.call(this,{text:L,x:W,y:Y,scale:ve,angle:oe,align:this.textAlign,maxWidth:te})}},_.prototype.strokeText=function(L,W,Y,te){if(isNaN(W)||isNaN(Y)||typeof L!="string")throw Fn.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!j.call(this)){te=isNaN(te)?void 0:te;var oe=re(this.ctx.transform.rotation),ve=this.ctx.transform.scaleX;C.call(this,{text:L,x:W,y:Y,scale:ve,renderingMode:"stroke",angle:oe,align:this.textAlign,maxWidth:te})}},_.prototype.measureText=function(L){if(typeof L!="string")throw Fn.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var W=this.pdf,Y=this.pdf.internal.scaleFactor,te=W.internal.getFontSize(),oe=W.getStringUnitWidth(L)*te/W.internal.scaleFactor,ve=function(ue){var ge=(ue=ue||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new ve({width:oe*=Math.round(96*Y/72*1e4)/1e4})},_.prototype.scale=function(L,W){if(isNaN(L)||isNaN(W))throw Fn.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Y=new h(L,0,0,W,0,0);this.ctx.transform=this.ctx.transform.multiply(Y)},_.prototype.rotate=function(L){if(isNaN(L))throw Fn.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var W=new h(Math.cos(L),Math.sin(L),-Math.sin(L),Math.cos(L),0,0);this.ctx.transform=this.ctx.transform.multiply(W)},_.prototype.translate=function(L,W){if(isNaN(L)||isNaN(W))throw Fn.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Y=new h(1,0,0,1,L,W);this.ctx.transform=this.ctx.transform.multiply(Y)},_.prototype.transform=function(L,W,Y,te,oe,ve){if(isNaN(L)||isNaN(W)||isNaN(Y)||isNaN(te)||isNaN(oe)||isNaN(ve))throw Fn.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ue=new h(L,W,Y,te,oe,ve);this.ctx.transform=this.ctx.transform.multiply(ue)},_.prototype.setTransform=function(L,W,Y,te,oe,ve){L=isNaN(L)?1:L,W=isNaN(W)?0:W,Y=isNaN(Y)?0:Y,te=isNaN(te)?1:te,oe=isNaN(oe)?0:oe,ve=isNaN(ve)?0:ve,this.ctx.transform=new h(L,W,Y,te,oe,ve)};var M=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};_.prototype.drawImage=function(L,W,Y,te,oe,ve,ue,ge,Ve){var Re=this.pdf.getImageProperties(L),Ke=1,Ge=1,st=1,Ce=1;te!==void 0&&ge!==void 0&&(st=ge/te,Ce=Ve/oe,Ke=Re.width/te*ge/te,Ge=Re.height/oe*Ve/oe),ve===void 0&&(ve=W,ue=Y,W=0,Y=0),te!==void 0&&ge===void 0&&(ge=te,Ve=oe),te===void 0&&ge===void 0&&(ge=Re.width,Ve=Re.height);for(var Z,bt=this.ctx.transform.decompose(),We=re(bt.rotate.shx),ze=new h,Xe=(ze=(ze=(ze=ze.multiply(bt.translate)).multiply(bt.skew)).multiply(bt.scale)).applyToRectangle(new u(ve-W*st,ue-Y*Ce,te*Ke,oe*Ge)),nt=B.call(this,Xe),tt=[],pt=0;pt<nt.length;pt+=1)tt.indexOf(nt[pt])===-1&&tt.push(nt[pt]);if(ne(tt),this.autoPaging)for(var gt=tt[0],At=tt[tt.length-1],ct=gt;ct<At+1;ct++){this.pdf.setPage(ct);var mt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=ct===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ot=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],it=ct===1?0:It+(ct-2)*Ot;if(this.ctx.clip_path.length!==0){var rn=this.path;Z=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Z,this.posX+this.margin[3],-it+jt+this.ctx.prevPageLastElemOffset),xe.call(this,"fill",!0),this.path=rn}var Ht=JSON.parse(JSON.stringify(Xe));Ht=Q([Ht],this.posX+this.margin[3],-it+jt+this.ctx.prevPageLastElemOffset)[0];var _r=(ct>gt||ct<At)&&M.call(this);_r&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],mt,Ot,null).clip().discardPath()),this.pdf.addImage(L,"JPEG",Ht.x,Ht.y,Ht.w,Ht.h,null,null,We),_r&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(L,"JPEG",Xe.x,Xe.y,Xe.w,Xe.h,null,null,We)};var B=function(L,W,Y){var te=[];W=W||this.pdf.internal.pageSize.width,Y=Y||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var oe=this.posY+this.ctx.prevPageLastElemOffset;switch(L.type){default:case"mt":case"lt":te.push(Math.floor((L.y+oe)/Y)+1);break;case"arc":te.push(Math.floor((L.y+oe-L.radius)/Y)+1),te.push(Math.floor((L.y+oe+L.radius)/Y)+1);break;case"qct":var ve=ae(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x,L.y);te.push(Math.floor((ve.y+oe)/Y)+1),te.push(Math.floor((ve.y+ve.h+oe)/Y)+1);break;case"bct":var ue=ce(this.ctx.lastPoint.x,this.ctx.lastPoint.y,L.x1,L.y1,L.x2,L.y2,L.x,L.y);te.push(Math.floor((ue.y+oe)/Y)+1),te.push(Math.floor((ue.y+ue.h+oe)/Y)+1);break;case"rect":te.push(Math.floor((L.y+oe)/Y)+1),te.push(Math.floor((L.y+L.h+oe)/Y)+1)}for(var ge=0;ge<te.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<te[ge];)V.call(this);return te},V=function(){var L=this.fillStyle,W=this.strokeStyle,Y=this.font,te=this.lineCap,oe=this.lineWidth,ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=L,this.strokeStyle=W,this.font=Y,this.lineCap=te,this.lineWidth=oe,this.lineJoin=ve},Q=function(L,W,Y){for(var te=0;te<L.length;te++)switch(L[te].type){case"bct":L[te].x2+=W,L[te].y2+=Y;case"qct":L[te].x1+=W,L[te].y1+=Y;case"mt":case"lt":case"arc":default:L[te].x+=W,L[te].y+=Y}return L},ne=function(L){return L.sort(function(W,Y){return W-Y})},me=function(L,W){for(var Y,te,oe=this.fillStyle,ve=this.strokeStyle,ue=this.lineCap,ge=this.lineWidth,Ve=Math.abs(ge*this.ctx.transform.scaleX),Re=this.lineJoin,Ke=JSON.parse(JSON.stringify(this.path)),Ge=JSON.parse(JSON.stringify(this.path)),st=[],Ce=0;Ce<Ge.length;Ce++)if(Ge[Ce].x!==void 0)for(var Z=B.call(this,Ge[Ce]),bt=0;bt<Z.length;bt+=1)st.indexOf(Z[bt])===-1&&st.push(Z[bt]);for(var We=0;We<st.length;We++)for(;this.pdf.internal.getNumberOfPages()<st[We];)V.call(this);if(ne(st),this.autoPaging)for(var ze=st[0],Xe=st[st.length-1],nt=ze;nt<Xe+1;nt++){this.pdf.setPage(nt),this.fillStyle=oe,this.strokeStyle=ve,this.lineCap=ue,this.lineWidth=Ve,this.lineJoin=Re;var tt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],pt=nt===1?this.posY+this.margin[0]:this.margin[0],gt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],At=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ct=nt===1?0:gt+(nt-2)*At;if(this.ctx.clip_path.length!==0){var mt=this.path;Y=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Y,this.posX+this.margin[3],-ct+pt+this.ctx.prevPageLastElemOffset),xe.call(this,L,!0),this.path=mt}if(te=JSON.parse(JSON.stringify(Ke)),this.path=Q(te,this.posX+this.margin[3],-ct+pt+this.ctx.prevPageLastElemOffset),W===!1||nt===0){var jt=(nt>ze||nt<Xe)&&M.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],tt,At,null).clip().discardPath()),xe.call(this,L,W),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Ve,xe.call(this,L,W),this.lineWidth=ge;this.path=Ke},xe=function(L,W){if((L!=="stroke"||W||!j.call(this))&&(L==="stroke"||W||!b.call(this))){for(var Y,te,oe=[],ve=this.path,ue=0;ue<ve.length;ue++){var ge=ve[ue];switch(ge.type){case"begin":oe.push({begin:!0});break;case"close":oe.push({close:!0});break;case"mt":oe.push({start:ge,deltas:[],abs:[]});break;case"lt":var Ve=oe.length;if(ve[ue-1]&&!isNaN(ve[ue-1].x)&&(Y=[ge.x-ve[ue-1].x,ge.y-ve[ue-1].y],Ve>0)){for(;Ve>=0;Ve--)if(oe[Ve-1].close!==!0&&oe[Ve-1].begin!==!0){oe[Ve-1].deltas.push(Y),oe[Ve-1].abs.push(ge);break}}break;case"bct":Y=[ge.x1-ve[ue-1].x,ge.y1-ve[ue-1].y,ge.x2-ve[ue-1].x,ge.y2-ve[ue-1].y,ge.x-ve[ue-1].x,ge.y-ve[ue-1].y],oe[oe.length-1].deltas.push(Y);break;case"qct":var Re=ve[ue-1].x+2/3*(ge.x1-ve[ue-1].x),Ke=ve[ue-1].y+2/3*(ge.y1-ve[ue-1].y),Ge=ge.x+2/3*(ge.x1-ge.x),st=ge.y+2/3*(ge.y1-ge.y),Ce=ge.x,Z=ge.y;Y=[Re-ve[ue-1].x,Ke-ve[ue-1].y,Ge-ve[ue-1].x,st-ve[ue-1].y,Ce-ve[ue-1].x,Z-ve[ue-1].y],oe[oe.length-1].deltas.push(Y);break;case"arc":oe.push({deltas:[],abs:[],arc:!0}),Array.isArray(oe[oe.length-1].abs)&&oe[oe.length-1].abs.push(ge)}}te=W?null:L==="stroke"?"stroke":"fill";for(var bt=!1,We=0;We<oe.length;We++)if(oe[We].arc)for(var ze=oe[We].abs,Xe=0;Xe<ze.length;Xe++){var nt=ze[Xe];nt.type==="arc"?A.call(this,nt.x,nt.y,nt.radius,nt.startAngle,nt.endAngle,nt.counterclockwise,void 0,W,!bt):R.call(this,nt.x,nt.y),bt=!0}else if(oe[We].close===!0)this.pdf.internal.out("h"),bt=!1;else if(oe[We].begin!==!0){var tt=oe[We].start.x,pt=oe[We].start.y;ie.call(this,oe[We].deltas,tt,pt),bt=!0}te&&N.call(this,te),W&&O.call(this)}},Ee=function(L){var W=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,Y=W*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return L-Y;case"top":return L+W-Y;case"hanging":return L+W-2*Y;case"middle":return L+W/2-Y;case"ideographic":return L;case"alphabetic":default:return L}},q=function(L){return L+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};_.prototype.createLinearGradient=function(){var L=function(){};return L.colorStops=[],L.addColorStop=function(W,Y){this.colorStops.push([W,Y])},L.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},L.isCanvasGradient=!0,L},_.prototype.createPattern=function(){return this.createLinearGradient()},_.prototype.createRadialGradient=function(){return this.createLinearGradient()};var A=function(L,W,Y,te,oe,ve,ue,ge,Ve){for(var Re=Ae.call(this,Y,te,oe,ve),Ke=0;Ke<Re.length;Ke++){var Ge=Re[Ke];Ke===0&&(Ve?P.call(this,Ge.x1+L,Ge.y1+W):R.call(this,Ge.x1+L,Ge.y1+W)),Ne.call(this,L,W,Ge.x2,Ge.y2,Ge.x3,Ge.y3,Ge.x4,Ge.y4)}ge?O.call(this):N.call(this,ue)},N=function(L){switch(L){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},O=function(){this.pdf.clip(),this.pdf.discardPath()},P=function(L,W){this.pdf.internal.out(t(L)+" "+r(W)+" m")},C=function(L){var W;switch(L.align){case"right":case"end":W="right";break;case"center":W="center";break;case"left":case"start":default:W="left"}var Y=this.pdf.getTextDimensions(L.text),te=Ee.call(this,L.y),oe=q.call(this,te)-Y.h,ve=this.ctx.transform.applyToPoint(new l(L.x,te)),ue=this.ctx.transform.decompose(),ge=new h;ge=(ge=(ge=ge.multiply(ue.translate)).multiply(ue.skew)).multiply(ue.scale);for(var Ve,Re,Ke,Ge=this.ctx.transform.applyToRectangle(new u(L.x,te,Y.w,Y.h)),st=ge.applyToRectangle(new u(L.x,oe,Y.w,Y.h)),Ce=B.call(this,st),Z=[],bt=0;bt<Ce.length;bt+=1)Z.indexOf(Ce[bt])===-1&&Z.push(Ce[bt]);if(ne(Z),this.autoPaging)for(var We=Z[0],ze=Z[Z.length-1],Xe=We;Xe<ze+1;Xe++){this.pdf.setPage(Xe);var nt=Xe===1?this.posY+this.margin[0]:this.margin[0],tt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],pt=this.pdf.internal.pageSize.height-this.margin[2],gt=pt-this.margin[0],At=this.pdf.internal.pageSize.width-this.margin[1],ct=At-this.margin[3],mt=Xe===1?0:tt+(Xe-2)*gt;if(this.ctx.clip_path.length!==0){var jt=this.path;Ve=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Ve,this.posX+this.margin[3],-1*mt+nt),xe.call(this,"fill",!0),this.path=jt}var It=Q([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-mt+nt+this.ctx.prevPageLastElemOffset)[0];L.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*L.scale),Ke=this.lineWidth,this.lineWidth=Ke*L.scale);var Ot=this.autoPaging!=="text";if(Ot||It.y+It.h<=pt){if(Ot||It.y>=nt&&It.x<=At){var it=Ot?L.text:this.pdf.splitTextToSize(L.text,L.maxWidth||At-It.x)[0],rn=Q([JSON.parse(JSON.stringify(Ge))],this.posX+this.margin[3],-mt+nt+this.ctx.prevPageLastElemOffset)[0],Ht=Ot&&(Xe>We||Xe<ze)&&M.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ct,gt,null).clip().discardPath()),this.pdf.text(it,rn.x,rn.y,{angle:L.angle,align:W,renderingMode:L.renderingMode}),Ht&&this.pdf.restoreGraphicsState()}}else It.y<pt&&(this.ctx.prevPageLastElemOffset+=pt-It.y);L.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ke)}else L.scale>=.01&&(Re=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Re*L.scale),Ke=this.lineWidth,this.lineWidth=Ke*L.scale),this.pdf.text(L.text,ve.x+this.posX,ve.y+this.posY,{angle:L.angle,align:W,renderingMode:L.renderingMode,maxWidth:L.maxWidth}),L.scale>=.01&&(this.pdf.setFontSize(Re),this.lineWidth=Ke)},R=function(L,W,Y,te){Y=Y||0,te=te||0,this.pdf.internal.out(t(L+Y)+" "+r(W+te)+" l")},ie=function(L,W,Y){return this.pdf.lines(L,W,Y,null,null)},Ne=function(L,W,Y,te,oe,ve,ue,ge){this.pdf.internal.out([e(i(Y+L)),e(o(te+W)),e(i(oe+L)),e(o(ve+W)),e(i(ue+L)),e(o(ge+W)),"c"].join(" "))},Ae=function(L,W,Y,te){for(var oe=2*Math.PI,ve=Math.PI/2;W>Y;)W-=oe;var ue=Math.abs(Y-W);ue<oe&&te&&(ue=oe-ue);for(var ge=[],Ve=te?-1:1,Re=W;ue>1e-5;){var Ke=Re+Ve*Math.min(ue,ve);ge.push(ye.call(this,L,Re,Ke)),ue-=Math.abs(Ke-Re),Re=Ke}return ge},ye=function(L,W,Y){var te=(Y-W)/2,oe=L*Math.cos(te),ve=L*Math.sin(te),ue=oe,ge=-ve,Ve=ue*ue+ge*ge,Re=Ve+ue*oe+ge*ve,Ke=4/3*(Math.sqrt(2*Ve*Re)-Re)/(ue*ve-ge*oe),Ge=ue-Ke*ge,st=ge+Ke*ue,Ce=Ge,Z=-st,bt=te+W,We=Math.cos(bt),ze=Math.sin(bt);return{x1:L*Math.cos(W),y1:L*Math.sin(W),x2:Ge*We-st*ze,y2:Ge*ze+st*We,x3:Ce*We-Z*ze,y3:Ce*ze+Z*We,x4:L*Math.cos(Y),y4:L*Math.sin(Y)}},re=function(L){return 180*L/Math.PI},ae=function(L,W,Y,te,oe,ve){var ue=L+.5*(Y-L),ge=W+.5*(te-W),Ve=oe+.5*(Y-oe),Re=ve+.5*(te-ve),Ke=Math.min(L,oe,ue,Ve),Ge=Math.max(L,oe,ue,Ve),st=Math.min(W,ve,ge,Re),Ce=Math.max(W,ve,ge,Re);return new u(Ke,st,Ge-Ke,Ce-st)},ce=function(L,W,Y,te,oe,ve,ue,ge){var Ve,Re,Ke,Ge,st,Ce,Z,bt,We,ze,Xe,nt,tt,pt,gt=Y-L,At=te-W,ct=oe-Y,mt=ve-te,jt=ue-oe,It=ge-ve;for(Re=0;Re<41;Re++)We=(Z=(Ke=L+(Ve=Re/40)*gt)+Ve*((st=Y+Ve*ct)-Ke))+Ve*(st+Ve*(oe+Ve*jt-st)-Z),ze=(bt=(Ge=W+Ve*At)+Ve*((Ce=te+Ve*mt)-Ge))+Ve*(Ce+Ve*(ve+Ve*It-Ce)-bt),Re==0?(Xe=We,nt=ze,tt=We,pt=ze):(Xe=Math.min(Xe,We),nt=Math.min(nt,ze),tt=Math.max(tt,We),pt=Math.max(pt,ze));return new u(Math.round(Xe),Math.round(nt),Math.round(tt-Xe),Math.round(pt-nt))},X=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var L,W,Y=(L=this.ctx.lineDash,W=this.ctx.lineDashOffset,JSON.stringify({lineDash:L,lineDashOffset:W}));this.prevLineDash!==Y&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=Y)}}})(Rt.API),function(n){var e=function(o){var l,u,h,p,v,_,I,b,j,M;for(u=[],h=0,p=(o+=l="\0\0\0\0".slice(o.length%4||4)).length;p>h;h+=4)(v=(o.charCodeAt(h)<<24)+(o.charCodeAt(h+1)<<16)+(o.charCodeAt(h+2)<<8)+o.charCodeAt(h+3))!==0?(_=(v=((v=((v=((v=(v-(M=v%85))/85)-(j=v%85))/85)-(b=v%85))/85)-(I=v%85))/85)%85,u.push(_+33,I+33,b+33,j+33,M+33)):u.push(122);return function(B,V){for(var Q=V;Q>0;Q--)B.pop()}(u,l.length),String.fromCharCode.apply(String,u)+"~>"},t=function(o){var l,u,h,p,v,_=String,I="length",b=255,j="charCodeAt",M="slice",B="replace";for(o[M](-2),o=o[M](0,-2)[B](/\s/g,"")[B]("z","!!!!!"),h=[],p=0,v=(o+=l="uuuuu"[M](o[I]%5||5))[I];v>p;p+=5)u=52200625*(o[j](p)-33)+614125*(o[j](p+1)-33)+7225*(o[j](p+2)-33)+85*(o[j](p+3)-33)+(o[j](p+4)-33),h.push(b&u>>24,b&u>>16,b&u>>8,b&u);return function(V,Q){for(var ne=Q;ne>0;ne--)V.pop()}(h,l[I]),_.fromCharCode.apply(_,h)},r=function(o){var l=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((o=o.replace(/\s/g,"")).indexOf(">")!==-1&&(o=o.substr(0,o.indexOf(">"))),o.length%2&&(o+="0"),l.test(o)===!1)return"";for(var u="",h=0;h<o.length;h+=2)u+=String.fromCharCode("0x"+(o[h]+o[h+1]));return u},i=function(o){for(var l=new Uint8Array(o.length),u=o.length;u--;)l[u]=o.charCodeAt(u);return o=(l=fm(l)).reduce(function(h,p){return h+String.fromCharCode(p)},"")};n.processDataByFilters=function(o,l){var u=0,h=o||"",p=[];for(typeof(l=l||[])=="string"&&(l=[l]),u=0;u<l.length;u+=1)switch(l[u]){case"ASCII85Decode":case"/ASCII85Decode":h=t(h),p.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":h=e(h),p.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":h=r(h),p.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":h=h.split("").map(function(v){return("0"+v.charCodeAt().toString(16)).slice(-2)}).join("")+">",p.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":h=i(h),p.push("/FlateDecode");break;default:throw new Error('The filter: "'+l[u]+'" is not implemented')}return{data:h,reverseChain:p.reverse().join(" ")}}}(Rt.API),function(n){n.loadFile=function(e,t,r){return function(i,o,l){o=o!==!1,l=typeof l=="function"?l:function(){};var u=void 0;try{u=function(h,p,v){var _=new XMLHttpRequest,I=0,b=function(j){var M=j.length,B=[],V=String.fromCharCode;for(I=0;I<M;I+=1)B.push(V(255&j.charCodeAt(I)));return B.join("")};if(_.open("GET",h,!p),_.overrideMimeType("text/plain; charset=x-user-defined"),p===!1&&(_.onload=function(){_.status===200?v(b(this.responseText)):v(void 0)}),_.send(null),p&&_.status===200)return b(_.responseText)}(i,o,l)}catch{}return u}(e,t,r)},n.loadImageFile=n.loadFile}(Rt.API),function(n){function e(){return(Dt.html2canvas?Promise.resolve(Dt.html2canvas):am(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load html2canvas: "+l))}).then(function(l){return l.default?l.default:l})}function t(){return(Dt.DOMPurify?Promise.resolve(Dt.DOMPurify):am(()=>import("./purify.es-Bf0oSh3b.js"),[])).catch(function(l){return Promise.reject(new Error("Could not load dompurify: "+l))}).then(function(l){return l.default?l.default:l})}var r=function(l){var u=kn(l);return u==="undefined"?"undefined":u==="string"||l instanceof String?"string":u==="number"||l instanceof Number?"number":u==="function"||l instanceof Function?"function":l&&l.constructor===Array?"array":l&&l.nodeType===1?"element":u==="object"?"object":"unknown"},i=function(l,u){var h=document.createElement(l);for(var p in u.className&&(h.className=u.className),u.innerHTML&&u.dompurify&&(h.innerHTML=u.dompurify.sanitize(u.innerHTML)),u.style)h.style[p]=u.style[p];return h},o=function l(u){var h=Object.assign(l.convert(Promise.resolve()),JSON.parse(JSON.stringify(l.template))),p=l.convert(Promise.resolve(),h);return p=(p=p.setProgress(1,l,1,[l])).set(u)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(l,u){return l.__proto__=u||o.prototype,l},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(l,u){return this.then(function(){switch(u=u||function(h){switch(r(h)){case"string":return"string";case"element":return h.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(l)){case"string":return this.then(t).then(function(h){return this.set({src:i("div",{innerHTML:l,dompurify:h})})});case"element":return this.set({src:l});case"canvas":return this.set({canvas:l});case"img":return this.set({img:l});default:return this.error("Unknown source type.")}})},o.prototype.to=function(l){switch(l){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var l={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},u=function h(p,v){for(var _=p.nodeType===3?document.createTextNode(p.nodeValue):p.cloneNode(!1),I=p.firstChild;I;I=I.nextSibling)v!==!0&&I.nodeType===1&&I.nodeName==="SCRIPT"||_.appendChild(h(I,v));return p.nodeType===1&&(p.nodeName==="CANVAS"?(_.width=p.width,_.height=p.height,_.getContext("2d").drawImage(p,0,0)):p.nodeName!=="TEXTAREA"&&p.nodeName!=="SELECT"||(_.value=p.value),_.addEventListener("load",function(){_.scrollTop=p.scrollTop,_.scrollLeft=p.scrollLeft},!0)),_}(this.prop.src,this.opt.html2canvas.javascriptEnabled);u.tagName==="BODY"&&(l.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:l}),this.prop.container.appendChild(u),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=Object.assign({},this.opt.html2canvas);return delete h.onrendered,u(this.prop.container,h)}).then(function(u){(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var l=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(l).then(e).then(function(u){var h=this.opt.jsPDF,p=this.opt.fontFaces,v=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,_=Object.assign({async:!0,allowTaint:!0,scale:v,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete _.onrendered,h.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,h.context2d.posX=this.opt.x,h.context2d.posY=this.opt.y,h.context2d.margin=this.opt.margin,h.context2d.fontFaces=p,p)for(var I=0;I<p.length;++I){var b=p[I],j=b.src.find(function(M){return M.format==="truetype"});j&&h.addFont(j.url,b.ref.name,b.ref.style)}return _.windowHeight=_.windowHeight||0,_.windowHeight=_.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):_.windowHeight,h.context2d.save(!0),u(this.prop.container,_)}).then(function(u){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(u),this.prop.canvas=u,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var l=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=l})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(l,u,h){return(h=h||"pdf").toLowerCase()==="img"||h.toLowerCase()==="image"?this.outputImg(l,u):this.outputPdf(l,u)},o.prototype.outputPdf=function(l,u){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(l,u)})},o.prototype.outputImg=function(l){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(l){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+l+'" is not supported.'}})},o.prototype.save=function(l){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(l?{filename:l}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(l){if(r(l)!=="object")return this;var u=Object.keys(l||{}).map(function(h){if(h in o.template.prop)return function(){this.prop[h]=l[h]};switch(h){case"margin":return this.setMargin.bind(this,l.margin);case"jsPDF":return function(){return this.opt.jsPDF=l.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,l.pageSize);default:return function(){this.opt[h]=l[h]}}},this);return this.then(function(){return this.thenList(u)})},o.prototype.get=function(l,u){return this.then(function(){var h=l in o.template.prop?this.prop[l]:this.opt[l];return u?u(h):h})},o.prototype.setMargin=function(l){return this.then(function(){switch(r(l)){case"number":l=[l,l,l,l];case"array":if(l.length===2&&(l=[l[0],l[1],l[0],l[1]]),l.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=l}).then(this.setPageSize)},o.prototype.setPageSize=function(l){function u(h,p){return Math.floor(h*p/72*96)}return this.then(function(){(l=l||Rt.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(l.inner={width:l.width-this.opt.margin[1]-this.opt.margin[3],height:l.height-this.opt.margin[0]-this.opt.margin[2]},l.inner.px={width:u(l.inner.width,l.k),height:u(l.inner.height,l.k)},l.inner.ratio=l.inner.height/l.inner.width),this.prop.pageSize=l})},o.prototype.setProgress=function(l,u,h,p){return l!=null&&(this.progress.val=l),u!=null&&(this.progress.state=u),h!=null&&(this.progress.n=h),p!=null&&(this.progress.stack=p),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(l,u,h,p){return this.setProgress(l?this.progress.val+l:null,u||null,h?this.progress.n+h:null,p?this.progress.stack.concat(p):null)},o.prototype.then=function(l,u){var h=this;return this.thenCore(l,u,function(p,v){return h.updateProgress(null,null,1,[p]),Promise.prototype.then.call(this,function(_){return h.updateProgress(null,p),_}).then(p,v).then(function(_){return h.updateProgress(1),_})})},o.prototype.thenCore=function(l,u,h){h=h||Promise.prototype.then,l&&(l=l.bind(this)),u&&(u=u.bind(this));var p=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:o.convert(Object.assign({},this),Promise.prototype),v=h.call(p,l,u);return o.convert(v,this.__proto__)},o.prototype.thenExternal=function(l,u){return Promise.prototype.then.call(this,l,u)},o.prototype.thenList=function(l){var u=this;return l.forEach(function(h){u=u.thenCore(h)}),u},o.prototype.catch=function(l){l&&(l=l.bind(this));var u=Promise.prototype.catch.call(this,l);return o.convert(u,this)},o.prototype.catchExternal=function(l){return Promise.prototype.catch.call(this,l)},o.prototype.error=function(l){return this.then(function(){throw new Error(l)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Rt.getPageSize=function(l,u,h){if(kn(l)==="object"){var p=l;l=p.orientation,u=p.unit||u,h=p.format||h}u=u||"mm",h=h||"a4",l=(""+(l||"P")).toLowerCase();var v,_=(""+h).toLowerCase(),I={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(u){case"pt":v=1;break;case"mm":v=72/25.4;break;case"cm":v=72/2.54;break;case"in":v=72;break;case"px":v=.75;break;case"pc":case"em":v=12;break;case"ex":v=6;break;default:throw"Invalid unit: "+u}var b,j=0,M=0;if(I.hasOwnProperty(_))j=I[_][1]/v,M=I[_][0]/v;else try{j=h[1],M=h[0]}catch{throw new Error("Invalid format: "+h)}if(l==="p"||l==="portrait")l="p",M>j&&(b=M,M=j,j=b);else{if(l!=="l"&&l!=="landscape")throw"Invalid orientation: "+l;l="l",j>M&&(b=M,M=j,j=b)}return{width:M,height:j,unit:u,k:v,orientation:l}},n.html=function(l,u){(u=u||{}).callback=u.callback||function(){},u.html2canvas=u.html2canvas||{},u.html2canvas.canvas=u.html2canvas.canvas||this.canvas,u.jsPDF=u.jsPDF||this,u.fontFaces=u.fontFaces?u.fontFaces.map(ym):null;var h=new o(u);return u.worker?h:h.from(l).doCallback()}}(Rt.API),Rt.API.addJS=function(n){return xv=n,this.internal.events.subscribe("postPutResources",function(){ed=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(ed+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Tv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+xv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){ed!==void 0&&Tv!==void 0&&this.internal.out("/Names <</JavaScript "+ed+" 0 R>>")}),this},function(n){var e;n.events.push(["postPutResources",function(){var t=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=t.outline.render().split(/\r\n/),o=0;o<i.length;o++){var l=i[o],u=r.exec(l);if(u!=null){var h=u[1];t.internal.newObjectDeferredBegin(h,!1)}t.internal.write(l)}if(this.outline.createNamedDestinations){var p=this.internal.pages.length,v=[];for(o=0;o<p;o++){var _=t.internal.newObject();v.push(_);var I=t.internal.getPageInfo(o+1);t.internal.write("<< /D["+I.objId+" 0 R /XYZ null null null]>> endobj")}var b=t.internal.newObject();for(t.internal.write("<< /Names [ "),o=0;o<v.length;o++)t.internal.write("(page_"+(o+1)+")"+v[o]+" 0 R");t.internal.write(" ] >>","endobj"),e=t.internal.newObject(),t.internal.write("<< /Dests "+b+" 0 R"),t.internal.write(">>","endobj")}}]),n.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),n.events.push(["initialized",function(){var t=this;t.outline={createNamedDestinations:!1,root:{children:[]}},t.outline.add=function(r,i,o){var l={title:i,options:o,children:[]};return r==null&&(r=this.root),r.children.push(l),l},t.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=t,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},t.outline.genIds_r=function(r){r.id=t.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},t.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},t.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,o=0;o<r.children.length;o++){var l=r.children[o];this.objStart(l),this.line("/Title "+this.makeString(l.title)),this.line("/Parent "+this.makeRef(r)),o>0&&this.line("/Prev "+this.makeRef(r.children[o-1])),o<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[o+1])),l.children.length>0&&(this.line("/First "+this.makeRef(l.children[0])),this.line("/Last "+this.makeRef(l.children[l.children.length-1])));var u=this.count=this.count_r({count:0},l);if(u>0&&this.line("/Count "+u),l.options&&l.options.pageNumber){var h=t.internal.getPageInfo(l.options.pageNumber);this.line("/Dest ["+h.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var p=0;p<r.children.length;p++)this.renderItems(r.children[p])},t.outline.line=function(r){this.ctx.val+=r+`\r
`},t.outline.makeRef=function(r){return r.id+" 0 R"},t.outline.makeString=function(r){return"("+t.internal.pdfEscape(r)+")"},t.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},t.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},t.outline.count_r=function(r,i){for(var o=0;o<i.children.length;o++)r.count++,this.count_r(r,i.children[o]);return r.count}}])}(Rt.API),function(n){var e=[192,193,194,195,196,197,198,199];n.processJPEG=function(t,r,i,o,l,u){var h,p=this.decode.DCT_DECODE,v=null;if(typeof t=="string"||this.__addimage__.isArrayBuffer(t)||this.__addimage__.isArrayBufferView(t)){switch(t=l||t,t=this.__addimage__.isArrayBuffer(t)?new Uint8Array(t):t,(h=function(_){for(var I,b=256*_.charCodeAt(4)+_.charCodeAt(5),j=_.length,M={width:0,height:0,numcomponents:1},B=4;B<j;B+=2){if(B+=b,e.indexOf(_.charCodeAt(B+1))!==-1){I=256*_.charCodeAt(B+5)+_.charCodeAt(B+6),M={width:256*_.charCodeAt(B+7)+_.charCodeAt(B+8),height:I,numcomponents:_.charCodeAt(B+9)};break}b=256*_.charCodeAt(B+2)+_.charCodeAt(B+3)}return M}(t=this.__addimage__.isArrayBufferView(t)?this.__addimage__.arrayBufferToBinaryString(t):t)).numcomponents){case 1:u=this.color_spaces.DEVICE_GRAY;break;case 4:u=this.color_spaces.DEVICE_CMYK;break;case 3:u=this.color_spaces.DEVICE_RGB}v={data:t,width:h.width,height:h.height,colorSpace:u,bitsPerComponent:8,filter:p,index:r,alias:i}}return v}}(Rt.API);var bc,td,Pv,Nv,Cv,ax=function(){var n,e,t;function r(o){var l,u,h,p,v,_,I,b,j,M,B,V,Q,ne;for(this.data=o,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},_=null;;){switch(l=this.readUInt32(),j=(function(){var me,xe;for(xe=[],me=0;me<4;++me)xe.push(String.fromCharCode(this.data[this.pos++]));return xe}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(l);break;case"fcTL":_&&this.animation.frames.push(_),this.pos+=4,_={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},v=this.readUInt16(),p=this.readUInt16()||100,_.delay=1e3*v/p,_.disposeOp=this.data[this.pos++],_.blendOp=this.data[this.pos++],_.data=[];break;case"IDAT":case"fdAT":for(j==="fdAT"&&(this.pos+=4,l-=4),o=(_!=null?_.data:void 0)||this.imgData,V=0;0<=l?V<l:V>l;0<=l?++V:--V)o.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(h=this.palette.length/3,this.transparency.indexed=this.read(l),this.transparency.indexed.length>h)throw new Error("More transparent colors than palette size");if((M=h-this.transparency.indexed.length)>0)for(Q=0;0<=M?Q<M:Q>M;0<=M?++Q:--Q)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(l)[0];break;case 2:this.transparency.rgb=this.read(l)}break;case"tEXt":I=(B=this.read(l)).indexOf(0),b=String.fromCharCode.apply(String,B.slice(0,I)),this.text[b]=String.fromCharCode.apply(String,B.slice(I+1));break;case"IEND":return _&&this.animation.frames.push(_),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(ne=this.colorType)===4||ne===6,u=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*u,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=l}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(o){var l,u;for(u=[],l=0;0<=o?l<o:l>o;0<=o?++l:--l)u.push(this.data[this.pos++]);return u},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(o){var l=this.pixelBitlength/8,u=new Uint8Array(this.width*this.height*l),h=0,p=this;if(o==null&&(o=this.imgData),o.length===0)return new Uint8Array(0);function v(_,I,b,j){var M,B,V,Q,ne,me,xe,Ee,q,A,N,O,P,C,R,ie,Ne,Ae,ye,re,ae,ce=Math.ceil((p.width-_)/b),X=Math.ceil((p.height-I)/j),L=p.width==ce&&p.height==X;for(C=l*ce,O=L?u:new Uint8Array(C*X),me=o.length,P=0,B=0;P<X&&h<me;){switch(o[h++]){case 0:for(Q=Ne=0;Ne<C;Q=Ne+=1)O[B++]=o[h++];break;case 1:for(Q=Ae=0;Ae<C;Q=Ae+=1)M=o[h++],ne=Q<l?0:O[B-l],O[B++]=(M+ne)%256;break;case 2:for(Q=ye=0;ye<C;Q=ye+=1)M=o[h++],V=(Q-Q%l)/l,R=P&&O[(P-1)*C+V*l+Q%l],O[B++]=(R+M)%256;break;case 3:for(Q=re=0;re<C;Q=re+=1)M=o[h++],V=(Q-Q%l)/l,ne=Q<l?0:O[B-l],R=P&&O[(P-1)*C+V*l+Q%l],O[B++]=(M+Math.floor((ne+R)/2))%256;break;case 4:for(Q=ae=0;ae<C;Q=ae+=1)M=o[h++],V=(Q-Q%l)/l,ne=Q<l?0:O[B-l],P===0?R=ie=0:(R=O[(P-1)*C+V*l+Q%l],ie=V&&O[(P-1)*C+(V-1)*l+Q%l]),xe=ne+R-ie,Ee=Math.abs(xe-ne),A=Math.abs(xe-R),N=Math.abs(xe-ie),q=Ee<=A&&Ee<=N?ne:A<=N?R:ie,O[B++]=(M+q)%256;break;default:throw new Error("Invalid filter algorithm: "+o[h-1])}if(!L){var W=((I+P*j)*p.width+_)*l,Y=P*C;for(Q=0;Q<ce;Q+=1){for(var te=0;te<l;te+=1)u[W++]=O[Y++];W+=(b-1)*l}}P++}}return o=V6(o),p.interlaceMethod==1?(v(0,0,8,8),v(4,0,8,8),v(0,4,4,8),v(2,0,4,4),v(0,2,2,4),v(1,0,2,2),v(0,1,1,2)):v(0,0,1,1),u},r.prototype.decodePalette=function(){var o,l,u,h,p,v,_,I,b;for(u=this.palette,v=this.transparency.indexed||[],p=new Uint8Array((v.length||0)+u.length),h=0,o=0,l=_=0,I=u.length;_<I;l=_+=3)p[h++]=u[l],p[h++]=u[l+1],p[h++]=u[l+2],p[h++]=(b=v[o++])!=null?b:255;return p},r.prototype.copyToImageData=function(o,l){var u,h,p,v,_,I,b,j,M,B,V;if(h=this.colors,M=null,u=this.hasAlphaChannel,this.palette.length&&(M=(V=this._decodedPalette)!=null?V:this._decodedPalette=this.decodePalette(),h=4,u=!0),j=(p=o.data||o).length,_=M||l,v=I=0,h===1)for(;v<j;)b=M?4*l[v/4]:I,B=_[b++],p[v++]=B,p[v++]=B,p[v++]=B,p[v++]=u?_[b++]:255,I=b;else for(;v<j;)b=M?4*l[v/4]:I,p[v++]=_[b++],p[v++]=_[b++],p[v++]=_[b++],p[v++]=u?_[b++]:255,I=b},r.prototype.decode=function(){var o;return o=new Uint8Array(this.width*this.height*4),this.copyToImageData(o,this.decodePixels()),o};var i=function(){if(Object.prototype.toString.call(Dt)==="[object Window]"){try{e=Dt.document.createElement("canvas"),t=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),n=function(o){var l;if(i()===!0)return t.width=o.width,t.height=o.height,t.clearRect(0,0,o.width,o.height),t.putImageData(o,0,0),(l=new Image).src=e.toDataURL(),l;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(o){var l,u,h,p,v,_,I,b;if(this.animation){for(b=[],u=v=0,_=(I=this.animation.frames).length;v<_;u=++v)l=I[u],h=o.createImageData(l.width,l.height),p=this.decodePixels(new Uint8Array(l.data)),this.copyToImageData(h,p),l.imageData=h,b.push(l.image=n(h));return b}},r.prototype.renderFrame=function(o,l){var u,h,p;return u=(h=this.animation.frames)[l],p=h[l-1],l===0&&o.clearRect(0,0,this.width,this.height),(p!=null?p.disposeOp:void 0)===1?o.clearRect(p.xOffset,p.yOffset,p.width,p.height):(p!=null?p.disposeOp:void 0)===2&&o.putImageData(p.imageData,p.xOffset,p.yOffset),u.blendOp===0&&o.clearRect(u.xOffset,u.yOffset,u.width,u.height),o.drawImage(u.image,u.xOffset,u.yOffset)},r.prototype.animate=function(o){var l,u,h,p,v,_,I=this;return u=0,_=this.animation,p=_.numFrames,h=_.frames,v=_.numPlays,(l=function(){var b,j;if(b=u++%p,j=h[b],I.renderFrame(o,b),p>1&&u/p<v)return I.animation._timeout=setTimeout(l,j.delay)})()},r.prototype.stopAnimation=function(){var o;return clearTimeout((o=this.animation)!=null?o._timeout:void 0)},r.prototype.render=function(o){var l,u;return o._png&&o._png.stopAnimation(),o._png=this,o.width=this.width,o.height=this.height,l=o.getContext("2d"),this.animation?(this.decodeFrames(l),this.animate(l)):(u=l.createImageData(this.width,this.height),this.copyToImageData(u,this.decodePixels()),l.putImageData(u,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function lx(n){var e=0;if(n[e++]!==71||n[e++]!==73||n[e++]!==70||n[e++]!==56||(n[e++]+1&253)!=56||n[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var t=n[e++]|n[e++]<<8,r=n[e++]|n[e++]<<8,i=n[e++],o=i>>7,l=1<<(7&i)+1;n[e++],n[e++];var u=null,h=null;o&&(u=e,h=l,e+=3*l);var p=!0,v=[],_=0,I=null,b=0,j=null;for(this.width=t,this.height=r;p&&e<n.length;)switch(n[e++]){case 33:switch(n[e++]){case 255:if(n[e]!==11||n[e+1]==78&&n[e+2]==69&&n[e+3]==84&&n[e+4]==83&&n[e+5]==67&&n[e+6]==65&&n[e+7]==80&&n[e+8]==69&&n[e+9]==50&&n[e+10]==46&&n[e+11]==48&&n[e+12]==3&&n[e+13]==1&&n[e+16]==0)e+=14,j=n[e++]|n[e++]<<8,e++;else for(e+=12;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;case 249:if(n[e++]!==4||n[e+4]!==0)throw new Error("Invalid graphics extension block.");var M=n[e++];_=n[e++]|n[e++]<<8,I=n[e++],(1&M)==0&&(I=null),b=M>>2&7,e++;break;case 254:for(;;){if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}break;default:throw new Error("Unknown graphic control label: 0x"+n[e-1].toString(16))}break;case 44:var B=n[e++]|n[e++]<<8,V=n[e++]|n[e++]<<8,Q=n[e++]|n[e++]<<8,ne=n[e++]|n[e++]<<8,me=n[e++],xe=me>>6&1,Ee=1<<(7&me)+1,q=u,A=h,N=!1;me>>7&&(N=!0,q=e,A=Ee,e+=3*Ee);var O=e;for(e++;;){var P;if(!((P=n[e++])>=0))throw Error("Invalid block size");if(P===0)break;e+=P}v.push({x:B,y:V,width:Q,height:ne,has_local_palette:N,palette_offset:q,palette_size:A,data_offset:O,data_length:e-O,transparent_index:I,interlaced:!!xe,delay:_,disposal:b});break;case 59:p=!1;break;default:throw new Error("Unknown gif block: 0x"+n[e-1].toString(16))}this.numFrames=function(){return v.length},this.loopCount=function(){return j},this.frameInfo=function(C){if(C<0||C>=v.length)throw new Error("Frame index out of range.");return v[C]},this.decodeAndBlitFrameBGRA=function(C,R){var ie=this.frameInfo(C),Ne=ie.width*ie.height,Ae=new Uint8Array(Ne);kv(n,ie.data_offset,Ae,Ne);var ye=ie.palette_offset,re=ie.transparent_index;re===null&&(re=256);var ae=ie.width,ce=t-ae,X=ae,L=4*(ie.y*t+ie.x),W=4*((ie.y+ie.height)*t+ie.x),Y=L,te=4*ce;ie.interlaced===!0&&(te+=4*t*7);for(var oe=8,ve=0,ue=Ae.length;ve<ue;++ve){var ge=Ae[ve];if(X===0&&(X=ae,(Y+=te)>=W&&(te=4*ce+4*t*(oe-1),Y=L+(ae+ce)*(oe<<1),oe>>=1)),ge===re)Y+=4;else{var Ve=n[ye+3*ge],Re=n[ye+3*ge+1],Ke=n[ye+3*ge+2];R[Y++]=Ke,R[Y++]=Re,R[Y++]=Ve,R[Y++]=255}--X}},this.decodeAndBlitFrameRGBA=function(C,R){var ie=this.frameInfo(C),Ne=ie.width*ie.height,Ae=new Uint8Array(Ne);kv(n,ie.data_offset,Ae,Ne);var ye=ie.palette_offset,re=ie.transparent_index;re===null&&(re=256);var ae=ie.width,ce=t-ae,X=ae,L=4*(ie.y*t+ie.x),W=4*((ie.y+ie.height)*t+ie.x),Y=L,te=4*ce;ie.interlaced===!0&&(te+=4*t*7);for(var oe=8,ve=0,ue=Ae.length;ve<ue;++ve){var ge=Ae[ve];if(X===0&&(X=ae,(Y+=te)>=W&&(te=4*ce+4*t*(oe-1),Y=L+(ae+ce)*(oe<<1),oe>>=1)),ge===re)Y+=4;else{var Ve=n[ye+3*ge],Re=n[ye+3*ge+1],Ke=n[ye+3*ge+2];R[Y++]=Ve,R[Y++]=Re,R[Y++]=Ke,R[Y++]=255}--X}}}function kv(n,e,t,r){for(var i=n[e++],o=1<<i,l=o+1,u=l+1,h=i+1,p=(1<<h)-1,v=0,_=0,I=0,b=n[e++],j=new Int32Array(4096),M=null;;){for(;v<16&&b!==0;)_|=n[e++]<<v,v+=8,b===1?b=n[e++]:--b;if(v<h)break;var B=_&p;if(_>>=h,v-=h,B!==o){if(B===l)break;for(var V=B<u?B:M,Q=0,ne=V;ne>o;)ne=j[ne]>>8,++Q;var me=ne;if(I+Q+(V!==B?1:0)>r)return void Fn.log("Warning, gif stream longer than expected.");t[I++]=me;var xe=I+=Q;for(V!==B&&(t[I++]=me),ne=V;Q--;)ne=j[ne],t[--xe]=255&ne,ne>>=8;M!==null&&u<4096&&(j[u++]=M<<8|me,u>=p+1&&h<12&&(++h,p=p<<1|1)),M=B}else u=l+1,p=(1<<(h=i+1))-1,M=null}return I!==r&&Fn.log("Warning, gif stream shorter than expected."),t}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function xg(n){var e,t,r,i,o,l=Math.floor,u=new Array(64),h=new Array(64),p=new Array(64),v=new Array(64),_=new Array(65535),I=new Array(65535),b=new Array(64),j=new Array(64),M=[],B=0,V=7,Q=new Array(64),ne=new Array(64),me=new Array(64),xe=new Array(256),Ee=new Array(2048),q=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],A=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],N=[0,1,2,3,4,5,6,7,8,9,10,11],O=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],P=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],R=[0,1,2,3,4,5,6,7,8,9,10,11],ie=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],Ne=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ae(L,W){for(var Y=0,te=0,oe=new Array,ve=1;ve<=16;ve++){for(var ue=1;ue<=L[ve];ue++)oe[W[te]]=[],oe[W[te]][0]=Y,oe[W[te]][1]=ve,te++,Y++;Y*=2}return oe}function ye(L){for(var W=L[0],Y=L[1]-1;Y>=0;)W&1<<Y&&(B|=1<<V),Y--,--V<0&&(B==255?(re(255),re(0)):re(B),V=7,B=0)}function re(L){M.push(L)}function ae(L){re(L>>8&255),re(255&L)}function ce(L,W,Y,te,oe){for(var ve,ue=oe[0],ge=oe[240],Ve=function(ze,Xe){var nt,tt,pt,gt,At,ct,mt,jt,It,Ot,it=0;for(It=0;It<8;++It){nt=ze[it],tt=ze[it+1],pt=ze[it+2],gt=ze[it+3],At=ze[it+4],ct=ze[it+5],mt=ze[it+6];var rn=nt+(jt=ze[it+7]),Ht=nt-jt,_r=tt+mt,un=tt-mt,bn=pt+ct,di=pt-ct,Yt=gt+At,Ji=gt-At,xn=rn+Yt,Hn=rn-Yt,wr=_r+bn,Pn=_r-bn;ze[it]=xn+wr,ze[it+4]=xn-wr;var xt=.707106781*(Pn+Hn);ze[it+2]=Hn+xt,ze[it+6]=Hn-xt;var Zt=.382683433*((xn=Ji+di)-(Pn=un+Ht)),Fi=.5411961*xn+Zt,Jn=1.306562965*Pn+Zt,Sr=.707106781*(wr=di+un),pi=Ht+Sr,ft=Ht-Sr;ze[it+5]=ft+Fi,ze[it+3]=ft-Fi,ze[it+1]=pi+Jn,ze[it+7]=pi-Jn,it+=8}for(it=0,It=0;It<8;++It){nt=ze[it],tt=ze[it+8],pt=ze[it+16],gt=ze[it+24],At=ze[it+32],ct=ze[it+40],mt=ze[it+48];var Mr=nt+(jt=ze[it+56]),nr=nt-jt,rr=tt+mt,Ln=tt-mt,Rn=pt+ct,jn=pt-ct,js=gt+At,ys=gt-At,jr=Mr+js,gi=Mr-js,Xn=rr+Rn,Vr=rr-Rn;ze[it]=jr+Xn,ze[it+32]=jr-Xn;var Wn=.707106781*(Vr+gi);ze[it+16]=gi+Wn,ze[it+48]=gi-Wn;var Mi=.382683433*((jr=ys+jn)-(Vr=Ln+nr)),_s=.5411961*jr+Mi,ws=1.306562965*Vr+Mi,Ss=.707106781*(Xn=jn+Ln),Vs=nr+Ss,co=nr-Ss;ze[it+40]=co+_s,ze[it+24]=co-_s,ze[it+8]=Vs+ws,ze[it+56]=Vs-ws,it++}for(It=0;It<64;++It)Ot=ze[It]*Xe[It],b[It]=Ot>0?Ot+.5|0:Ot-.5|0;return b}(L,W),Re=0;Re<64;++Re)j[q[Re]]=Ve[Re];var Ke=j[0]-Y;Y=j[0],Ke==0?ye(te[0]):(ye(te[I[ve=32767+Ke]]),ye(_[ve]));for(var Ge=63;Ge>0&&j[Ge]==0;)Ge--;if(Ge==0)return ye(ue),Y;for(var st,Ce=1;Ce<=Ge;){for(var Z=Ce;j[Ce]==0&&Ce<=Ge;)++Ce;var bt=Ce-Z;if(bt>=16){st=bt>>4;for(var We=1;We<=st;++We)ye(ge);bt&=15}ve=32767+j[Ce],ye(oe[(bt<<4)+I[ve]]),ye(_[ve]),Ce++}return Ge!=63&&ye(ue),Y}function X(L){L=Math.min(Math.max(L,1),100),o!=L&&(function(W){for(var Y=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],te=0;te<64;te++){var oe=l((Y[te]*W+50)/100);oe=Math.min(Math.max(oe,1),255),u[q[te]]=oe}for(var ve=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ue=0;ue<64;ue++){var ge=l((ve[ue]*W+50)/100);ge=Math.min(Math.max(ge,1),255),h[q[ue]]=ge}for(var Ve=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Re=0,Ke=0;Ke<8;Ke++)for(var Ge=0;Ge<8;Ge++)p[Re]=1/(u[q[Re]]*Ve[Ke]*Ve[Ge]*8),v[Re]=1/(h[q[Re]]*Ve[Ke]*Ve[Ge]*8),Re++}(L<50?Math.floor(5e3/L):Math.floor(200-2*L)),o=L)}this.encode=function(L,W){W&&X(W),M=new Array,B=0,V=7,ae(65496),ae(65504),ae(16),re(74),re(70),re(73),re(70),re(0),re(1),re(1),re(0),ae(1),ae(1),re(0),re(0),function(){ae(65499),ae(132),re(0);for(var tt=0;tt<64;tt++)re(u[tt]);re(1);for(var pt=0;pt<64;pt++)re(h[pt])}(),function(tt,pt){ae(65472),ae(17),re(8),ae(pt),ae(tt),re(3),re(1),re(17),re(0),re(2),re(17),re(1),re(3),re(17),re(1)}(L.width,L.height),function(){ae(65476),ae(418),re(0);for(var tt=0;tt<16;tt++)re(A[tt+1]);for(var pt=0;pt<=11;pt++)re(N[pt]);re(16);for(var gt=0;gt<16;gt++)re(O[gt+1]);for(var At=0;At<=161;At++)re(P[At]);re(1);for(var ct=0;ct<16;ct++)re(C[ct+1]);for(var mt=0;mt<=11;mt++)re(R[mt]);re(17);for(var jt=0;jt<16;jt++)re(ie[jt+1]);for(var It=0;It<=161;It++)re(Ne[It])}(),ae(65498),ae(12),re(3),re(1),re(0),re(2),re(17),re(3),re(17),re(0),re(63),re(0);var Y=0,te=0,oe=0;B=0,V=7,this.encode.displayName="_encode_";for(var ve,ue,ge,Ve,Re,Ke,Ge,st,Ce,Z=L.data,bt=L.width,We=L.height,ze=4*bt,Xe=0;Xe<We;){for(ve=0;ve<ze;){for(Re=ze*Xe+ve,Ge=-1,st=0,Ce=0;Ce<64;Ce++)Ke=Re+(st=Ce>>3)*ze+(Ge=4*(7&Ce)),Xe+st>=We&&(Ke-=ze*(Xe+1+st-We)),ve+Ge>=ze&&(Ke-=ve+Ge-ze+4),ue=Z[Ke++],ge=Z[Ke++],Ve=Z[Ke++],Q[Ce]=(Ee[ue]+Ee[ge+256>>0]+Ee[Ve+512>>0]>>16)-128,ne[Ce]=(Ee[ue+768>>0]+Ee[ge+1024>>0]+Ee[Ve+1280>>0]>>16)-128,me[Ce]=(Ee[ue+1280>>0]+Ee[ge+1536>>0]+Ee[Ve+1792>>0]>>16)-128;Y=ce(Q,p,Y,e,r),te=ce(ne,v,te,t,i),oe=ce(me,v,oe,t,i),ve+=32}Xe+=8}if(V>=0){var nt=[];nt[1]=V+1,nt[0]=(1<<V+1)-1,ye(nt)}return ae(65497),new Uint8Array(M)},n=n||50,function(){for(var L=String.fromCharCode,W=0;W<256;W++)xe[W]=L(W)}(),e=Ae(A,N),t=Ae(C,R),r=Ae(O,P),i=Ae(ie,Ne),function(){for(var L=1,W=2,Y=1;Y<=15;Y++){for(var te=L;te<W;te++)I[32767+te]=Y,_[32767+te]=[],_[32767+te][1]=Y,_[32767+te][0]=te;for(var oe=-(W-1);oe<=-L;oe++)I[32767+oe]=Y,_[32767+oe]=[],_[32767+oe][1]=Y,_[32767+oe][0]=W-1+oe;L<<=1,W<<=1}}(),function(){for(var L=0;L<256;L++)Ee[L]=19595*L,Ee[L+256>>0]=38470*L,Ee[L+512>>0]=7471*L+32768,Ee[L+768>>0]=-11059*L,Ee[L+1024>>0]=-21709*L,Ee[L+1280>>0]=32768*L+8421375,Ee[L+1536>>0]=-27439*L,Ee[L+1792>>0]=-5329*L}(),X(n)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Vo(n,e){if(this.pos=0,this.buffer=n,this.datav=new DataView(n.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Lv(n){function e(A){if(!A)throw Error("assert :P")}function t(A,N,O){for(var P=0;4>P;P++)if(A[N+P]!=O.charCodeAt(P))return!0;return!1}function r(A,N,O,P,C){for(var R=0;R<C;R++)A[N+R]=O[P+R]}function i(A,N,O,P){for(var C=0;C<P;C++)A[N+C]=O}function o(A){return new Int32Array(A)}function l(A,N){for(var O=[],P=0;P<A;P++)O.push(new N);return O}function u(A,N){var O=[];return function P(C,R,ie){for(var Ne=ie[R],Ae=0;Ae<Ne&&(C.push(ie.length>R+1?[]:new N),!(ie.length<R+1));Ae++)P(C[Ae],R+1,ie)}(O,0,A),O}var h=function(){var A=this;function N(f,m){for(var S=1<<m-1>>>0;f&S;)S>>>=1;return S?(f&S-1)+S:f}function O(f,m,S,x,D){e(!(x%S));do f[m+(x-=S)]=D;while(0<x)}function P(f,m,S,x,D){if(e(2328>=D),512>=D)var U=o(512);else if((U=o(D))==null)return 0;return function(H,$,K,J,he,Ie){var Te,Se,qe=$,De=1<<K,de=o(16),pe=o(16);for(e(he!=0),e(J!=null),e(H!=null),e(0<K),Se=0;Se<he;++Se){if(15<J[Se])return 0;++de[J[Se]]}if(de[0]==he)return 0;for(pe[1]=0,Te=1;15>Te;++Te){if(de[Te]>1<<Te)return 0;pe[Te+1]=pe[Te]+de[Te]}for(Se=0;Se<he;++Se)Te=J[Se],0<J[Se]&&(Ie[pe[Te]++]=Se);if(pe[15]==1)return(J=new C).g=0,J.value=Ie[0],O(H,qe,1,De,J),De;var je,Me=-1,Ue=De-1,ht=0,lt=1,Tt=1,ut=1<<K;for(Se=0,Te=1,he=2;Te<=K;++Te,he<<=1){if(lt+=Tt<<=1,0>(Tt-=de[Te]))return 0;for(;0<de[Te];--de[Te])(J=new C).g=Te,J.value=Ie[Se++],O(H,qe+ht,he,ut,J),ht=N(ht,Te)}for(Te=K+1,he=2;15>=Te;++Te,he<<=1){if(lt+=Tt<<=1,0>(Tt-=de[Te]))return 0;for(;0<de[Te];--de[Te]){if(J=new C,(ht&Ue)!=Me){for(qe+=ut,je=1<<(Me=Te)-K;15>Me&&!(0>=(je-=de[Me]));)++Me,je<<=1;De+=ut=1<<(je=Me-K),H[$+(Me=ht&Ue)].g=je+K,H[$+Me].value=qe-$-Me}J.g=Te-K,J.value=Ie[Se++],O(H,qe+(ht>>K),he,ut,J),ht=N(ht,Te)}}return lt!=2*pe[15]-1?0:De}(f,m,S,x,D,U)}function C(){this.value=this.g=0}function R(){this.value=this.g=0}function ie(){this.G=l(5,C),this.H=o(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=l(Kn,R)}function Ne(f,m,S,x){e(f!=null),e(m!=null),e(2147483648>x),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=m,f.pa=S,f.Jd=m,f.Yc=S+x,f.Zc=4<=x?S+x-4+1:S,ve(f)}function Ae(f,m){for(var S=0;0<m--;)S|=ge(f,128)<<m;return S}function ye(f,m){var S=Ae(f,m);return ue(f)?-S:S}function re(f,m,S,x){var D,U=0;for(e(f!=null),e(m!=null),e(4294967288>x),f.Sb=x,f.Ra=0,f.u=0,f.h=0,4<x&&(x=4),D=0;D<x;++D)U+=m[S+D]<<8*D;f.Ra=U,f.bb=x,f.oa=m,f.pa=S}function ae(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<yl-8>>>0,++f.bb,f.u-=8;Y(f)&&(f.h=1,f.u=0)}function ce(f,m){if(e(0<=m),!f.h&&m<=vl){var S=W(f)&ml[m];return f.u+=m,ae(f),S}return f.h=1,f.u=0}function X(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function L(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function W(f){return f.Ra>>>(f.u&yl-1)>>>0}function Y(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>yl}function te(f,m){f.u=m,f.h=Y(f)}function oe(f){f.u>=_l&&(e(f.u>=_l),ae(f))}function ve(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function ue(f){return Ae(f,1)}function ge(f,m){var S=f.Ca;0>f.b&&ve(f);var x=f.b,D=S*m>>>8,U=(f.I>>>x>D)+0;for(U?(S-=D,f.I-=D+1<<x>>>0):S=D+1,x=S,D=0;256<=x;)D+=8,x>>=8;return x=7^D+ni[x],f.b-=x,f.Ca=(S<<x)-1,U}function Ve(f,m,S){f[m+0]=S>>24&255,f[m+1]=S>>16&255,f[m+2]=S>>8&255,f[m+3]=S>>0&255}function Re(f,m){return f[m+0]<<0|f[m+1]<<8}function Ke(f,m){return Re(f,m)|f[m+2]<<16}function Ge(f,m){return Re(f,m)|Re(f,m+2)<<16}function st(f,m){var S=1<<m;return e(f!=null),e(0<m),f.X=o(S),f.X==null?0:(f.Mb=32-m,f.Xa=m,1)}function Ce(f,m){e(f!=null),e(m!=null),e(f.Xa==m.Xa),r(m.X,0,f.X,0,1<<m.Xa)}function Z(){this.X=[],this.Xa=this.Mb=0}function bt(f,m,S,x){e(S!=null),e(x!=null);var D=S[0],U=x[0];return D==0&&(D=(f*U+m/2)/m),U==0&&(U=(m*D+f/2)/f),0>=D||0>=U?0:(S[0]=D,x[0]=U,1)}function We(f,m){return f+(1<<m)-1>>>m}function ze(f,m){return((4278255360&f)+(4278255360&m)>>>0&4278255360)+((16711935&f)+(16711935&m)>>>0&16711935)>>>0}function Xe(f,m){A[m]=function(S,x,D,U,H,$,K){var J;for(J=0;J<H;++J){var he=A[f]($[K+J-1],D,U+J);$[K+J]=ze(S[x+J],he)}}}function nt(){this.ud=this.hd=this.jd=0}function tt(f,m){return((4278124286&(f^m))>>>1)+(f&m)>>>0}function pt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function gt(f,m){return pt(f+(f-m+.5>>1))}function At(f,m,S){return Math.abs(m-S)-Math.abs(f-S)}function ct(f,m,S,x,D,U,H){for(x=U[H-1],S=0;S<D;++S)U[H+S]=x=ze(f[m+S],x)}function mt(f,m,S,x,D){var U;for(U=0;U<S;++U){var H=f[m+U],$=H>>8&255,K=16711935&(K=(K=16711935&H)+(($<<16)+$));x[D+U]=(4278255360&H)+K>>>0}}function jt(f,m){m.jd=f>>0&255,m.hd=f>>8&255,m.ud=f>>16&255}function It(f,m,S,x,D,U){var H;for(H=0;H<x;++H){var $=m[S+H],K=$>>>8,J=$,he=255&(he=(he=$>>>16)+((f.jd<<24>>24)*(K<<24>>24)>>>5));J=255&(J=(J=J+((f.hd<<24>>24)*(K<<24>>24)>>>5))+((f.ud<<24>>24)*(he<<24>>24)>>>5)),D[U+H]=(4278255360&$)+(he<<16)+J}}function Ot(f,m,S,x,D){A[m]=function(U,H,$,K,J,he,Ie,Te,Se){for(K=Ie;K<Te;++K)for(Ie=0;Ie<Se;++Ie)J[he++]=D($[x(U[H++])])},A[f]=function(U,H,$,K,J,he,Ie){var Te=8>>U.b,Se=U.Ea,qe=U.K[0],De=U.w;if(8>Te)for(U=(1<<U.b)-1,De=(1<<Te)-1;H<$;++H){var de,pe=0;for(de=0;de<Se;++de)de&U||(pe=x(K[J++])),he[Ie++]=D(qe[pe&De]),pe>>=Te}else A["VP8LMapColor"+S](K,J,qe,De,he,Ie,H,$,Se)}}function it(f,m,S,x,D){for(S=m+S;m<S;){var U=f[m++];x[D++]=U>>16&255,x[D++]=U>>8&255,x[D++]=U>>0&255}}function rn(f,m,S,x,D){for(S=m+S;m<S;){var U=f[m++];x[D++]=U>>16&255,x[D++]=U>>8&255,x[D++]=U>>0&255,x[D++]=U>>24&255}}function Ht(f,m,S,x,D){for(S=m+S;m<S;){var U=(H=f[m++])>>16&240|H>>12&15,H=H>>0&240|H>>28&15;x[D++]=U,x[D++]=H}}function _r(f,m,S,x,D){for(S=m+S;m<S;){var U=(H=f[m++])>>16&248|H>>13&7,H=H>>5&224|H>>3&31;x[D++]=U,x[D++]=H}}function un(f,m,S,x,D){for(S=m+S;m<S;){var U=f[m++];x[D++]=U>>0&255,x[D++]=U>>8&255,x[D++]=U>>16&255}}function bn(f,m,S,x,D,U){if(U==0)for(S=m+S;m<S;)Ve(x,((U=f[m++])[0]>>24|U[1]>>8&65280|U[2]<<8&16711680|U[3]<<24)>>>0),D+=32;else r(x,D,f,m,S)}function di(f,m){A[m][0]=A[f+"0"],A[m][1]=A[f+"1"],A[m][2]=A[f+"2"],A[m][3]=A[f+"3"],A[m][4]=A[f+"4"],A[m][5]=A[f+"5"],A[m][6]=A[f+"6"],A[m][7]=A[f+"7"],A[m][8]=A[f+"8"],A[m][9]=A[f+"9"],A[m][10]=A[f+"10"],A[m][11]=A[f+"11"],A[m][12]=A[f+"12"],A[m][13]=A[f+"13"],A[m][14]=A[f+"0"],A[m][15]=A[f+"0"]}function Yt(f){return f==Il||f==Fa||f==Eu||f==Au}function Ji(){this.eb=[],this.size=this.A=this.fb=0}function xn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Hn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Ji,this.f.kb=new xn,this.sd=null}function wr(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Pn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function xt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Zt(f,m){var S=f.T,x=m.ba.f.RGBA,D=x.eb,U=x.fb+f.ka*x.A,H=Si[m.ba.S],$=f.y,K=f.O,J=f.f,he=f.N,Ie=f.ea,Te=f.W,Se=m.cc,qe=m.dc,De=m.Mc,de=m.Nc,pe=f.ka,je=f.ka+f.T,Me=f.U,Ue=Me+1>>1;for(pe==0?H($,K,null,null,J,he,Ie,Te,J,he,Ie,Te,D,U,null,null,Me):(H(m.ec,m.fc,$,K,Se,qe,De,de,J,he,Ie,Te,D,U-x.A,D,U,Me),++S);pe+2<je;pe+=2)Se=J,qe=he,De=Ie,de=Te,he+=f.Rc,Te+=f.Rc,U+=2*x.A,H($,(K+=2*f.fa)-f.fa,$,K,Se,qe,De,de,J,he,Ie,Te,D,U-x.A,D,U,Me);return K+=f.fa,f.j+je<f.o?(r(m.ec,m.fc,$,K,Me),r(m.cc,m.dc,J,he,Ue),r(m.Mc,m.Nc,Ie,Te,Ue),S--):1&je||H($,K,null,null,J,he,Ie,Te,J,he,Ie,Te,D,U+x.A,null,null,Me),S}function Fi(f,m,S){var x=f.F,D=[f.J];if(x!=null){var U=f.U,H=m.ba.S,$=H==bu||H==Eu;m=m.ba.f.RGBA;var K=[0],J=f.ka;K[0]=f.T,f.Kb&&(J==0?--K[0]:(--J,D[0]-=f.width),f.j+f.ka+f.T==f.o&&(K[0]=f.o-f.j-J));var he=m.eb;J=m.fb+J*m.A,f=_n(x,D[0],f.width,U,K,he,J+($?0:3),m.A),e(S==K),f&&Yt(H)&&_i(he,J,$,U,K,m.A)}return 0}function Jn(f){var m=f.ma,S=m.ba.S,x=11>S,D=S==ia||S==Su||S==bu||S==Cn||S==12||Yt(S);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!pl(m.Oa,f,D?11:12))return 0;if(D&&Yt(S)&&$e(),f.da)alert("todo:use_scaling");else{if(x){if(m.Ib=xt,f.Kb){if(S=f.U+1>>1,m.memory=o(f.U+2*S),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+f.U,m.Mc=m.cc,m.Nc=m.dc+S,m.Ib=Zt,$e()}}else alert("todo:EmitYUV");D&&(m.Jb=Fi,x&&be())}if(x&&!kr){for(f=0;256>f;++f)bi[f]=89858*(f-128)+ks>>xo,Ei[f]=-22014*(f-128)+ks,Nl[f]=-45773*(f-128),Ba[f]=113618*(f-128)+ks>>xo;for(f=wn;f<An;++f)m=76283*(f-16)+ks>>xo,sc[f-wn]=dn(m,255),gf[f-wn]=dn(m+8>>4,15);kr=1}return 1}function Sr(f){var m=f.ma,S=f.U,x=f.T;return e(!(1&f.ka)),0>=S||0>=x?0:(S=m.Ib(f,m),m.Jb!=null&&m.Jb(f,m,S),m.Dc+=S,1)}function pi(f){f.ma.memory=null}function ft(f,m,S,x){return ce(f,8)!=47?0:(m[0]=ce(f,14)+1,S[0]=ce(f,14)+1,x[0]=ce(f,1),ce(f,3)!=0?0:!f.h)}function Mr(f,m){if(4>f)return f+1;var S=f-2>>1;return(2+(1&f)<<S)+ce(m,S)+1}function nr(f,m){return 120<m?m-120:1<=(S=((S=vp[m-1])>>4)*f+(8-(15&S)))?S:1;var S}function rr(f,m,S){var x=W(S),D=f[m+=255&x].g-8;return 0<D&&(te(S,S.u+8),x=W(S),m+=f[m].value,m+=x&(1<<D)-1),te(S,S.u+f[m].g),f[m].value}function Ln(f,m,S){return S.g+=f.g,S.value+=f.value<<m>>>0,e(8>=S.g),f.g}function Rn(f,m,S){var x=f.xc;return e((m=x==0?0:f.vc[f.md*(S>>x)+(m>>x)])<f.Wb),f.Ya[m]}function jn(f,m,S,x){var D=f.ab,U=f.c*m,H=f.C;m=H+m;var $=S,K=x;for(x=f.Ta,S=f.Ua;0<D--;){var J=f.gc[D],he=H,Ie=m,Te=$,Se=K,qe=(K=x,$=S,J.Ea);switch(e(he<Ie),e(Ie<=J.nc),J.hc){case 2:ec(Te,Se,(Ie-he)*qe,K,$);break;case 0:var De=he,de=Ie,pe=K,je=$,Me=(ut=J).Ea;De==0&&(Ca(Te,Se,null,null,1,pe,je),ct(Te,Se+1,0,0,Me-1,pe,je+1),Se+=Me,je+=Me,++De);for(var Ue=1<<ut.b,ht=Ue-1,lt=We(Me,ut.b),Tt=ut.K,ut=ut.w+(De>>ut.b)*lt;De<de;){var on=Tt,an=ut,en=1;for(_o(Te,Se,pe,je-Me,1,pe,je);en<Me;){var Gt=(en&~ht)+Ue;Gt>Me&&(Gt=Me),(0,Js[on[an++]>>8&15])(Te,Se+ +en,pe,je+en-Me,Gt-en,pe,je+en),en=Gt}Se+=Me,je+=Me,++De&ht||(ut+=lt)}Ie!=J.nc&&r(K,$-qe,K,$+(Ie-he-1)*qe,qe);break;case 1:for(qe=Te,de=Se,Me=(Te=J.Ea)-(je=Te&~(pe=(Se=1<<J.b)-1)),De=We(Te,J.b),Ue=J.K,J=J.w+(he>>J.b)*De;he<Ie;){for(ht=Ue,lt=J,Tt=new nt,ut=de+je,on=de+Te;de<ut;)jt(ht[lt++],Tt),ta(Tt,qe,de,Se,K,$),de+=Se,$+=Se;de<on&&(jt(ht[lt++],Tt),ta(Tt,qe,de,Me,K,$),de+=Me,$+=Me),++he&pe||(J+=De)}break;case 3:if(Te==K&&Se==$&&0<J.b){for(de=K,Te=qe=$+(Ie-he)*qe-(je=(Ie-he)*We(J.Ea,J.b)),Se=K,pe=$,De=[],je=(Me=je)-1;0<=je;--je)De[je]=Se[pe+je];for(je=Me-1;0<=je;--je)de[Te+je]=De[je];ri(J,he,Ie,K,qe,K,$)}else ri(J,he,Ie,Te,Se,K,$)}$=x,K=S}K!=S&&r(x,S,$,K,U)}function js(f,m){var S=f.V,x=f.Ba+f.c*f.C,D=m-f.C;if(e(m<=f.l.o),e(16>=D),0<D){var U=f.l,H=f.Ta,$=f.Ua,K=U.width;if(jn(f,D,S,x),D=$=[$],e((S=f.C)<(x=m)),e(U.v<U.va),x>U.o&&(x=U.o),S<U.j){var J=U.j-S;S=U.j,D[0]+=J*K}if(S>=x?S=0:(D[0]+=4*U.v,U.ka=S-U.j,U.U=U.va-U.v,U.T=x-S,S=1),S){if($=$[0],11>(S=f.ca).S){var he=S.f.RGBA,Ie=(x=S.S,D=U.U,U=U.T,J=he.eb,he.A),Te=U;for(he=he.fb+f.Ma*he.A;0<Te--;){var Se=H,qe=$,De=D,de=J,pe=he;switch(x){case tc:ii(Se,qe,De,de,pe);break;case ia:qr(Se,qe,De,de,pe);break;case Il:qr(Se,qe,De,de,pe),_i(de,pe,0,De,1,0);break;case cf:So(Se,qe,De,de,pe);break;case Su:bn(Se,qe,De,de,pe,1);break;case Fa:bn(Se,qe,De,de,pe,1),_i(de,pe,0,De,1,0);break;case bu:bn(Se,qe,De,de,pe,0);break;case Eu:bn(Se,qe,De,de,pe,0),_i(de,pe,1,De,1,0);break;case Cn:na(Se,qe,De,de,pe);break;case Au:na(Se,qe,De,de,pe),Nn(de,pe,De,1,0);break;case nc:wo(Se,qe,De,de,pe);break;default:e(0)}$+=K,he+=Ie}f.Ma+=U}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=S.height)}}f.C=m,e(f.C<=f.i)}function ys(f){var m;if(0<f.ua)return 0;for(m=0;m<f.Wb;++m){var S=f.Ya[m].G,x=f.Ya[m].H;if(0<S[1][x[1]+0].g||0<S[2][x[2]+0].g||0<S[3][x[3]+0].g)return 0}return 1}function jr(f,m,S,x,D,U){if(f.Z!=0){var H=f.qd,$=f.rd;for(e(Wr[f.Z]!=null);m<S;++m)Wr[f.Z](H,$,x,D,x,D,U),H=x,$=D,D+=U;f.qd=H,f.rd=$}}function gi(f,m){var S=f.l.ma,x=S.Z==0||S.Z==1?f.l.j:f.C;if(x=f.C<x?x:f.C,e(m<=f.l.o),m>x){var D=f.l.width,U=S.ca,H=S.tb+D*x,$=f.V,K=f.Ba+f.c*x,J=f.gc;e(f.ab==1),e(J[0].hc==3),yu(J[0],x,m,$,K,U,H),jr(S,x,m,U,H,D)}f.C=f.Ma=m}function Xn(f,m,S,x,D,U,H){var $=f.$/x,K=f.$%x,J=f.m,he=f.s,Ie=S+f.$,Te=Ie;D=S+x*D;var Se=S+x*U,qe=280+he.ua,De=f.Pb?$:16777216,de=0<he.ua?he.Wa:null,pe=he.wc,je=Ie<Se?Rn(he,K,$):null;e(f.C<U),e(Se<=D);var Me=!1;e:for(;;){for(;Me||Ie<Se;){var Ue=0;if($>=De){var ht=Ie-S;e((De=f).Pb),De.wd=De.m,De.xd=ht,0<De.s.ua&&Ce(De.s.Wa,De.s.vb),De=$+ic}if(K&pe||(je=Rn(he,K,$)),e(je!=null),je.Qb&&(m[Ie]=je.qb,Me=!0),!Me)if(oe(J),je.jc){Ue=J,ht=m;var lt=Ie,Tt=je.pd[W(Ue)&Kn-1];e(je.jc),256>Tt.g?(te(Ue,Ue.u+Tt.g),ht[lt]=Tt.value,Ue=0):(te(Ue,Ue.u+Tt.g-256),e(256<=Tt.value),Ue=Tt.value),Ue==0&&(Me=!0)}else Ue=rr(je.G[0],je.H[0],J);if(J.h)break;if(Me||256>Ue){if(!Me)if(je.nd)m[Ie]=(je.qb|Ue<<8)>>>0;else{if(oe(J),Me=rr(je.G[1],je.H[1],J),oe(J),ht=rr(je.G[2],je.H[2],J),lt=rr(je.G[3],je.H[3],J),J.h)break;m[Ie]=(lt<<24|Me<<16|Ue<<8|ht)>>>0}if(Me=!1,++Ie,++K>=x&&(K=0,++$,H!=null&&$<=U&&!($%16)&&H(f,$),de!=null))for(;Te<Ie;)Ue=m[Te++],de.X[(506832829*Ue&4294967295)>>>de.Mb]=Ue}else if(280>Ue){if(Ue=Mr(Ue-256,J),ht=rr(je.G[4],je.H[4],J),oe(J),ht=nr(x,ht=Mr(ht,J)),J.h)break;if(Ie-S<ht||D-Ie<Ue)break e;for(lt=0;lt<Ue;++lt)m[Ie+lt]=m[Ie+lt-ht];for(Ie+=Ue,K+=Ue;K>=x;)K-=x,++$,H!=null&&$<=U&&!($%16)&&H(f,$);if(e(Ie<=D),K&pe&&(je=Rn(he,K,$)),de!=null)for(;Te<Ie;)Ue=m[Te++],de.X[(506832829*Ue&4294967295)>>>de.Mb]=Ue}else{if(!(Ue<qe))break e;for(Me=Ue-280,e(de!=null);Te<Ie;)Ue=m[Te++],de.X[(506832829*Ue&4294967295)>>>de.Mb]=Ue;Ue=Ie,e(!(Me>>>(ht=de).Xa)),m[Ue]=ht.X[Me],Me=!0}Me||e(J.h==Y(J))}if(f.Pb&&J.h&&Ie<D)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Ce(f.s.vb,f.s.Wa);else{if(J.h)break e;H!=null&&H(f,$>U?U:$),f.a=0,f.$=Ie-S}return 1}return f.a=3,0}function Vr(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var m=f.Wa;m!=null&&(m.X=null),f.vb=null,e(f!=null)}function Wn(){var f=new dl;return f==null?null:(f.a=0,f.xb=xl,di("Predictor","VP8LPredictors"),di("Predictor","VP8LPredictors_C"),di("PredictorAdd","VP8LPredictorsAdd"),di("PredictorAdd","VP8LPredictorsAdd_C"),ec=mt,ta=It,ii=it,qr=rn,na=Ht,wo=_r,So=un,A.VP8LMapColor32b=wl,A.VP8LMapColor8b=Sl,f)}function Mi(f,m,S,x,D){var U=1,H=[f],$=[m],K=x.m,J=x.s,he=null,Ie=0;e:for(;;){if(S)for(;U&&ce(K,1);){var Te=H,Se=$,qe=x,De=1,de=qe.m,pe=qe.gc[qe.ab],je=ce(de,2);if(qe.Oc&1<<je)U=0;else{switch(qe.Oc|=1<<je,pe.hc=je,pe.Ea=Te[0],pe.nc=Se[0],pe.K=[null],++qe.ab,e(4>=qe.ab),je){case 0:case 1:pe.b=ce(de,3)+2,De=Mi(We(pe.Ea,pe.b),We(pe.nc,pe.b),0,qe,pe.K),pe.K=pe.K[0];break;case 3:var Me,Ue=ce(de,8)+1,ht=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Te[0]=We(pe.Ea,ht),pe.b=ht,Me=De=Mi(Ue,1,0,qe,pe.K)){var lt,Tt=Ue,ut=pe,on=1<<(8>>ut.b),an=o(on);if(an==null)Me=0;else{var en=ut.K[0],Gt=ut.w;for(an[0]=ut.K[0][0],lt=1;lt<1*Tt;++lt)an[lt]=ze(en[Gt+lt],an[lt-1]);for(;lt<4*on;++lt)an[lt]=0;ut.K[0]=null,ut.K[0]=an,Me=1}}De=Me;break;case 2:break;default:e(0)}U=De}}if(H=H[0],$=$[0],U&&ce(K,1)&&!(U=1<=(Ie=ce(K,4))&&11>=Ie)){x.a=3;break e}var Sn;if(Sn=U)t:{var In,Vt,Bn,ai=x,Zn=H,cr=$,pn=Ie,$r=S,Gr=ai.m,Un=ai.s,hr=[null],Lr=1,Ai=0,ls=ff[pn];n:for(;;){if($r&&ce(Gr,1)){var zn=ce(Gr,3)+2,or=We(Zn,zn),Wi=We(cr,zn),aa=or*Wi;if(!Mi(or,Wi,0,ai,hr))break n;for(hr=hr[0],Un.xc=zn,In=0;In<aa;++In){var No=hr[In]>>8&65535;hr[In]=No,No>=Lr&&(Lr=No+1)}}if(Gr.h)break n;for(Vt=0;5>Vt;++Vt){var gn=Ma[Vt];!Vt&&0<pn&&(gn+=1<<pn),Ai<gn&&(Ai=gn)}var no=l(Lr*ls,C),oc=Lr,lh=l(oc,ie);if(lh==null)var us=null;else e(65536>=oc),us=lh;var cs=o(Ai);if(us==null||cs==null||no==null){ai.a=1;break n}var za=no;for(In=Bn=0;In<Lr;++In){var hs=us[In],Co=hs.G,qa=hs.H,Cl=0,$i=1,kl=0;for(Vt=0;5>Vt;++Vt){gn=Ma[Vt],Co[Vt]=za,qa[Vt]=Bn,!Vt&&0<pn&&(gn+=1<<pn);i:{var la,ko=gn,Ll=ai,ro=cs,vf=za,uh=Bn,Dn=0,Ls=Ll.m,ch=ce(Ls,1);if(i(ro,0,0,ko),ch){var hh=ce(Ls,1)+1,ac=ce(Ls,1),lc=ce(Ls,ac==0?1:8);ro[lc]=1,hh==2&&(ro[lc=ce(Ls,8)]=1);var io=1}else{var Mn=o(19),ar=ce(Ls,4)+4;if(19<ar){Ll.a=3;var er=0;break i}for(la=0;la<ar;++la)Mn[mp[la]]=ce(Ls,3);var Rl=void 0,Lo=void 0,Ol=Ll,bp=Mn,fr=ko,uc=ro,Nu=0,so=Ol.m,Rs=8,Gi=l(128,C);r:for(;P(Gi,0,7,bp,19);){if(ce(so,1)){var Cu=2+2*ce(so,3);if((Rl=2+ce(so,Cu))>fr)break r}else Rl=fr;for(Lo=0;Lo<fr&&Rl--;){oe(so);var cc=Gi[0+(127&W(so))];te(so,so.u+cc.g);var ua=cc.value;if(16>ua)uc[Lo++]=ua,ua!=0&&(Rs=ua);else{var yf=ua==16,fh=ua-16,_f=rc[fh],dh=ce(so,Iu[fh])+_f;if(Lo+dh>fr)break r;for(var wf=yf?Rs:0;0<dh--;)uc[Lo++]=wf}}Nu=1;break r}Nu||(Ol.a=3),io=Nu}(io=io&&!Ls.h)&&(Dn=P(vf,uh,8,ro,ko)),io&&Dn!=0?er=Dn:(Ll.a=3,er=0)}if(er==0)break n;if($i&&hf[Vt]==1&&($i=za[Bn].g==0),Cl+=za[Bn].g,Bn+=er,3>=Vt){var Dl,hc=cs[0];for(Dl=1;Dl<gn;++Dl)cs[Dl]>hc&&(hc=cs[Dl]);kl+=hc}}if(hs.nd=$i,hs.Qb=0,$i&&(hs.qb=(Co[3][qa[3]+0].value<<24|Co[1][qa[1]+0].value<<16|Co[2][qa[2]+0].value)>>>0,Cl==0&&256>Co[0][qa[0]+0].value&&(hs.Qb=1,hs.qb+=Co[0][qa[0]+0].value<<8)),hs.jc=!hs.Qb&&6>kl,hs.jc){var ku,Ki=hs;for(ku=0;ku<Kn;++ku){var Ro=ku,Os=Ki.pd[Ro],Ha=Ki.G[0][Ki.H[0]+Ro];256<=Ha.value?(Os.g=Ha.g+256,Os.value=Ha.value):(Os.g=0,Os.value=0,Ro>>=Ln(Ha,8,Os),Ro>>=Ln(Ki.G[1][Ki.H[1]+Ro],16,Os),Ro>>=Ln(Ki.G[2][Ki.H[2]+Ro],0,Os),Ln(Ki.G[3][Ki.H[3]+Ro],24,Os))}}}Un.vc=hr,Un.Wb=Lr,Un.Ya=us,Un.yc=no,Sn=1;break t}Sn=0}if(!(U=Sn)){x.a=3;break e}if(0<Ie){if(J.ua=1<<Ie,!st(J.Wa,Ie)){x.a=1,U=0;break e}}else J.ua=0;var fc=x,dc=H,Sf=$,pc=fc.s,gc=pc.xc;if(fc.c=dc,fc.i=Sf,pc.md=We(dc,gc),pc.wc=gc==0?-1:(1<<gc)-1,S){x.xb=to;break e}if((he=o(H*$))==null){x.a=1,U=0;break e}U=(U=Xn(x,he,0,H,$,$,null))&&!K.h;break e}return U?(D!=null?D[0]=he:(e(he==null),e(S)),x.$=0,S||Vr(J)):Vr(J),U}function _s(f,m){var S=f.c*f.i,x=S+m+16*m;return e(f.c<=m),f.V=o(x),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+S+m,1)}function ws(f,m){var S=f.C,x=m-S,D=f.V,U=f.Ba+f.c*S;for(e(m<=f.l.o);0<x;){var H=16<x?16:x,$=f.l.ma,K=f.l.width,J=K*H,he=$.ca,Ie=$.tb+K*S,Te=f.Ta,Se=f.Ua;jn(f,H,D,U),Qn(Te,Se,he,Ie,J),jr($,S,S+H,he,Ie,K),x-=H,D+=H*f.c,S+=H}e(S==m),f.C=f.Ma=m}function Ss(){this.ub=this.yd=this.td=this.Rb=0}function Vs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function co(){this.Fb=this.Bb=this.Cb=0,this.Zb=o(4),this.Lb=o(4)}function al(){this.Yb=function(){var f=[];return function m(S,x,D){for(var U=D[x],H=0;H<U&&(S.push(D.length>x+1?[]:0),!(D.length<x+1));H++)m(S[H],x+1,D)}(f,0,[3,11]),f}()}function En(){this.jb=o(3),this.Wc=u([4,8],al),this.Xc=u([4,17],al)}function ll(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new o(4),this.od=new o(4)}function Xi(){this.ld=this.La=this.dd=this.tc=0}function bs(){this.Na=this.la=0}function mi(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function ho(){this.ad=o(384),this.Za=0,this.Ob=o(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ul(){this.uc=this.M=this.Nb=0,this.wa=Array(new Xi),this.Y=0,this.ya=Array(new ho),this.aa=0,this.l=new fo}function Bs(){this.y=o(16),this.f=o(8),this.ea=o(8)}function Xr(){this.cb=this.a=0,this.sc="",this.m=new X,this.Od=new Ss,this.Kc=new Vs,this.ed=new ll,this.Qa=new co,this.Ic=this.$c=this.Aa=0,this.D=new ul,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=l(8,X),this.ia=0,this.pb=l(4,mi),this.Pa=new En,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new Bs),this.Hd=0,this.rb=Array(new bs),this.sb=0,this.wa=Array(new Xi),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new ho),this.L=this.aa=0,this.gd=u([4,2],Xi),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ar(){var f=new Xr;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,ja||(ja=po)),f}function On(f,m,S){return f.a==0&&(f.a=m,f.sc=S,f.cb=0),0}function Ea(f,m,S){return 3<=S&&f[m+0]==157&&f[m+1]==1&&f[m+2]==42}function Aa(f,m){if(f==null)return 0;if(f.a=0,f.sc="OK",m==null)return On(f,2,"null VP8Io passed to VP8GetHeaders()");var S=m.data,x=m.w,D=m.ha;if(4>D)return On(f,7,"Truncated header.");var U=S[x+0]|S[x+1]<<8|S[x+2]<<16,H=f.Od;if(H.Rb=!(1&U),H.td=U>>1&7,H.yd=U>>4&1,H.ub=U>>5,3<H.td)return On(f,3,"Incorrect keyframe parameters.");if(!H.yd)return On(f,4,"Frame not displayable.");x+=3,D-=3;var $=f.Kc;if(H.Rb){if(7>D)return On(f,7,"cannot parse picture header");if(!Ea(S,x,D))return On(f,3,"Bad code word");$.c=16383&(S[x+4]<<8|S[x+3]),$.Td=S[x+4]>>6,$.i=16383&(S[x+6]<<8|S[x+5]),$.Ud=S[x+6]>>6,x+=7,D-=7,f.za=$.c+15>>4,f.Ub=$.i+15>>4,m.width=$.c,m.height=$.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,i((U=f.Pa).jb,0,255,U.jb.length),e((U=f.Qa)!=null),U.Cb=0,U.Bb=0,U.Fb=1,i(U.Zb,0,0,U.Zb.length),i(U.Lb,0,0,U.Lb)}if(H.ub>D)return On(f,7,"bad partition length");Ne(U=f.m,S,x,H.ub),x+=H.ub,D-=H.ub,H.Rb&&($.Ld=ue(U),$.Kd=ue(U)),$=f.Qa;var K,J=f.Pa;if(e(U!=null),e($!=null),$.Cb=ue(U),$.Cb){if($.Bb=ue(U),ue(U)){for($.Fb=ue(U),K=0;4>K;++K)$.Zb[K]=ue(U)?ye(U,7):0;for(K=0;4>K;++K)$.Lb[K]=ue(U)?ye(U,6):0}if($.Bb)for(K=0;3>K;++K)J.jb[K]=ue(U)?Ae(U,8):255}else $.Bb=0;if(U.Ka)return On(f,3,"cannot parse segment header");if(($=f.ed).zd=ue(U),$.Tb=Ae(U,6),$.wb=Ae(U,3),$.Pc=ue(U),$.Pc&&ue(U)){for(J=0;4>J;++J)ue(U)&&($.vd[J]=ye(U,6));for(J=0;4>J;++J)ue(U)&&($.od[J]=ye(U,6))}if(f.L=$.Tb==0?0:$.zd?1:2,U.Ka)return On(f,3,"cannot parse filter header");var he=D;if(D=K=x,x=K+he,$=he,f.Xb=(1<<Ae(f.m,2))-1,he<3*(J=f.Xb))S=7;else{for(K+=3*J,$-=3*J,he=0;he<J;++he){var Ie=S[D+0]|S[D+1]<<8|S[D+2]<<16;Ie>$&&(Ie=$),Ne(f.Jc[+he],S,K,Ie),K+=Ie,$-=Ie,D+=3}Ne(f.Jc[+J],S,K,$),S=K<x?0:5}if(S!=0)return On(f,S,"cannot parse partitions");for(S=Ae(K=f.m,7),D=ue(K)?ye(K,4):0,x=ue(K)?ye(K,4):0,$=ue(K)?ye(K,4):0,J=ue(K)?ye(K,4):0,K=ue(K)?ye(K,4):0,he=f.Qa,Ie=0;4>Ie;++Ie){if(he.Cb){var Te=he.Zb[Ie];he.Fb||(Te+=S)}else{if(0<Ie){f.pb[Ie]=f.pb[0];continue}Te=S}var Se=f.pb[Ie];Se.Sc[0]=Tl[dn(Te+D,127)],Se.Sc[1]=Tu[dn(Te+0,127)],Se.Eb[0]=2*Tl[dn(Te+x,127)],Se.Eb[1]=101581*Tu[dn(Te+$,127)]>>16,8>Se.Eb[1]&&(Se.Eb[1]=8),Se.Qc[0]=Tl[dn(Te+J,117)],Se.Qc[1]=Tu[dn(Te+K,127)],Se.lc=Te+K}if(!H.Rb)return On(f,4,"Not a key frame.");for(ue(U),H=f.Pa,S=0;4>S;++S){for(D=0;8>D;++D)for(x=0;3>x;++x)for($=0;11>$;++$)J=ge(U,_p[S][D][x][$])?Ae(U,8):pf[S][D][x][$],H.Wc[S][D].Yb[x][$]=J;for(D=0;17>D;++D)H.Xc[S][D]=H.Wc[S][sh[D]]}return f.kc=ue(U),f.kc&&(f.Bd=Ae(U,8)),f.cb=1}function po(f,m,S,x,D,U,H){var $=m[D].Yb[S];for(S=0;16>D;++D){if(!ge(f,$[S+0]))return D;for(;!ge(f,$[S+1]);)if($=m[++D].Yb[0],S=0,D==16)return 16;var K=m[D+1].Yb;if(ge(f,$[S+2])){var J=f,he=0;if(ge(J,(Te=$)[(Ie=S)+3]))if(ge(J,Te[Ie+6])){for($=0,Ie=2*(he=ge(J,Te[Ie+8]))+(Te=ge(J,Te[Ie+9+he])),he=0,Te=rh[Ie];Te[$];++$)he+=he+ge(J,Te[$]);he+=3+(8<<Ie)}else ge(J,Te[Ie+7])?(he=7+2*ge(J,165),he+=ge(J,145)):he=5+ge(J,159);else he=ge(J,Te[Ie+4])?3+ge(J,Te[Ie+5]):2;$=K[2]}else he=1,$=K[1];K=H+ih[D],0>(J=f).b&&ve(J);var Ie,Te=J.b,Se=(Ie=J.Ca>>1)-(J.I>>Te)>>31;--J.b,J.Ca+=Se,J.Ca|=1,J.I-=(Ie+1&Se)<<Te,U[K]=((he^Se)-Se)*x[(0<D)+0]}return 16}function Us(f){var m=f.rb[f.sb-1];m.la=0,m.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function zs(f,m){if(f==null)return 0;if(m==null)return On(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Aa(f,m))return 0;if(e(f.cb),m.ac==null||m.ac(m)){m.ob&&(f.L=0);var S=Ua[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=m.v-S>>4,f.zb=m.j-S>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=m.o+15+S>>4,f.Hb=m.va+15+S>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var x=f.ed;for(S=0;4>S;++S){var D;if(f.Qa.Cb){var U=f.Qa.Lb[S];f.Qa.Fb||(U+=x.Tb)}else U=x.Tb;for(D=0;1>=D;++D){var H=f.gd[S][D],$=U;if(x.Pc&&($+=x.vd[0],D&&($+=x.od[0])),0<($=0>$?0:63<$?63:$)){var K=$;0<x.wb&&(K=4<x.wb?K>>2:K>>1)>9-x.wb&&(K=9-x.wb),1>K&&(K=1),H.dd=K,H.tc=2*$+K,H.ld=40<=$?2:15<=$?1:0}else H.tc=0;H.La=D}}}S=0}else On(f,6,"Frame setup failed"),S=f.a;if(S=S==0){if(S){f.$c=0,0<f.Aa||(f.Ic=Po);e:{S=f.Ic,x=4*(K=f.za);var J=32*K,he=K+1,Ie=0<f.L?K*(0<f.Aa?2:1):0,Te=(f.Aa==2?2:1)*K;if((H=x+832+(D=3*(16*S+Ua[f.L])/2*J)+(U=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=H)S=0;else{if(H>f.Vb){if(f.Vb=0,f.Ec=o(H),f.Fc=0,f.Ec==null){S=On(f,1,"no memory during frame initialization.");break e}f.Vb=H}H=f.Ec,$=f.Fc,f.Ac=H,f.Bc=$,$+=x,f.Gd=l(J,Bs),f.Hd=0,f.rb=l(he+1,bs),f.sb=1,f.wa=Ie?l(Ie,Xi):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=K),e(!0),f.oc=H,f.pc=$,$+=832,f.ya=l(Te,ho),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=K),f.R=16*K,f.B=8*K,K=(J=Ua[f.L])*f.R,J=J/2*f.B,f.sa=H,f.ta=$+K,f.qa=f.sa,f.ra=f.ta+16*S*f.R+J,f.Ha=f.qa,f.Ia=f.ra+8*S*f.B+J,f.$c=0,$+=D,f.mb=U?H:null,f.nb=U?$:null,e($+U<=f.Fc+f.Vb),Us(f),i(f.Ac,f.Bc,0,x),S=1}}if(S){if(m.ka=0,m.y=f.sa,m.O=f.ta,m.f=f.qa,m.N=f.ra,m.ea=f.Ha,m.Vd=f.Ia,m.fa=f.R,m.Rc=f.B,m.F=null,m.J=0,!wu){for(S=-255;255>=S;++S)sr[255+S]=0>S?-S:S;for(S=-1020;1020>=S;++S)Zs[1020+S]=-128>S?-128:127<S?127:S;for(S=-112;112>=S;++S)El[112+S]=-16>S?-16:15<S?15:S;for(S=-255;510>=S;++S)Da[255+S]=0>S?0:255<S?255:S;wu=1}bl=Kt,bo=Hs,Eo=Es,Hr=vn,qi=As,cn=qs,ka=yo,_u=Vn,La=rs,Ra=Pa,Oa=Ui,Hi=Ts,Ao=Qs,Xs=is,Io=Ur,To=ei,ra=Gn,Cr=xa,as[0]=ns,as[1]=cl,as[2]=yi,as[3]=ts,as[4]=Ia,as[5]=Qo,as[6]=xr,as[7]=Yo,as[8]=mo,as[9]=Is,oi[0]=ji,oi[1]=hl,oi[2]=es,oi[3]=go,oi[4]=sn,oi[5]=Vi,oi[6]=vi,wi[0]=Br,wi[1]=Ko,wi[2]=fl,wi[3]=Zr,wi[4]=fn,wi[5]=$s,wi[6]=Ta,S=1}else S=0}S&&(S=function(Se,qe){for(Se.M=0;Se.M<Se.Va;++Se.M){var De,de=Se.Jc[Se.M&Se.Xb],pe=Se.m,je=Se;for(De=0;De<je.za;++De){var Me=pe,Ue=je,ht=Ue.Ac,lt=Ue.Bc+4*De,Tt=Ue.zc,ut=Ue.ya[Ue.aa+De];if(Ue.Qa.Bb?ut.$b=ge(Me,Ue.Pa.jb[0])?2+ge(Me,Ue.Pa.jb[2]):ge(Me,Ue.Pa.jb[1]):ut.$b=0,Ue.kc&&(ut.Ad=ge(Me,Ue.Bd)),ut.Za=!ge(Me,145)+0,ut.Za){var on=ut.Ob,an=0;for(Ue=0;4>Ue;++Ue){var en,Gt=Tt[0+Ue];for(en=0;4>en;++en){Gt=yp[ht[lt+en]][Gt];for(var Sn=df[ge(Me,Gt[0])];0<Sn;)Sn=df[2*Sn+ge(Me,Gt[Sn])];Gt=-Sn,ht[lt+en]=Gt}r(on,an,ht,lt,4),an+=4,Tt[0+Ue]=Gt}}else Gt=ge(Me,156)?ge(Me,128)?1:3:ge(Me,163)?2:0,ut.Ob[0]=Gt,i(ht,lt,Gt,4),i(Tt,0,Gt,4);ut.Dd=ge(Me,142)?ge(Me,114)?ge(Me,183)?1:3:2:0}if(je.m.Ka)return On(Se,7,"Premature end-of-partition0 encountered.");for(;Se.ja<Se.za;++Se.ja){if(je=de,Me=(pe=Se).rb[pe.sb-1],ht=pe.rb[pe.sb+pe.ja],De=pe.ya[pe.aa+pe.ja],lt=pe.kc?De.Ad:0)Me.la=ht.la=0,De.Za||(Me.Na=ht.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var In,Vt;if(Me=ht,ht=je,lt=pe.Pa.Xc,Tt=pe.ya[pe.aa+pe.ja],ut=pe.pb[Tt.$b],Ue=Tt.ad,on=0,an=pe.rb[pe.sb-1],Gt=en=0,i(Ue,on,0,384),Tt.Za)var Bn=0,ai=lt[3];else{Sn=o(16);var Zn=Me.Na+an.Na;if(Zn=ja(ht,lt[1],Zn,ut.Eb,0,Sn,0),Me.Na=an.Na=(0<Zn)+0,1<Zn)bl(Sn,0,Ue,on);else{var cr=Sn[0]+3>>3;for(Sn=0;256>Sn;Sn+=16)Ue[on+Sn]=cr}Bn=1,ai=lt[0]}var pn=15&Me.la,$r=15&an.la;for(Sn=0;4>Sn;++Sn){var Gr=1&$r;for(cr=Vt=0;4>cr;++cr)pn=pn>>1|(Gr=(Zn=ja(ht,ai,Zn=Gr+(1&pn),ut.Sc,Bn,Ue,on))>Bn)<<7,Vt=Vt<<2|(3<Zn?3:1<Zn?2:Ue[on+0]!=0),on+=16;pn>>=4,$r=$r>>1|Gr<<7,en=(en<<8|Vt)>>>0}for(ai=pn,Bn=$r>>4,In=0;4>In;In+=2){for(Vt=0,pn=Me.la>>4+In,$r=an.la>>4+In,Sn=0;2>Sn;++Sn){for(Gr=1&$r,cr=0;2>cr;++cr)Zn=Gr+(1&pn),pn=pn>>1|(Gr=0<(Zn=ja(ht,lt[2],Zn,ut.Qc,0,Ue,on)))<<3,Vt=Vt<<2|(3<Zn?3:1<Zn?2:Ue[on+0]!=0),on+=16;pn>>=2,$r=$r>>1|Gr<<5}Gt|=Vt<<4*In,ai|=pn<<4<<In,Bn|=(240&$r)<<In}Me.la=ai,an.la=Bn,Tt.Hc=en,Tt.Gc=Gt,Tt.ia=43690&Gt?0:ut.ia,lt=!(en|Gt)}if(0<pe.L&&(pe.wa[pe.Y+pe.ja]=pe.gd[De.$b][De.Za],pe.wa[pe.Y+pe.ja].La|=!lt),je.Ka)return On(Se,7,"Premature end-of-file encountered.")}if(Us(Se),pe=qe,je=1,De=(de=Se).D,Me=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)e:{if(De.M=de.M,De.uc=Me,Ns(de,De),je=1,De=(Vt=de.D).Nb,Me=(Gt=Ua[de.L])*de.R,ht=Gt/2*de.B,Sn=16*De*de.R,cr=8*De*de.B,lt=de.sa,Tt=de.ta-Me+Sn,ut=de.qa,Ue=de.ra-ht+cr,on=de.Ha,an=de.Ia-ht+cr,$r=(pn=Vt.M)==0,en=pn>=de.Va-1,de.Aa==2&&Ns(de,Vt),Vt.uc)for(Gr=(Zn=de).D.M,e(Zn.D.uc),Vt=Zn.yb;Vt<Zn.Hb;++Vt){Bn=Vt,ai=Gr;var Un=(hr=(gn=Zn).D).Nb;In=gn.R;var hr=hr.wa[hr.Y+Bn],Lr=gn.sa,Ai=gn.ta+16*Un*In+16*Bn,ls=hr.dd,zn=hr.tc;if(zn!=0)if(e(3<=zn),gn.L==1)0<Bn&&To(Lr,Ai,In,zn+4),hr.La&&Cr(Lr,Ai,In,zn),0<ai&&Io(Lr,Ai,In,zn+4),hr.La&&ra(Lr,Ai,In,zn);else{var or=gn.B,Wi=gn.qa,aa=gn.ra+8*Un*or+8*Bn,No=gn.Ha,gn=gn.Ia+8*Un*or+8*Bn;Un=hr.ld,0<Bn&&(_u(Lr,Ai,In,zn+4,ls,Un),Ra(Wi,aa,No,gn,or,zn+4,ls,Un)),hr.La&&(Hi(Lr,Ai,In,zn,ls,Un),Xs(Wi,aa,No,gn,or,zn,ls,Un)),0<ai&&(ka(Lr,Ai,In,zn+4,ls,Un),La(Wi,aa,No,gn,or,zn+4,ls,Un)),hr.La&&(Oa(Lr,Ai,In,zn,ls,Un),Ao(Wi,aa,No,gn,or,zn,ls,Un))}}if(de.ia&&alert("todo:DitherRow"),pe.put!=null){if(Vt=16*pn,pn=16*(pn+1),$r?(pe.y=de.sa,pe.O=de.ta+Sn,pe.f=de.qa,pe.N=de.ra+cr,pe.ea=de.Ha,pe.W=de.Ia+cr):(Vt-=Gt,pe.y=lt,pe.O=Tt,pe.f=ut,pe.N=Ue,pe.ea=on,pe.W=an),en||(pn-=Gt),pn>pe.o&&(pn=pe.o),pe.F=null,pe.J=null,de.Fa!=null&&0<de.Fa.length&&Vt<pn&&(pe.J=ea(de,pe,Vt,pn-Vt),pe.F=de.mb,pe.F==null&&pe.F.length==0)){je=On(de,3,"Could not decode alpha data.");break e}Vt<pe.j&&(Gt=pe.j-Vt,Vt=pe.j,e(!(1&Gt)),pe.O+=de.R*Gt,pe.N+=de.B*(Gt>>1),pe.W+=de.B*(Gt>>1),pe.F!=null&&(pe.J+=pe.width*Gt)),Vt<pn&&(pe.O+=pe.v,pe.N+=pe.v>>1,pe.W+=pe.v>>1,pe.F!=null&&(pe.J+=pe.v),pe.ka=Vt-pe.j,pe.U=pe.va-pe.v,pe.T=pn-Vt,je=pe.put(pe))}De+1!=de.Ic||en||(r(de.sa,de.ta-Me,lt,Tt+16*de.R,Me),r(de.qa,de.ra-ht,ut,Ue+8*de.B,ht),r(de.Ha,de.Ia-ht,on,an+8*de.B,ht))}if(!je)return On(Se,6,"Output aborted.")}return 1}(f,m)),m.bc!=null&&m.bc(m),S&=1}return S?(f.cb=0,S):0}function Ir(f,m,S,x,D){D=f[m+S+32*x]+(D>>3),f[m+S+32*x]=-256&D?0>D?0:255:D}function Go(f,m,S,x,D,U){Ir(f,m,0,S,x+D),Ir(f,m,1,S,x+U),Ir(f,m,2,S,x-U),Ir(f,m,3,S,x-D)}function $n(f){return(20091*f>>16)+f}function Tr(f,m,S,x){var D,U=0,H=o(16);for(D=0;4>D;++D){var $=f[m+0]+f[m+8],K=f[m+0]-f[m+8],J=(35468*f[m+4]>>16)-$n(f[m+12]),he=$n(f[m+4])+(35468*f[m+12]>>16);H[U+0]=$+he,H[U+1]=K+J,H[U+2]=K-J,H[U+3]=$-he,U+=4,m++}for(D=U=0;4>D;++D)$=(f=H[U+0]+4)+H[U+8],K=f-H[U+8],J=(35468*H[U+4]>>16)-$n(H[U+12]),Ir(S,x,0,0,$+(he=$n(H[U+4])+(35468*H[U+12]>>16))),Ir(S,x,1,0,K+J),Ir(S,x,2,0,K-J),Ir(S,x,3,0,$-he),U++,x+=32}function qs(f,m,S,x){var D=f[m+0]+4,U=35468*f[m+4]>>16,H=$n(f[m+4]),$=35468*f[m+1]>>16;Go(S,x,0,D+H,f=$n(f[m+1]),$),Go(S,x,1,D+U,f,$),Go(S,x,2,D-U,f,$),Go(S,x,3,D-H,f,$)}function Hs(f,m,S,x,D){Tr(f,m,S,x),D&&Tr(f,m+16,S,x+4)}function Es(f,m,S,x){bo(f,m+0,S,x,1),bo(f,m+32,S,x+128,1)}function vn(f,m,S,x){var D;for(f=f[m+0]+4,D=0;4>D;++D)for(m=0;4>m;++m)Ir(S,x,m,D,f)}function As(f,m,S,x){f[m+0]&&Hr(f,m+0,S,x),f[m+16]&&Hr(f,m+16,S,x+4),f[m+32]&&Hr(f,m+32,S,x+128),f[m+48]&&Hr(f,m+48,S,x+128+4)}function Kt(f,m,S,x){var D,U=o(16);for(D=0;4>D;++D){var H=f[m+0+D]+f[m+12+D],$=f[m+4+D]+f[m+8+D],K=f[m+4+D]-f[m+8+D],J=f[m+0+D]-f[m+12+D];U[0+D]=H+$,U[8+D]=H-$,U[4+D]=J+K,U[12+D]=J-K}for(D=0;4>D;++D)H=(f=U[0+4*D]+3)+U[3+4*D],$=U[1+4*D]+U[2+4*D],K=U[1+4*D]-U[2+4*D],J=f-U[3+4*D],S[x+0]=H+$>>3,S[x+16]=J+K>>3,S[x+32]=H-$>>3,S[x+48]=J-K>>3,x+=64}function Zi(f,m,S){var x,D=m-32,U=si,H=255-f[D-1];for(x=0;x<S;++x){var $,K=U,J=H+f[m-1];for($=0;$<S;++$)f[m+$]=K[J+f[D+$]];m+=32}}function cl(f,m){Zi(f,m,4)}function Ko(f,m){Zi(f,m,8)}function hl(f,m){Zi(f,m,16)}function es(f,m){var S;for(S=0;16>S;++S)r(f,m+32*S,f,m-32,16)}function go(f,m){var S;for(S=16;0<S;--S)i(f,m,f[m-1],16),m+=32}function Ws(f,m,S){var x;for(x=0;16>x;++x)i(m,S+32*x,f,16)}function ji(f,m){var S,x=16;for(S=0;16>S;++S)x+=f[m-1+32*S]+f[m+S-32];Ws(x>>5,f,m)}function sn(f,m){var S,x=8;for(S=0;16>S;++S)x+=f[m-1+32*S];Ws(x>>4,f,m)}function Vi(f,m){var S,x=8;for(S=0;16>S;++S)x+=f[m+S-32];Ws(x>>4,f,m)}function vi(f,m){Ws(128,f,m)}function Pt(f,m,S){return f+2*m+S+2>>2}function yi(f,m){var S,x=m-32;for(x=new Uint8Array([Pt(f[x-1],f[x+0],f[x+1]),Pt(f[x+0],f[x+1],f[x+2]),Pt(f[x+1],f[x+2],f[x+3]),Pt(f[x+2],f[x+3],f[x+4])]),S=0;4>S;++S)r(f,m+32*S,x,0,x.length)}function ts(f,m){var S=f[m-1],x=f[m-1+32],D=f[m-1+64],U=f[m-1+96];Ve(f,m+0,16843009*Pt(f[m-1-32],S,x)),Ve(f,m+32,16843009*Pt(S,x,D)),Ve(f,m+64,16843009*Pt(x,D,U)),Ve(f,m+96,16843009*Pt(D,U,U))}function ns(f,m){var S,x=4;for(S=0;4>S;++S)x+=f[m+S-32]+f[m-1+32*S];for(x>>=3,S=0;4>S;++S)i(f,m+32*S,x,4)}function Ia(f,m){var S=f[m-1+0],x=f[m-1+32],D=f[m-1+64],U=f[m-1-32],H=f[m+0-32],$=f[m+1-32],K=f[m+2-32],J=f[m+3-32];f[m+0+96]=Pt(x,D,f[m-1+96]),f[m+1+96]=f[m+0+64]=Pt(S,x,D),f[m+2+96]=f[m+1+64]=f[m+0+32]=Pt(U,S,x),f[m+3+96]=f[m+2+64]=f[m+1+32]=f[m+0+0]=Pt(H,U,S),f[m+3+64]=f[m+2+32]=f[m+1+0]=Pt($,H,U),f[m+3+32]=f[m+2+0]=Pt(K,$,H),f[m+3+0]=Pt(J,K,$)}function xr(f,m){var S=f[m+1-32],x=f[m+2-32],D=f[m+3-32],U=f[m+4-32],H=f[m+5-32],$=f[m+6-32],K=f[m+7-32];f[m+0+0]=Pt(f[m+0-32],S,x),f[m+1+0]=f[m+0+32]=Pt(S,x,D),f[m+2+0]=f[m+1+32]=f[m+0+64]=Pt(x,D,U),f[m+3+0]=f[m+2+32]=f[m+1+64]=f[m+0+96]=Pt(D,U,H),f[m+3+32]=f[m+2+64]=f[m+1+96]=Pt(U,H,$),f[m+3+64]=f[m+2+96]=Pt(H,$,K),f[m+3+96]=Pt($,K,K)}function Qo(f,m){var S=f[m-1+0],x=f[m-1+32],D=f[m-1+64],U=f[m-1-32],H=f[m+0-32],$=f[m+1-32],K=f[m+2-32],J=f[m+3-32];f[m+0+0]=f[m+1+64]=U+H+1>>1,f[m+1+0]=f[m+2+64]=H+$+1>>1,f[m+2+0]=f[m+3+64]=$+K+1>>1,f[m+3+0]=K+J+1>>1,f[m+0+96]=Pt(D,x,S),f[m+0+64]=Pt(x,S,U),f[m+0+32]=f[m+1+96]=Pt(S,U,H),f[m+1+32]=f[m+2+96]=Pt(U,H,$),f[m+2+32]=f[m+3+96]=Pt(H,$,K),f[m+3+32]=Pt($,K,J)}function Yo(f,m){var S=f[m+0-32],x=f[m+1-32],D=f[m+2-32],U=f[m+3-32],H=f[m+4-32],$=f[m+5-32],K=f[m+6-32],J=f[m+7-32];f[m+0+0]=S+x+1>>1,f[m+1+0]=f[m+0+64]=x+D+1>>1,f[m+2+0]=f[m+1+64]=D+U+1>>1,f[m+3+0]=f[m+2+64]=U+H+1>>1,f[m+0+32]=Pt(S,x,D),f[m+1+32]=f[m+0+96]=Pt(x,D,U),f[m+2+32]=f[m+1+96]=Pt(D,U,H),f[m+3+32]=f[m+2+96]=Pt(U,H,$),f[m+3+64]=Pt(H,$,K),f[m+3+96]=Pt($,K,J)}function Is(f,m){var S=f[m-1+0],x=f[m-1+32],D=f[m-1+64],U=f[m-1+96];f[m+0+0]=S+x+1>>1,f[m+2+0]=f[m+0+32]=x+D+1>>1,f[m+2+32]=f[m+0+64]=D+U+1>>1,f[m+1+0]=Pt(S,x,D),f[m+3+0]=f[m+1+32]=Pt(x,D,U),f[m+3+32]=f[m+1+64]=Pt(D,U,U),f[m+3+64]=f[m+2+64]=f[m+0+96]=f[m+1+96]=f[m+2+96]=f[m+3+96]=U}function mo(f,m){var S=f[m-1+0],x=f[m-1+32],D=f[m-1+64],U=f[m-1+96],H=f[m-1-32],$=f[m+0-32],K=f[m+1-32],J=f[m+2-32];f[m+0+0]=f[m+2+32]=S+H+1>>1,f[m+0+32]=f[m+2+64]=x+S+1>>1,f[m+0+64]=f[m+2+96]=D+x+1>>1,f[m+0+96]=U+D+1>>1,f[m+3+0]=Pt($,K,J),f[m+2+0]=Pt(H,$,K),f[m+1+0]=f[m+3+32]=Pt(S,H,$),f[m+1+32]=f[m+3+64]=Pt(x,S,H),f[m+1+64]=f[m+3+96]=Pt(D,x,S),f[m+1+96]=Pt(U,D,x)}function fl(f,m){var S;for(S=0;8>S;++S)r(f,m+32*S,f,m-32,8)}function Zr(f,m){var S;for(S=0;8>S;++S)i(f,m,f[m-1],8),m+=32}function Pr(f,m,S){var x;for(x=0;8>x;++x)i(m,S+32*x,f,8)}function Br(f,m){var S,x=8;for(S=0;8>S;++S)x+=f[m+S-32]+f[m-1+32*S];Pr(x>>4,f,m)}function $s(f,m){var S,x=4;for(S=0;8>S;++S)x+=f[m+S-32];Pr(x>>3,f,m)}function fn(f,m){var S,x=4;for(S=0;8>S;++S)x+=f[m-1+32*S];Pr(x>>3,f,m)}function Ta(f,m){Pr(128,f,m)}function Gs(f,m,S){var x=f[m-S],D=f[m+0],U=3*(D-x)+eo[1020+f[m-2*S]-f[m+S]],H=Al[112+(U+4>>3)];f[m-S]=si[255+x+Al[112+(U+3>>3)]],f[m+0]=si[255+D-H]}function Ks(f,m,S,x){var D=f[m+0],U=f[m+S];return os[255+f[m-2*S]-f[m-S]]>x||os[255+U-D]>x}function vo(f,m,S,x){return 4*os[255+f[m-S]-f[m+0]]+os[255+f[m-2*S]-f[m+S]]<=x}function Jo(f,m,S,x,D){var U=f[m-3*S],H=f[m-2*S],$=f[m-S],K=f[m+0],J=f[m+S],he=f[m+2*S],Ie=f[m+3*S];return 4*os[255+$-K]+os[255+H-J]>x?0:os[255+f[m-4*S]-U]<=D&&os[255+U-H]<=D&&os[255+H-$]<=D&&os[255+Ie-he]<=D&&os[255+he-J]<=D&&os[255+J-K]<=D}function Ur(f,m,S,x){var D=2*x+1;for(x=0;16>x;++x)vo(f,m+x,S,D)&&Gs(f,m+x,S)}function ei(f,m,S,x){var D=2*x+1;for(x=0;16>x;++x)vo(f,m+x*S,1,D)&&Gs(f,m+x*S,1)}function Gn(f,m,S,x){var D;for(D=3;0<D;--D)Ur(f,m+=4*S,S,x)}function xa(f,m,S,x){var D;for(D=3;0<D;--D)ei(f,m+=4,S,x)}function Bi(f,m,S,x,D,U,H,$){for(U=2*U+1;0<D--;){if(Jo(f,m,S,U,H))if(Ks(f,m,S,$))Gs(f,m,S);else{var K=f,J=m,he=S,Ie=K[J-2*he],Te=K[J-he],Se=K[J+0],qe=K[J+he],De=K[J+2*he],de=27*(je=eo[1020+3*(Se-Te)+eo[1020+Ie-qe]])+63>>7,pe=18*je+63>>7,je=9*je+63>>7;K[J-3*he]=si[255+K[J-3*he]+je],K[J-2*he]=si[255+Ie+pe],K[J-he]=si[255+Te+de],K[J+0]=si[255+Se-de],K[J+he]=si[255+qe-pe],K[J+2*he]=si[255+De-je]}m+=x}}function ir(f,m,S,x,D,U,H,$){for(U=2*U+1;0<D--;){if(Jo(f,m,S,U,H))if(Ks(f,m,S,$))Gs(f,m,S);else{var K=f,J=m,he=S,Ie=K[J-he],Te=K[J+0],Se=K[J+he],qe=Al[112+((De=3*(Te-Ie))+4>>3)],De=Al[112+(De+3>>3)],de=qe+1>>1;K[J-2*he]=si[255+K[J-2*he]+de],K[J-he]=si[255+Ie+De],K[J+0]=si[255+Te-qe],K[J+he]=si[255+Se-de]}m+=x}}function yo(f,m,S,x,D,U){Bi(f,m,S,1,16,x,D,U)}function Vn(f,m,S,x,D,U){Bi(f,m,1,S,16,x,D,U)}function Ui(f,m,S,x,D,U){var H;for(H=3;0<H;--H)ir(f,m+=4*S,S,1,16,x,D,U)}function Ts(f,m,S,x,D,U){var H;for(H=3;0<H;--H)ir(f,m+=4,1,S,16,x,D,U)}function rs(f,m,S,x,D,U,H,$){Bi(f,m,D,1,8,U,H,$),Bi(S,x,D,1,8,U,H,$)}function Pa(f,m,S,x,D,U,H,$){Bi(f,m,1,D,8,U,H,$),Bi(S,x,1,D,8,U,H,$)}function Qs(f,m,S,x,D,U,H,$){ir(f,m+4*D,D,1,8,U,H,$),ir(S,x+4*D,D,1,8,U,H,$)}function is(f,m,S,x,D,U,H,$){ir(f,m+4,1,D,8,U,H,$),ir(S,x+4,1,D,8,U,H,$)}function zi(){this.ba=new Hn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Pn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function xs(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Ys(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Xo(){this.ua=0,this.Wa=new Z,this.vb=new Z,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new ie,this.yc=new C}function dl(){this.xb=this.a=0,this.l=new fo,this.ca=new Hn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new L,this.Pb=0,this.wd=new L,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Xo,this.ab=0,this.gc=l(4,Ys),this.Oc=0}function Ps(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ss(f,m,S,x,D,U,H){for(f=f==null?0:f[m+0],m=0;m<H;++m)D[U+m]=f+S[x+m]&255,f=D[U+m]}function Zo(f,m,S,x,D,U,H){var $;if(f==null)ss(null,null,S,x,D,U,H);else for($=0;$<H;++$)D[U+$]=f[m+$]+S[x+$]&255}function zr(f,m,S,x,D,U,H){if(f==null)ss(null,null,S,x,D,U,H);else{var $,K=f[m+0],J=K,he=K;for($=0;$<H;++$)J=he+(K=f[m+$])-J,he=S[x+$]+(-256&J?0>J?0:255:J)&255,J=K,D[U+$]=he}}function ea(f,m,S,x){var D=m.width,U=m.o;if(e(f!=null&&m!=null),0>S||0>=x||S+x>U)return null;if(!f.Cc){if(f.ga==null){var H;if(f.ga=new Ps,(H=f.ga==null)||(H=m.width*m.o,e(f.Gb.length==0),f.Gb=o(H),f.Uc=0,f.Gb==null?H=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,H=1),H=!H),!H){H=f.ga;var $=f.Fa,K=f.P,J=f.qc,he=f.mb,Ie=f.nb,Te=K+1,Se=J-1,qe=H.l;if(e($!=null&&he!=null&&m!=null),Wr[0]=null,Wr[1]=ss,Wr[2]=Zo,Wr[3]=zr,H.ca=he,H.tb=Ie,H.c=m.width,H.i=m.height,e(0<H.c&&0<H.i),1>=J)m=0;else if(H.$a=$[K+0]>>0&3,H.Z=$[K+0]>>2&3,H.Lc=$[K+0]>>4&3,K=$[K+0]>>6&3,0>H.$a||1<H.$a||4<=H.Z||1<H.Lc||K)m=0;else if(qe.put=Sr,qe.ac=Jn,qe.bc=pi,qe.ma=H,qe.width=m.width,qe.height=m.height,qe.Da=m.Da,qe.v=m.v,qe.va=m.va,qe.j=m.j,qe.o=m.o,H.$a)e:{e(H.$a==1),m=Wn();t:for(;;){if(m==null){m=0;break e}if(e(H!=null),H.mc=m,m.c=H.c,m.i=H.i,m.l=H.l,m.l.ma=H,m.l.width=H.c,m.l.height=H.i,m.a=0,re(m.m,$,Te,Se),!Mi(H.c,H.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&ys(m.s)?(H.ic=1,$=m.c*m.i,m.Ta=null,m.Ua=0,m.V=o($),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(H.ic=0,m=_s(m,H.c)),!m))break t;m=1;break e}H.mc=null,m=0}else m=Se>=H.c*H.i;H=!m}if(H)return null;f.ga.Lc!=1?f.Ga=0:x=U-S}e(f.ga!=null),e(S+x<=U);e:{if(m=($=f.ga).c,U=$.l.o,$.$a==0){if(Te=f.rc,Se=f.Vc,qe=f.Fa,K=f.P+1+S*m,J=f.mb,he=f.nb+S*m,e(K<=f.P+f.qc),$.Z!=0)for(e(Wr[$.Z]!=null),H=0;H<x;++H)Wr[$.Z](Te,Se,qe,K,J,he,m),Te=J,Se=he,he+=m,K+=m;else for(H=0;H<x;++H)r(J,he,qe,K,m),Te=J,Se=he,he+=m,K+=m;f.rc=Te,f.Vc=Se}else{if(e($.mc!=null),m=S+x,e((H=$.mc)!=null),e(m<=H.i),H.C>=m)m=1;else if($.ic||be(),$.ic){$=H.V,Te=H.Ba,Se=H.c;var De=H.i,de=(qe=1,K=H.$/Se,J=H.$%Se,he=H.m,Ie=H.s,H.$),pe=Se*De,je=Se*m,Me=Ie.wc,Ue=de<je?Rn(Ie,J,K):null;e(de<=pe),e(m<=De),e(ys(Ie));t:for(;;){for(;!he.h&&de<je;){if(J&Me||(Ue=Rn(Ie,J,K)),e(Ue!=null),oe(he),256>(De=rr(Ue.G[0],Ue.H[0],he)))$[Te+de]=De,++de,++J>=Se&&(J=0,++K<=m&&!(K%16)&&gi(H,K));else{if(!(280>De)){qe=0;break t}De=Mr(De-256,he);var ht,lt=rr(Ue.G[4],Ue.H[4],he);if(oe(he),!(de>=(lt=nr(Se,lt=Mr(lt,he)))&&pe-de>=De)){qe=0;break t}for(ht=0;ht<De;++ht)$[Te+de+ht]=$[Te+de+ht-lt];for(de+=De,J+=De;J>=Se;)J-=Se,++K<=m&&!(K%16)&&gi(H,K);de<je&&J&Me&&(Ue=Rn(Ie,J,K))}e(he.h==Y(he))}gi(H,K>m?m:K);break t}!qe||he.h&&de<pe?(qe=0,H.a=he.h?5:3):H.$=de,m=qe}else m=Xn(H,H.V,H.Ba,H.c,H.i,m,ws);if(!m){x=0;break e}}S+x>=U&&(f.Cc=1),x=1}if(!x)return null;if(f.Cc&&((x=f.ga)!=null&&(x.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+S*D}function y(f,m,S,x,D,U){for(;0<D--;){var H,$=f,K=m+(S?1:0),J=f,he=m+(S?0:3);for(H=0;H<x;++H){var Ie=J[he+4*H];Ie!=255&&(Ie*=32897,$[K+4*H+0]=$[K+4*H+0]*Ie>>23,$[K+4*H+1]=$[K+4*H+1]*Ie>>23,$[K+4*H+2]=$[K+4*H+2]*Ie>>23)}m+=U}}function F(f,m,S,x,D){for(;0<x--;){var U;for(U=0;U<S;++U){var H=f[m+2*U+0],$=15&(J=f[m+2*U+1]),K=4369*$,J=(240&J|J>>4)*K>>16;f[m+2*U+0]=(240&H|H>>4)*K>>16&240|(15&H|H<<4)*K>>16>>4&15,f[m+2*U+1]=240&J|$}m+=D}}function ee(f,m,S,x,D,U,H,$){var K,J,he=255;for(J=0;J<D;++J){for(K=0;K<x;++K){var Ie=f[m+K];U[H+4*K]=Ie,he&=Ie}m+=S,H+=$}return he!=255}function le(f,m,S,x,D){var U;for(U=0;U<D;++U)S[x+U]=f[m+U]>>8}function be(){_i=y,Nn=F,_n=ee,Qn=le}function Fe(f,m,S){A[f]=function(x,D,U,H,$,K,J,he,Ie,Te,Se,qe,De,de,pe,je,Me){var Ue,ht=Me-1>>1,lt=$[K+0]|J[he+0]<<16,Tt=Ie[Te+0]|Se[qe+0]<<16;e(x!=null);var ut=3*lt+Tt+131074>>2;for(m(x[D+0],255&ut,ut>>16,De,de),U!=null&&(ut=3*Tt+lt+131074>>2,m(U[H+0],255&ut,ut>>16,pe,je)),Ue=1;Ue<=ht;++Ue){var on=$[K+Ue]|J[he+Ue]<<16,an=Ie[Te+Ue]|Se[qe+Ue]<<16,en=lt+on+Tt+an+524296,Gt=en+2*(on+Tt)>>3;ut=Gt+lt>>1,lt=(en=en+2*(lt+an)>>3)+on>>1,m(x[D+2*Ue-1],255&ut,ut>>16,De,de+(2*Ue-1)*S),m(x[D+2*Ue-0],255&lt,lt>>16,De,de+(2*Ue-0)*S),U!=null&&(ut=en+Tt>>1,lt=Gt+an>>1,m(U[H+2*Ue-1],255&ut,ut>>16,pe,je+(2*Ue-1)*S),m(U[H+2*Ue+0],255&lt,lt>>16,pe,je+(2*Ue+0)*S)),lt=on,Tt=an}1&Me||(ut=3*lt+Tt+131074>>2,m(x[D+Me-1],255&ut,ut>>16,De,de+(Me-1)*S),U!=null&&(ut=3*Tt+lt+131074>>2,m(U[H+Me-1],255&ut,ut>>16,pe,je+(Me-1)*S)))}}function $e(){Si[tc]=wp,Si[ia]=sa,Si[cf]=Sp,Si[Su]=Pl,Si[bu]=Va,Si[Cn]=xu,Si[nc]=oh,Si[Il]=sa,Si[Fa]=Pl,Si[Eu]=Va,Si[Au]=xu}function at(f){return f&-16384?0>f?0:255:f>>oa}function d(f,m){return at((19077*f>>8)+(26149*m>>8)-14234)}function E(f,m,S){return at((19077*f>>8)-(6419*m>>8)-(13320*S>>8)+8708)}function k(f,m){return at((19077*f>>8)+(33050*m>>8)-17685)}function G(f,m,S,x,D){x[D+0]=d(f,S),x[D+1]=E(f,m,S),x[D+2]=k(f,m)}function we(f,m,S,x,D){x[D+0]=k(f,m),x[D+1]=E(f,m,S),x[D+2]=d(f,S)}function ke(f,m,S,x,D){var U=E(f,m,S);m=U<<3&224|k(f,m)>>3,x[D+0]=248&d(f,S)|U>>5,x[D+1]=m}function Qe(f,m,S,x,D){var U=240&k(f,m)|15;x[D+0]=240&d(f,S)|E(f,m,S)>>4,x[D+1]=U}function Ut(f,m,S,x,D){x[D+0]=255,G(f,m,S,x,D+1)}function Jt(f,m,S,x,D){we(f,m,S,x,D),x[D+3]=255}function zt(f,m,S,x,D){G(f,m,S,x,D),x[D+3]=255}function dn(f,m){return 0>f?0:f>m?m:f}function yn(f,m,S){A[f]=function(x,D,U,H,$,K,J,he,Ie){for(var Te=he+(-2&Ie)*S;he!=Te;)m(x[D+0],U[H+0],$[K+0],J,he),m(x[D+1],U[H+0],$[K+0],J,he+S),D+=2,++H,++K,he+=2*S;1&Ie&&m(x[D+0],U[H+0],$[K+0],J,he)}}function ti(f,m,S){return S==0?f==0?m==0?6:5:m==0?4:0:S}function Nr(f,m,S,x,D){switch(f>>>30){case 3:bo(m,S,x,D,0);break;case 2:cn(m,S,x,D);break;case 1:Hr(m,S,x,D)}}function Ns(f,m){var S,x,D=m.M,U=m.Nb,H=f.oc,$=f.pc+40,K=f.oc,J=f.pc+584,he=f.oc,Ie=f.pc+600;for(S=0;16>S;++S)H[$+32*S-1]=129;for(S=0;8>S;++S)K[J+32*S-1]=129,he[Ie+32*S-1]=129;for(0<D?H[$-1-32]=K[J-1-32]=he[Ie-1-32]=129:(i(H,$-32-1,127,21),i(K,J-32-1,127,9),i(he,Ie-32-1,127,9)),x=0;x<f.za;++x){var Te=m.ya[m.aa+x];if(0<x){for(S=-1;16>S;++S)r(H,$+32*S-4,H,$+32*S+12,4);for(S=-1;8>S;++S)r(K,J+32*S-4,K,J+32*S+4,4),r(he,Ie+32*S-4,he,Ie+32*S+4,4)}var Se=f.Gd,qe=f.Hd+x,De=Te.ad,de=Te.Hc;if(0<D&&(r(H,$-32,Se[qe].y,0,16),r(K,J-32,Se[qe].f,0,8),r(he,Ie-32,Se[qe].ea,0,8)),Te.Za){var pe=H,je=$-32+16;for(0<D&&(x>=f.za-1?i(pe,je,Se[qe].y[15],4):r(pe,je,Se[qe+1].y,0,4)),S=0;4>S;S++)pe[je+128+S]=pe[je+256+S]=pe[je+384+S]=pe[je+0+S];for(S=0;16>S;++S,de<<=2)pe=H,je=$+ah[S],as[Te.Ob[S]](pe,je),Nr(de,De,16*+S,pe,je)}else if(pe=ti(x,D,Te.Ob[0]),oi[pe](H,$),de!=0)for(S=0;16>S;++S,de<<=2)Nr(de,De,16*+S,H,$+ah[S]);for(S=Te.Gc,pe=ti(x,D,Te.Dd),wi[pe](K,J),wi[pe](he,Ie),de=De,pe=K,je=J,255&(Te=S>>0)&&(170&Te?Eo(de,256,pe,je):qi(de,256,pe,je)),Te=he,de=Ie,255&(S>>=8)&&(170&S?Eo(De,320,Te,de):qi(De,320,Te,de)),D<f.Ub-1&&(r(Se[qe].y,0,H,$+480,16),r(Se[qe].f,0,K,J+224,8),r(Se[qe].ea,0,he,Ie+224,8)),S=8*U*f.B,Se=f.sa,qe=f.ta+16*x+16*U*f.R,De=f.qa,Te=f.ra+8*x+S,de=f.Ha,pe=f.Ia+8*x+S,S=0;16>S;++S)r(Se,qe+S*f.R,H,$+32*S,16);for(S=0;8>S;++S)r(De,Te+S*f.B,K,J+32*S,8),r(de,pe+S*f.B,he,Ie+32*S,8)}}function Cs(f,m,S,x,D,U,H,$,K){var J=[0],he=[0],Ie=0,Te=K!=null?K.kd:0,Se=K??new xs;if(f==null||12>S)return 7;Se.data=f,Se.w=m,Se.ha=S,m=[m],S=[S],Se.gb=[Se.gb];e:{var qe=m,De=S,de=Se.gb;if(e(f!=null),e(De!=null),e(de!=null),de[0]=0,12<=De[0]&&!t(f,qe[0],"RIFF")){if(t(f,qe[0]+8,"WEBP")){de=3;break e}var pe=Ge(f,qe[0]+4);if(12>pe||4294967286<pe){de=3;break e}if(Te&&pe>De[0]-8){de=7;break e}de[0]=pe,qe[0]+=12,De[0]-=12}de=0}if(de!=0)return de;for(pe=0<Se.gb[0],S=S[0];;){e:{var je=f;De=m,de=S;var Me=J,Ue=he,ht=qe=[0];if((ut=Ie=[Ie])[0]=0,8>de[0])de=7;else{if(!t(je,De[0],"VP8X")){if(Ge(je,De[0]+4)!=10){de=3;break e}if(18>de[0]){de=7;break e}var lt=Ge(je,De[0]+8),Tt=1+Ke(je,De[0]+12);if(2147483648<=Tt*(je=1+Ke(je,De[0]+15))){de=3;break e}ht!=null&&(ht[0]=lt),Me!=null&&(Me[0]=Tt),Ue!=null&&(Ue[0]=je),De[0]+=18,de[0]-=18,ut[0]=1}de=0}}if(Ie=Ie[0],qe=qe[0],de!=0)return de;if(De=!!(2&qe),!pe&&Ie)return 3;if(U!=null&&(U[0]=!!(16&qe)),H!=null&&(H[0]=De),$!=null&&($[0]=0),H=J[0],qe=he[0],Ie&&De&&K==null){de=0;break}if(4>S){de=7;break}if(pe&&Ie||!pe&&!Ie&&!t(f,m[0],"ALPH")){S=[S],Se.na=[Se.na],Se.P=[Se.P],Se.Sa=[Se.Sa];e:{lt=f,de=m,pe=S;var ut=Se.gb;Me=Se.na,Ue=Se.P,ht=Se.Sa,Tt=22,e(lt!=null),e(pe!=null),je=de[0];var on=pe[0];for(e(Me!=null),e(ht!=null),Me[0]=null,Ue[0]=null,ht[0]=0;;){if(de[0]=je,pe[0]=on,8>on){de=7;break e}var an=Ge(lt,je+4);if(4294967286<an){de=3;break e}var en=8+an+1&-2;if(Tt+=en,0<ut&&Tt>ut){de=3;break e}if(!t(lt,je,"VP8 ")||!t(lt,je,"VP8L")){de=0;break e}if(on[0]<en){de=7;break e}t(lt,je,"ALPH")||(Me[0]=lt,Ue[0]=je+8,ht[0]=an),je+=en,on-=en}}if(S=S[0],Se.na=Se.na[0],Se.P=Se.P[0],Se.Sa=Se.Sa[0],de!=0)break}S=[S],Se.Ja=[Se.Ja],Se.xa=[Se.xa];e:if(ut=f,de=m,pe=S,Me=Se.gb[0],Ue=Se.Ja,ht=Se.xa,lt=de[0],je=!t(ut,lt,"VP8 "),Tt=!t(ut,lt,"VP8L"),e(ut!=null),e(pe!=null),e(Ue!=null),e(ht!=null),8>pe[0])de=7;else{if(je||Tt){if(ut=Ge(ut,lt+4),12<=Me&&ut>Me-12){de=3;break e}if(Te&&ut>pe[0]-8){de=7;break e}Ue[0]=ut,de[0]+=8,pe[0]-=8,ht[0]=Tt}else ht[0]=5<=pe[0]&&ut[lt+0]==47&&!(ut[lt+4]>>5),Ue[0]=pe[0];de=0}if(S=S[0],Se.Ja=Se.Ja[0],Se.xa=Se.xa[0],m=m[0],de!=0)break;if(4294967286<Se.Ja)return 3;if($==null||De||($[0]=Se.xa?2:1),H=[H],qe=[qe],Se.xa){if(5>S){de=7;break}$=H,Te=qe,De=U,f==null||5>S?f=0:5<=S&&f[m+0]==47&&!(f[m+4]>>5)?(pe=[0],ut=[0],Me=[0],re(Ue=new L,f,m,S),ft(Ue,pe,ut,Me)?($!=null&&($[0]=pe[0]),Te!=null&&(Te[0]=ut[0]),De!=null&&(De[0]=Me[0]),f=1):f=0):f=0}else{if(10>S){de=7;break}$=qe,f==null||10>S||!Ea(f,m+3,S-3)?f=0:(Te=f[m+0]|f[m+1]<<8|f[m+2]<<16,De=16383&(f[m+7]<<8|f[m+6]),f=16383&(f[m+9]<<8|f[m+8]),1&Te||3<(Te>>1&7)||!(Te>>4&1)||Te>>5>=Se.Ja||!De||!f?f=0:(H&&(H[0]=De),$&&($[0]=f),f=1))}if(!f||(H=H[0],qe=qe[0],Ie&&(J[0]!=H||he[0]!=qe)))return 3;K!=null&&(K[0]=Se,K.offset=m-K.w,e(4294967286>m-K.w),e(K.offset==K.ha-S));break}return de==0||de==7&&Ie&&K==null?(U!=null&&(U[0]|=Se.na!=null&&0<Se.na.length),x!=null&&(x[0]=H),D!=null&&(D[0]=qe),0):de}function pl(f,m,S){var x=m.width,D=m.height,U=0,H=0,$=x,K=D;if(m.Da=f!=null&&0<f.Da,m.Da&&($=f.cd,K=f.bd,U=f.v,H=f.j,11>S||(U&=-2,H&=-2),0>U||0>H||0>=$||0>=K||U+$>x||H+K>D))return 0;if(m.v=U,m.j=H,m.va=U+$,m.o=H+K,m.U=$,m.T=K,m.da=f!=null&&0<f.da,m.da){if(!bt($,K,S=[f.ib],U=[f.hb]))return 0;m.ib=S[0],m.hb=U[0]}return m.ob=f!=null&&f.ob,m.Kb=f==null||!f.Sd,m.da&&(m.ob=m.ib<3*x/4&&m.hb<3*D/4,m.Kb=0),1}function gl(f){if(f==null)return 2;if(11>f.S){var m=f.f.RGBA;m.fb+=(f.height-1)*m.A,m.A=-m.A}else m=f.f.kb,f=f.height,m.O+=(f-1)*m.fa,m.fa=-m.fa,m.N+=(f-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(f-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(f-1)*m.lb,m.lb=-m.lb);return 0}function Na(f,m,S,x){if(x==null||0>=f||0>=m)return 2;if(S!=null){if(S.Da){var D=S.cd,U=S.bd,H=-2&S.v,$=-2&S.j;if(0>H||0>$||0>=D||0>=U||H+D>f||$+U>m)return 2;f=D,m=U}if(S.da){if(!bt(f,m,D=[S.ib],U=[S.hb]))return 2;f=D[0],m=U[0]}}x.width=f,x.height=m;e:{var K=x.width,J=x.height;if(f=x.S,0>=K||0>=J||!(f>=tc&&13>f))f=2;else{if(0>=x.Rd&&x.sd==null){H=U=D=m=0;var he=($=K*Pu[f])*J;if(11>f||(U=(J+1)/2*(m=(K+1)/2),f==12&&(H=(D=K)*J)),(J=o(he+2*U+H))==null){f=1;break e}x.sd=J,11>f?((K=x.f.RGBA).eb=J,K.fb=0,K.A=$,K.size=he):((K=x.f.kb).y=J,K.O=0,K.fa=$,K.Fd=he,K.f=J,K.N=0+he,K.Ab=m,K.Cd=U,K.ea=J,K.W=0+he+U,K.Db=m,K.Ed=U,f==12&&(K.F=J,K.J=0+he+2*U),K.Tc=H,K.lb=D)}if(m=1,D=x.S,U=x.width,H=x.height,D>=tc&&13>D)if(11>D)f=x.f.RGBA,m&=($=Math.abs(f.A))*(H-1)+U<=f.size,m&=$>=U*Pu[D],m&=f.eb!=null;else{f=x.f.kb,$=(U+1)/2,he=(H+1)/2,K=Math.abs(f.fa),J=Math.abs(f.Ab);var Ie=Math.abs(f.Db),Te=Math.abs(f.lb),Se=Te*(H-1)+U;m&=K*(H-1)+U<=f.Fd,m&=J*(he-1)+$<=f.Cd,m=(m&=Ie*(he-1)+$<=f.Ed)&K>=U&J>=$&Ie>=$,m&=f.y!=null,m&=f.f!=null,m&=f.ea!=null,D==12&&(m&=Te>=U,m&=Se<=f.Tc,m&=f.F!=null)}else m=0;f=m?0:2}}return f!=0||S!=null&&S.fd&&(f=gl(x)),f}var Kn=64,ml=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vl=24,yl=32,_l=8,ni=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Xe("Predictor0","PredictorAdd0"),A.Predictor0=function(){return 4278190080},A.Predictor1=function(f){return f},A.Predictor2=function(f,m,S){return m[S+0]},A.Predictor3=function(f,m,S){return m[S+1]},A.Predictor4=function(f,m,S){return m[S-1]},A.Predictor5=function(f,m,S){return tt(tt(f,m[S+1]),m[S+0])},A.Predictor6=function(f,m,S){return tt(f,m[S-1])},A.Predictor7=function(f,m,S){return tt(f,m[S+0])},A.Predictor8=function(f,m,S){return tt(m[S-1],m[S+0])},A.Predictor9=function(f,m,S){return tt(m[S+0],m[S+1])},A.Predictor10=function(f,m,S){return tt(tt(f,m[S-1]),tt(m[S+0],m[S+1]))},A.Predictor11=function(f,m,S){var x=m[S+0];return 0>=At(x>>24&255,f>>24&255,(m=m[S-1])>>24&255)+At(x>>16&255,f>>16&255,m>>16&255)+At(x>>8&255,f>>8&255,m>>8&255)+At(255&x,255&f,255&m)?x:f},A.Predictor12=function(f,m,S){var x=m[S+0];return(pt((f>>24&255)+(x>>24&255)-((m=m[S-1])>>24&255))<<24|pt((f>>16&255)+(x>>16&255)-(m>>16&255))<<16|pt((f>>8&255)+(x>>8&255)-(m>>8&255))<<8|pt((255&f)+(255&x)-(255&m)))>>>0},A.Predictor13=function(f,m,S){var x=m[S-1];return(gt((f=tt(f,m[S+0]))>>24&255,x>>24&255)<<24|gt(f>>16&255,x>>16&255)<<16|gt(f>>8&255,x>>8&255)<<8|gt(f>>0&255,x>>0&255))>>>0};var Ca=A.PredictorAdd0;A.PredictorAdd1=ct,Xe("Predictor2","PredictorAdd2"),Xe("Predictor3","PredictorAdd3"),Xe("Predictor4","PredictorAdd4"),Xe("Predictor5","PredictorAdd5"),Xe("Predictor6","PredictorAdd6"),Xe("Predictor7","PredictorAdd7"),Xe("Predictor8","PredictorAdd8"),Xe("Predictor9","PredictorAdd9"),Xe("Predictor10","PredictorAdd10"),Xe("Predictor11","PredictorAdd11"),Xe("Predictor12","PredictorAdd12"),Xe("Predictor13","PredictorAdd13");var _o=A.PredictorAdd2;Ot("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Ot("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var ec,ri=A.ColorIndexInverseTransform,wl=A.MapARGB,yu=A.VP8LColorIndexInverseTransformAlpha,Sl=A.MapAlpha,Js=A.VP8LPredictorsAdd=[];Js.length=16,(A.VP8LPredictors=[]).length=16,(A.VP8LPredictorsAdd_C=[]).length=16,(A.VP8LPredictors_C=[]).length=16;var ta,ii,qr,na,wo,So,bl,bo,cn,Eo,Hr,qi,ka,_u,La,Ra,Oa,Hi,Ao,Xs,Io,To,ra,Cr,_i,Nn,_n,Qn,sr=o(511),Zs=o(2041),El=o(225),Da=o(767),wu=0,eo=Zs,Al=El,si=Da,os=sr,tc=0,ia=1,cf=2,Su=3,bu=4,Cn=5,nc=6,Il=7,Fa=8,Eu=9,Au=10,Iu=[2,3,7],rc=[3,3,11],Ma=[280,256,256,256,40],hf=[0,1,1,1,0],mp=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],vp=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],ff=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],ic=8,Tl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Tu=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],ja=null,rh=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],ih=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],df=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],pf=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],yp=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],_p=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],sh=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],oi=[],as=[],wi=[],to=1,xl=2,Wr=[],Si=[];Fe("UpsampleRgbLinePair",G,3),Fe("UpsampleBgrLinePair",we,3),Fe("UpsampleRgbaLinePair",zt,4),Fe("UpsampleBgraLinePair",Jt,4),Fe("UpsampleArgbLinePair",Ut,4),Fe("UpsampleRgba4444LinePair",Qe,2),Fe("UpsampleRgb565LinePair",ke,2);var wp=A.UpsampleRgbLinePair,Sp=A.UpsampleBgrLinePair,sa=A.UpsampleRgbaLinePair,Pl=A.UpsampleBgraLinePair,Va=A.UpsampleArgbLinePair,xu=A.UpsampleRgba4444LinePair,oh=A.UpsampleRgb565LinePair,xo=16,ks=1<<xo-1,wn=-227,An=482,oa=6,kr=0,bi=o(256),Ba=o(256),Nl=o(256),Ei=o(256),sc=o(An-wn),gf=o(An-wn);yn("YuvToRgbRow",G,3),yn("YuvToBgrRow",we,3),yn("YuvToRgbaRow",zt,4),yn("YuvToBgraRow",Jt,4),yn("YuvToArgbRow",Ut,4),yn("YuvToRgba4444Row",Qe,2),yn("YuvToRgb565Row",ke,2);var ah=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Ua=[0,2,8],mf=[8,7,6,4,4,2,2,2,1,1,1,1],Po=1;this.WebPDecodeRGBA=function(f,m,S,x,D){var U=ia,H=new zi,$=new Hn;H.ba=$,$.S=U,$.width=[$.width],$.height=[$.height];var K=$.width,J=$.height,he=new wr;if(he==null||f==null)var Ie=2;else e(he!=null),Ie=Cs(f,m,S,he.width,he.height,he.Pd,he.Qd,he.format,null);if(Ie!=0?K=0:(K!=null&&(K[0]=he.width[0]),J!=null&&(J[0]=he.height[0]),K=1),K){$.width=$.width[0],$.height=$.height[0],x!=null&&(x[0]=$.width),D!=null&&(D[0]=$.height);e:{if(x=new fo,(D=new xs).data=f,D.w=m,D.ha=S,D.kd=1,m=[0],e(D!=null),((f=Cs(D.data,D.w,D.ha,null,null,null,m,null,D))==0||f==7)&&m[0]&&(f=4),(m=f)==0){if(e(H!=null),x.data=D.data,x.w=D.w+D.offset,x.ha=D.ha-D.offset,x.put=Sr,x.ac=Jn,x.bc=pi,x.ma=H,D.xa){if((f=Wn())==null){H=1;break e}if(function(Te,Se){var qe=[0],De=[0],de=[0];t:for(;;){if(Te==null)return 0;if(Se==null)return Te.a=2,0;if(Te.l=Se,Te.a=0,re(Te.m,Se.data,Se.w,Se.ha),!ft(Te.m,qe,De,de)){Te.a=3;break t}if(Te.xb=xl,Se.width=qe[0],Se.height=De[0],!Mi(qe[0],De[0],1,Te,null))break t;return 1}return e(Te.a!=0),0}(f,x)){if(x=(m=Na(x.width,x.height,H.Oa,H.ba))==0){t:{x=f;n:for(;;){if(x==null){x=0;break t}if(e(x.s.yc!=null),e(x.s.Ya!=null),e(0<x.s.Wb),e((S=x.l)!=null),e((D=S.ma)!=null),x.xb!=0){if(x.ca=D.ba,x.tb=D.tb,e(x.ca!=null),!pl(D.Oa,S,Su)){x.a=2;break n}if(!_s(x,S.width)||S.da)break n;if((S.da||Yt(x.ca.S))&&be(),11>x.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),x.ca.f.kb.F!=null&&be()),x.Pb&&0<x.s.ua&&x.s.vb.X==null&&!st(x.s.vb,x.s.Wa.Xa)){x.a=1;break n}x.xb=0}if(!Xn(x,x.V,x.Ba,x.c,x.i,S.o,js))break n;D.Dc=x.Ma,x=1;break t}e(x.a!=0),x=0}x=!x}x&&(m=f.a)}else m=f.a}else{if((f=new Ar)==null){H=1;break e}if(f.Fa=D.na,f.P=D.P,f.qc=D.Sa,Aa(f,x)){if((m=Na(x.width,x.height,H.Oa,H.ba))==0){if(f.Aa=0,S=H.Oa,e((D=f)!=null),S!=null){if(0<(K=0>(K=S.Md)?0:100<K?255:255*K/100)){for(J=he=0;4>J;++J)12>(Ie=D.pb[J]).lc&&(Ie.ia=K*mf[0>Ie.lc?0:Ie.lc]>>3),he|=Ie.ia;he&&(alert("todo:VP8InitRandom"),D.ia=1)}D.Ga=S.Id,100<D.Ga?D.Ga=100:0>D.Ga&&(D.Ga=0)}zs(f,x)||(m=f.a)}}else m=f.a}m==0&&H.Oa!=null&&H.Oa.fd&&(m=gl(H.ba))}H=m}U=H!=0?null:11>U?$.f.RGBA.eb:$.f.kb.y}else U=null;return U};var Pu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function p(A,N){for(var O="",P=0;P<4;P++)O+=String.fromCharCode(A[N++]);return O}function v(A,N){return(A[N+0]<<0|A[N+1]<<8|A[N+2]<<16)>>>0}function _(A,N){return(A[N+0]<<0|A[N+1]<<8|A[N+2]<<16|A[N+3]<<24)>>>0}new h;var I=[0],b=[0],j=[],M=new h,B=n,V=function(A,N){var O={},P=0,C=!1,R=0,ie=0;if(O.frames=[],!function(W,Y,te,oe){for(var ve=0;ve<oe;ve++)if(W[Y+ve]!=te.charCodeAt(ve))return!0;return!1}(A,N,"RIFF",4)){for(_(A,N+=4),N+=8;N<A.length;){var Ne=p(A,N),Ae=_(A,N+=4);N+=4;var ye=Ae+(1&Ae);switch(Ne){case"VP8 ":case"VP8L":O.frames[P]===void 0&&(O.frames[P]={}),(ce=O.frames[P]).src_off=C?ie:N-8,ce.src_size=R+Ae+8,P++,C&&(C=!1,R=0,ie=0);break;case"VP8X":(ce=O.header={}).feature_flags=A[N];var re=N+4;ce.canvas_width=1+v(A,re),re+=3,ce.canvas_height=1+v(A,re),re+=3;break;case"ALPH":C=!0,R=ye+8,ie=N-8;break;case"ANIM":(ce=O.header).bgcolor=_(A,N),re=N+4,ce.loop_count=(X=A)[(L=re)+0]<<0|X[L+1]<<8,re+=2;break;case"ANMF":var ae,ce;(ce=O.frames[P]={}).offset_x=2*v(A,N),N+=3,ce.offset_y=2*v(A,N),N+=3,ce.width=1+v(A,N),N+=3,ce.height=1+v(A,N),N+=3,ce.duration=v(A,N),N+=3,ae=A[N++],ce.dispose=1&ae,ce.blend=ae>>1&1}Ne!="ANMF"&&(N+=ye)}var X,L;return O}}(B,0);V.response=B,V.rgbaoutput=!0,V.dataurl=!1;var Q=V.header?V.header:null,ne=V.frames?V.frames:null;if(Q){Q.loop_counter=Q.loop_count,I=[Q.canvas_height],b=[Q.canvas_width];for(var me=0;me<ne.length&&ne[me].blend!=0;me++);}var xe=ne[0],Ee=M.WebPDecodeRGBA(B,xe.src_off,xe.src_size,b,I);xe.rgba=Ee,xe.imgwidth=b[0],xe.imgheight=I[0];for(var q=0;q<b[0]*I[0]*4;q++)j[q]=Ee[q];return this.width=b,this.height=I,this.data=j,this}(function(n){var e=function(){return typeof fm=="function"},t=function(I,b,j,M){var B=4,V=l;switch(M){case n.image_compression.FAST:B=1,V=o;break;case n.image_compression.MEDIUM:B=6,V=u;break;case n.image_compression.SLOW:B=9,V=h}I=r(I,b,j,V);var Q=fm(I,{level:B});return n.__addimage__.arrayBufferToBinaryString(Q)},r=function(I,b,j,M){for(var B,V,Q,ne=I.length/b,me=new Uint8Array(I.length+ne),xe=v(),Ee=0;Ee<ne;Ee+=1){if(Q=Ee*b,B=I.subarray(Q,Q+b),M)me.set(M(B,j,V),Q+Ee);else{for(var q,A=xe.length,N=[];q<A;q+=1)N[q]=xe[q](B,j,V);var O=_(N.concat());me.set(N[O],Q+Ee)}V=B}return me},i=function(I){var b=Array.apply([],I);return b.unshift(0),b},o=function(I,b){var j,M=[],B=I.length;M[0]=1;for(var V=0;V<B;V+=1)j=I[V-b]||0,M[V+1]=I[V]-j+256&255;return M},l=function(I,b,j){var M,B=[],V=I.length;B[0]=2;for(var Q=0;Q<V;Q+=1)M=j&&j[Q]||0,B[Q+1]=I[Q]-M+256&255;return B},u=function(I,b,j){var M,B,V=[],Q=I.length;V[0]=3;for(var ne=0;ne<Q;ne+=1)M=I[ne-b]||0,B=j&&j[ne]||0,V[ne+1]=I[ne]+256-(M+B>>>1)&255;return V},h=function(I,b,j){var M,B,V,Q,ne=[],me=I.length;ne[0]=4;for(var xe=0;xe<me;xe+=1)M=I[xe-b]||0,B=j&&j[xe]||0,V=j&&j[xe-b]||0,Q=p(M,B,V),ne[xe+1]=I[xe]-Q+256&255;return ne},p=function(I,b,j){if(I===b&&b===j)return I;var M=Math.abs(b-j),B=Math.abs(I-j),V=Math.abs(I+b-j-j);return M<=B&&M<=V?I:B<=V?b:j},v=function(){return[i,o,l,u,h]},_=function(I){var b=I.map(function(j){return j.reduce(function(M,B){return M+Math.abs(B)},0)});return b.indexOf(Math.min.apply(null,b))};n.processPNG=function(I,b,j,M){var B,V,Q,ne,me,xe,Ee,q,A,N,O,P,C,R,ie,Ne=this.decode.FLATE_DECODE,Ae="";if(this.__addimage__.isArrayBuffer(I)&&(I=new Uint8Array(I)),this.__addimage__.isArrayBufferView(I)){if(I=(Q=new ax(I)).imgData,V=Q.bits,B=Q.colorSpace,me=Q.colors,[4,6].indexOf(Q.colorType)!==-1){if(Q.bits===8){A=(q=Q.pixelBitlength==32?new Uint32Array(Q.decodePixels().buffer):Q.pixelBitlength==16?new Uint16Array(Q.decodePixels().buffer):new Uint8Array(Q.decodePixels().buffer)).length,O=new Uint8Array(A*Q.colors),N=new Uint8Array(A);var ye,re=Q.pixelBitlength-Q.bits;for(R=0,ie=0;R<A;R++){for(C=q[R],ye=0;ye<re;)O[ie++]=C>>>ye&255,ye+=Q.bits;N[R]=C>>>ye&255}}if(Q.bits===16){A=(q=new Uint32Array(Q.decodePixels().buffer)).length,O=new Uint8Array(A*(32/Q.pixelBitlength)*Q.colors),N=new Uint8Array(A*(32/Q.pixelBitlength)),P=Q.colors>1,R=0,ie=0;for(var ae=0;R<A;)C=q[R++],O[ie++]=C>>>0&255,P&&(O[ie++]=C>>>16&255,C=q[R++],O[ie++]=C>>>0&255),N[ae++]=C>>>16&255;V=8}M!==n.image_compression.NONE&&e()?(I=t(O,Q.width*Q.colors,Q.colors,M),Ee=t(N,Q.width,1,M)):(I=O,Ee=N,Ne=void 0)}if(Q.colorType===3&&(B=this.color_spaces.INDEXED,xe=Q.palette,Q.transparency.indexed)){var ce=Q.transparency.indexed,X=0;for(R=0,A=ce.length;R<A;++R)X+=ce[R];if((X/=255)===A-1&&ce.indexOf(0)!==-1)ne=[ce.indexOf(0)];else if(X!==A){for(q=Q.decodePixels(),N=new Uint8Array(q.length),R=0,A=q.length;R<A;R++)N[R]=ce[q[R]];Ee=t(N,Q.width,1)}}var L=function(W){var Y;switch(W){case n.image_compression.FAST:Y=11;break;case n.image_compression.MEDIUM:Y=13;break;case n.image_compression.SLOW:Y=14;break;default:Y=12}return Y}(M);return Ne===this.decode.FLATE_DECODE&&(Ae="/Predictor "+L+" "),Ae+="/Colors "+me+" /BitsPerComponent "+V+" /Columns "+Q.width,(this.__addimage__.isArrayBuffer(I)||this.__addimage__.isArrayBufferView(I))&&(I=this.__addimage__.arrayBufferToBinaryString(I)),(Ee&&this.__addimage__.isArrayBuffer(Ee)||this.__addimage__.isArrayBufferView(Ee))&&(Ee=this.__addimage__.arrayBufferToBinaryString(Ee)),{alias:j,data:I,index:b,filter:Ne,decodeParameters:Ae,transparency:ne,palette:xe,sMask:Ee,predictor:L,width:Q.width,height:Q.height,bitsPerComponent:V,colorSpace:B}}}})(Rt.API),function(n){n.processGIF89A=function(e,t,r,i){var o=new lx(e),l=o.width,u=o.height,h=[];o.decodeAndBlitFrameRGBA(0,h);var p={data:h,width:l,height:u},v=new xg(100).encode(p,100);return n.processJPEG.call(this,v,t,r,i)},n.processGIF87A=n.processGIF89A}(Rt.API),Vo.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var n=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(n);for(var e=0;e<n;e++){var t=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:t,quad:o}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Vo.prototype.parseBGR=function(){this.pos=this.offset;try{var n="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[n]()}catch(t){Fn.log("bit decode error:"+t)}},Vo.prototype.bit1=function(){var n,e=Math.ceil(this.width/8),t=e%4;for(n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<e;i++)for(var o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+8*i*4,u=0;u<8&&8*i+u<this.width;u++){var h=this.palette[o>>7-u&1];this.data[l+4*u]=h.blue,this.data[l+4*u+1]=h.green,this.data[l+4*u+2]=h.red,this.data[l+4*u+3]=255}t!==0&&(this.pos+=4-t)}},Vo.prototype.bit4=function(){for(var n=Math.ceil(this.width/2),e=n%4,t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<n;i++){var o=this.datav.getUint8(this.pos++,!0),l=r*this.width*4+2*i*4,u=o>>4,h=15&o,p=this.palette[u];if(this.data[l]=p.blue,this.data[l+1]=p.green,this.data[l+2]=p.red,this.data[l+3]=255,2*i+1>=this.width)break;p=this.palette[h],this.data[l+4]=p.blue,this.data[l+4+1]=p.green,this.data[l+4+2]=p.red,this.data[l+4+3]=255}e!==0&&(this.pos+=4-e)}},Vo.prototype.bit8=function(){for(var n=this.width%4,e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*r;if(i<this.palette.length){var l=this.palette[i];this.data[o]=l.red,this.data[o+1]=l.green,this.data[o+2]=l.blue,this.data[o+3]=255}else this.data[o]=255,this.data[o+1]=255,this.data[o+2]=255,this.data[o+3]=255}n!==0&&(this.pos+=4-n)}},Vo.prototype.bit15=function(){for(var n=this.width%3,e=parseInt("11111",2),t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<this.width;i++){var o=this.datav.getUint16(this.pos,!0);this.pos+=2;var l=(o&e)/e*255|0,u=(o>>5&e)/e*255|0,h=(o>>10&e)/e*255|0,p=o>>15?255:0,v=r*this.width*4+4*i;this.data[v]=h,this.data[v+1]=u,this.data[v+2]=l,this.data[v+3]=p}this.pos+=n}},Vo.prototype.bit16=function(){for(var n=this.width%3,e=parseInt("11111",2),t=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,o=0;o<this.width;o++){var l=this.datav.getUint16(this.pos,!0);this.pos+=2;var u=(l&e)/e*255|0,h=(l>>5&t)/t*255|0,p=(l>>11)/e*255|0,v=i*this.width*4+4*o;this.data[v]=p,this.data[v+1]=h,this.data[v+2]=u,this.data[v+3]=255}this.pos+=n}},Vo.prototype.bit24=function(){for(var n=this.height-1;n>=0;n--){for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=e*this.width*4+4*t;this.data[l]=o,this.data[l+1]=i,this.data[l+2]=r,this.data[l+3]=255}this.pos+=this.width%4}},Vo.prototype.bit32=function(){for(var n=this.height-1;n>=0;n--)for(var e=this.bottom_up?n:this.height-1-n,t=0;t<this.width;t++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=this.datav.getUint8(this.pos++,!0),l=this.datav.getUint8(this.pos++,!0),u=e*this.width*4+4*t;this.data[u]=o,this.data[u+1]=i,this.data[u+2]=r,this.data[u+3]=l}},Vo.prototype.getData=function(){return this.data},function(n){n.processBMP=function(e,t,r,i){var o=new Vo(e,!1),l=o.width,u=o.height,h={data:o.getData(),width:l,height:u},p=new xg(100).encode(h,100);return n.processJPEG.call(this,p,t,r,i)}}(Rt.API),Lv.prototype.getData=function(){return this.data},function(n){n.processWEBP=function(e,t,r,i){var o=new Lv(e),l=o.width,u=o.height,h={data:o.getData(),width:l,height:u},p=new xg(100).encode(h,100);return n.processJPEG.call(this,p,t,r,i)}}(Rt.API),Rt.API.processRGBA=function(n,e,t){for(var r=n.data,i=r.length,o=new Uint8Array(i/4*3),l=new Uint8Array(i/4),u=0,h=0,p=0;p<i;p+=4){var v=r[p],_=r[p+1],I=r[p+2],b=r[p+3];o[u++]=v,o[u++]=_,o[u++]=I,l[h++]=b}var j=this.__addimage__.arrayBufferToBinaryString(o);return{alpha:this.__addimage__.arrayBufferToBinaryString(l),data:j,index:e,alias:t,colorSpace:"DeviceRGB",bitsPerComponent:8,width:n.width,height:n.height}},Rt.API.setLanguage=function(n){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[n]!==void 0&&(this.internal.languageSettings.languageCode=n,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},bc=Rt.API,td=bc.getCharWidthsArray=function(n,e){var t,r,i=(e=e||{}).font||this.internal.getFont(),o=e.fontSize||this.internal.getFontSize(),l=e.charSpace||this.internal.getCharSpace(),u=e.widths?e.widths:i.metadata.Unicode.widths,h=u.fof?u.fof:1,p=e.kerning?e.kerning:i.metadata.Unicode.kerning,v=p.fof?p.fof:1,_=e.doKerning!==!1,I=0,b=n.length,j=0,M=u[0]||h,B=[];for(t=0;t<b;t++)r=n.charCodeAt(t),typeof i.metadata.widthOfString=="function"?B.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+l*(1e3/o)||0)/1e3):(I=_&&kn(p[r])==="object"&&!isNaN(parseInt(p[r][j],10))?p[r][j]/v:0,B.push((u[r]||M)/h+I)),j=r;return B},Pv=bc.getStringUnitWidth=function(n,e){var t=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return bc.processArabic&&(n=bc.processArabic(n)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(n,t,i)/t:td.apply(this,arguments).reduce(function(o,l){return o+l},0)},Nv=function(n,e,t,r){for(var i=[],o=0,l=n.length,u=0;o!==l&&u+e[o]<t;)u+=e[o],o++;i.push(n.slice(0,o));var h=o;for(u=0;o!==l;)u+e[o]>r&&(i.push(n.slice(h,o)),u=0,h=o),u+=e[o],o++;return h!==o&&i.push(n.slice(h,o)),i},Cv=function(n,e,t){t||(t={});var r,i,o,l,u,h,p,v=[],_=[v],I=t.textIndent||0,b=0,j=0,M=n.split(" "),B=td.apply(this,[" ",t])[0];if(h=t.lineIndent===-1?M[0].length+2:t.lineIndent||0){var V=Array(h).join(" "),Q=[];M.map(function(me){(me=me.split(/\s*\n/)).length>1?Q=Q.concat(me.map(function(xe,Ee){return(Ee&&xe.length?`
`:"")+xe})):Q.push(me[0])}),M=Q,h=Pv.apply(this,[V,t])}for(o=0,l=M.length;o<l;o++){var ne=0;if(r=M[o],h&&r[0]==`
`&&(r=r.substr(1),ne=1),I+b+(j=(i=td.apply(this,[r,t])).reduce(function(me,xe){return me+xe},0))>e||ne){if(j>e){for(u=Nv.apply(this,[r,i,e-(I+b),e]),v.push(u.shift()),v=[u.pop()];u.length;)_.push([u.shift()]);j=i.slice(r.length-(v[0]?v[0].length:0)).reduce(function(me,xe){return me+xe},0)}else v=[r];_.push(v),I=j+h,b=B}else v.push(r),I+=b+j,b=B}return p=h?function(me,xe){return(xe?V:"")+me.join(" ")}:function(me){return me.join(" ")},_.map(p)},bc.splitTextToSize=function(n,e,t){var r,i=(t=t||{}).fontSize||this.internal.getFontSize(),o=(function(v){if(v.widths&&v.kerning)return{widths:v.widths,kerning:v.kerning};var _=this.internal.getFont(v.fontName,v.fontStyle);return _.metadata.Unicode?{widths:_.metadata.Unicode.widths||{0:1},kerning:_.metadata.Unicode.kerning||{}}:{font:_.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,t);r=Array.isArray(n)?n:String(n).split(/\r?\n/);var l=1*this.internal.scaleFactor*e/i;o.textIndent=t.textIndent?1*t.textIndent*this.internal.scaleFactor/i:0,o.lineIndent=t.lineIndent;var u,h,p=[];for(u=0,h=r.length;u<h;u++)p=p.concat(Cv.apply(this,[r[u],l,o]));return p},function(n){n.__fontmetrics__=n.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",t={},r={},i=0;i<e.length;i++)t[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var o=function(_){return"0x"+parseInt(_,10).toString(16)},l=n.__fontmetrics__.compress=function(_){var I,b,j,M,B=["{"];for(var V in _){if(I=_[V],isNaN(parseInt(V,10))?b="'"+V+"'":(V=parseInt(V,10),b=(b=o(V).slice(2)).slice(0,-1)+r[b.slice(-1)]),typeof I=="number")I<0?(j=o(I).slice(3),M="-"):(j=o(I).slice(2),M=""),j=M+j.slice(0,-1)+r[j.slice(-1)];else{if(kn(I)!=="object")throw new Error("Don't know what to do with value type "+kn(I)+".");j=l(I)}B.push(b+j)}return B.push("}"),B.join("")},u=n.__fontmetrics__.uncompress=function(_){if(typeof _!="string")throw new Error("Invalid argument passed to uncompress.");for(var I,b,j,M,B={},V=1,Q=B,ne=[],me="",xe="",Ee=_.length-1,q=1;q<Ee;q+=1)(M=_[q])=="'"?I?(j=I.join(""),I=void 0):I=[]:I?I.push(M):M=="{"?(ne.push([Q,j]),Q={},j=void 0):M=="}"?((b=ne.pop())[0][b[1]]=Q,j=void 0,Q=b[0]):M=="-"?V=-1:j===void 0?t.hasOwnProperty(M)?(me+=t[M],j=parseInt(me,16)*V,V=1,me=""):me+=M:t.hasOwnProperty(M)?(xe+=t[M],Q[j]=parseInt(xe,16)*V,V=1,j=void 0,xe=""):xe+=M;return B},h={codePages:["WinAnsiEncoding"],WinAnsiEncoding:u("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},p={Unicode:{Courier:h,"Courier-Bold":h,"Courier-BoldOblique":h,"Courier-Oblique":h,Helvetica:h,"Helvetica-Bold":h,"Helvetica-BoldOblique":h,"Helvetica-Oblique":h,"Times-Roman":h,"Times-Bold":h,"Times-BoldItalic":h,"Times-Italic":h}},v={Unicode:{"Courier-Oblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":u("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":u("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:u("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":u("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:u("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":u("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":u("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":u("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":u("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};n.events.push(["addFont",function(_){var I=_.font,b=v.Unicode[I.postScriptName];b&&(I.metadata.Unicode={},I.metadata.Unicode.widths=b.widths,I.metadata.Unicode.kerning=b.kerning);var j=p.Unicode[I.postScriptName];j&&(I.metadata.Unicode.encoding=j,I.encoding=j.codePages[0])}])}(Rt.API),function(n){var e=function(t){for(var r=t.length,i=new Uint8Array(r),o=0;o<r;o++)i[o]=t.charCodeAt(o);return i};n.API.events.push(["addFont",function(t){var r=void 0,i=t.font,o=t.instance;if(!i.isStandardFont){if(o===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=o.existsFileInVFS(i.postScriptName)===!1?o.loadFile(i.postScriptName):o.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(l,u){u=/^\x00\x01\x00\x00/.test(u)?e(u):e(Fh(u)),l.metadata=n.API.TTFFont.open(u),l.metadata.Unicode=l.metadata.Unicode||{encoding:{},kerning:{},widths:[]},l.metadata.glyIdsUsed=[0]})(i,r)}}])}(Rt),function(n){function e(){return(Dt.canvg?Promise.resolve(Dt.canvg):am(()=>import("./index.es-DDDzefdM.js"),[])).catch(function(t){return Promise.reject(new Error("Could not load canvg: "+t))}).then(function(t){return t.default?t.default:t})}Rt.API.addSvgAsImage=function(t,r,i,o,l,u,h,p){if(isNaN(r)||isNaN(i))throw Fn.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(o)||isNaN(l))throw Fn.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var v=document.createElement("canvas");v.width=o,v.height=l;var _=v.getContext("2d");_.fillStyle="#fff",_.fillRect(0,0,v.width,v.height);var I={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},b=this;return e().then(function(j){return j.fromString(_,t,I)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(j){return j.render(I)}).then(function(){b.addImage(v.toDataURL("image/jpeg",1),r,i,o,l,h,p)})}}(),Rt.API.putTotalPages=function(n){var e,t=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(n,"g"),t=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(n,this.internal.getFont()),"g"),t=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,t);return this},Rt.API.viewerPreferences=function(n,e){var t;n=n||{},e=e||!1;var r,i,o,l={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},u=Object.keys(l),h=[],p=0,v=0,_=0;function I(j,M){var B,V=!1;for(B=0;B<j.length;B+=1)j[B]===M&&(V=!0);return V}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(l)),this.internal.viewerpreferences.isSubscribed=!1),t=this.internal.viewerpreferences.configuration,n==="reset"||e===!0){var b=u.length;for(_=0;_<b;_+=1)t[u[_]].value=t[u[_]].defaultValue,t[u[_]].explicitSet=!1}if(kn(n)==="object"){for(i in n)if(o=n[i],I(u,i)&&o!==void 0){if(t[i].type==="boolean"&&typeof o=="boolean")t[i].value=o;else if(t[i].type==="name"&&I(t[i].valueSet,o))t[i].value=o;else if(t[i].type==="integer"&&Number.isInteger(o))t[i].value=o;else if(t[i].type==="array"){for(p=0;p<o.length;p+=1)if(r=!0,o[p].length===1&&typeof o[p][0]=="number")h.push(String(o[p]-1));else if(o[p].length>1){for(v=0;v<o[p].length;v+=1)typeof o[p][v]!="number"&&(r=!1);r===!0&&h.push([o[p][0]-1,o[p][1]-1].join(" "))}t[i].value="["+h.join(" ")+"]"}else t[i].value=t[i].defaultValue;t[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var j,M=[];for(j in t)t[j].explicitSet===!0&&(t[j].type==="name"?M.push("/"+j+" /"+t[j].value):M.push("/"+j+" "+t[j].value));M.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+M.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=t,this},function(n){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),o=unescape(encodeURIComponent(r)),l=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),u=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),h=unescape(encodeURIComponent("</x:xmpmeta>")),p=o.length+l.length+u.length+i.length+h.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+p+" >>"),this.internal.write("stream"),this.internal.write(i+o+l+u+h),this.internal.write("endstream"),this.internal.write("endobj")},t=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};n.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",t),this.internal.events.subscribe("postPutResources",e)),this}}(Rt.API),function(n){var e=n.API,t=e.pdfEscape16=function(o,l){for(var u,h=l.metadata.Unicode.widths,p=["","0","00","000","0000"],v=[""],_=0,I=o.length;_<I;++_){if(u=l.metadata.characterToGlyph(o.charCodeAt(_)),l.metadata.glyIdsUsed.push(u),l.metadata.toUnicode[u]=o.charCodeAt(_),h.indexOf(u)==-1&&(h.push(u),h.push([parseInt(l.metadata.widthOfGlyph(u),10)])),u=="0")return v.join("");u=u.toString(16),v.push(p[4-u.length],u)}return v.join("")},r=function(o){var l,u,h,p,v,_,I;for(v=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,h=[],_=0,I=(u=Object.keys(o).sort(function(b,j){return b-j})).length;_<I;_++)l=u[_],h.length>=100&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar`,h=[]),o[l]!==void 0&&o[l]!==null&&typeof o[l].toString=="function"&&(p=("0000"+o[l].toString(16)).slice(-4),l=("0000"+(+l).toString(16)).slice(-4),h.push("<"+l+"><"+p+">"));return h.length&&(v+=`
`+h.length+` beginbfchar
`+h.join(`
`)+`
endbfchar
`),v+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(o){(function(l){var u=l.font,h=l.out,p=l.newObject,v=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="Identity-H"){for(var _=u.metadata.Unicode.widths,I=u.metadata.subset.encode(u.metadata.glyIdsUsed,1),b="",j=0;j<I.length;j++)b+=String.fromCharCode(I[j]);var M=p();v({data:b,addLength1:!0,objectId:M}),h("endobj");var B=p();v({data:r(u.metadata.toUnicode),addLength1:!0,objectId:B}),h("endobj");var V=p();h("<<"),h("/Type /FontDescriptor"),h("/FontName /"+Pc(u.fontName)),h("/FontFile2 "+M+" 0 R"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/Flags "+u.metadata.flags),h("/StemV "+u.metadata.stemV),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h(">>"),h("endobj");var Q=p();h("<<"),h("/Type /Font"),h("/BaseFont /"+Pc(u.fontName)),h("/FontDescriptor "+V+" 0 R"),h("/W "+n.API.PDFObject.convert(_)),h("/CIDToGIDMap /Identity"),h("/DW 1000"),h("/Subtype /CIDFontType2"),h("/CIDSystemInfo"),h("<<"),h("/Supplement 0"),h("/Registry (Adobe)"),h("/Ordering ("+u.encoding+")"),h(">>"),h(">>"),h("endobj"),u.objectNumber=p(),h("<<"),h("/Type /Font"),h("/Subtype /Type0"),h("/ToUnicode "+B+" 0 R"),h("/BaseFont /"+Pc(u.fontName)),h("/Encoding /"+u.encoding),h("/DescendantFonts ["+Q+" 0 R]"),h(">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]),e.events.push(["putFont",function(o){(function(l){var u=l.font,h=l.out,p=l.newObject,v=l.putStream;if(u.metadata instanceof n.API.TTFFont&&u.encoding==="WinAnsiEncoding"){for(var _=u.metadata.rawData,I="",b=0;b<_.length;b++)I+=String.fromCharCode(_[b]);var j=p();v({data:I,addLength1:!0,objectId:j}),h("endobj");var M=p();v({data:r(u.metadata.toUnicode),addLength1:!0,objectId:M}),h("endobj");var B=p();h("<<"),h("/Descent "+u.metadata.decender),h("/CapHeight "+u.metadata.capHeight),h("/StemV "+u.metadata.stemV),h("/Type /FontDescriptor"),h("/FontFile2 "+j+" 0 R"),h("/Flags 96"),h("/FontBBox "+n.API.PDFObject.convert(u.metadata.bbox)),h("/FontName /"+Pc(u.fontName)),h("/ItalicAngle "+u.metadata.italicAngle),h("/Ascent "+u.metadata.ascender),h(">>"),h("endobj"),u.objectNumber=p();for(var V=0;V<u.metadata.hmtx.widths.length;V++)u.metadata.hmtx.widths[V]=parseInt(u.metadata.hmtx.widths[V]*(1e3/u.metadata.head.unitsPerEm));h("<</Subtype/TrueType/Type/Font/ToUnicode "+M+" 0 R/BaseFont/"+Pc(u.fontName)+"/FontDescriptor "+B+" 0 R/Encoding/"+u.encoding+" /FirstChar 29 /LastChar 255 /Widths "+n.API.PDFObject.convert(u.metadata.hmtx.widths)+">>"),h("endobj"),u.isAlreadyPutted=!0}})(o)}]);var i=function(o){var l,u=o.text||"",h=o.x,p=o.y,v=o.options||{},_=o.mutex||{},I=_.pdfEscape,b=_.activeFontKey,j=_.fonts,M=b,B="",V=0,Q="",ne=j[M].encoding;if(j[M].encoding!=="Identity-H")return{text:u,x:h,y:p,options:v,mutex:_};for(Q=u,M=b,Array.isArray(u)&&(Q=u[0]),V=0;V<Q.length;V+=1)j[M].metadata.hasOwnProperty("cmap")&&(l=j[M].metadata.cmap.unicode.codeMap[Q[V].charCodeAt(0)]),l||Q[V].charCodeAt(0)<256&&j[M].metadata.hasOwnProperty("Unicode")?B+=Q[V]:B+="";var me="";return parseInt(M.slice(1))<14||ne==="WinAnsiEncoding"?me=I(B,M).split("").map(function(xe){return xe.charCodeAt(0).toString(16)}).join(""):ne==="Identity-H"&&(me=t(B,j[M])),_.isHex=!0,{text:me,x:h,y:p,options:v,mutex:_}};e.events.push(["postProcessText",function(o){var l=o.text||"",u=[],h={text:l,x:o.x,y:o.y,options:o.options,mutex:o.mutex};if(Array.isArray(l)){var p=0;for(p=0;p<l.length;p+=1)Array.isArray(l[p])&&l[p].length===3?u.push([i(Object.assign({},h,{text:l[p][0]})).text,l[p][1],l[p][2]]):u.push(i(Object.assign({},h,{text:l[p]})).text);o.text=u}else o.text=i(Object.assign({},h,{text:l})).text}])}(Rt),function(n){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};n.existsFileInVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0},n.addFileToVFS=function(t,r){return e.call(this),this.internal.vFS[t]=r,this},n.getFileFromVFS=function(t){return e.call(this),this.internal.vFS[t]!==void 0?this.internal.vFS[t]:null}}(Rt.API),function(n){n.__bidiEngine__=n.prototype.__bidiEngine__=function(r){var i,o,l,u,h,p,v,_=e,I=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],b=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],j={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},M={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},B=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],V=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Q=!1,ne=0;this.__bidiEngine__={};var me=function(P){var C=P.charCodeAt(),R=C>>8,ie=M[R];return ie!==void 0?_[256*ie+(255&C)]:R===252||R===253?"AL":V.test(R)?"L":R===8?"R":"N"},xe=function(P){for(var C,R=0;R<P.length;R++){if((C=me(P.charAt(R)))==="L")return!1;if(C==="R")return!0}return!1},Ee=function(P,C,R,ie){var Ne,Ae,ye,re,ae=C[ie];switch(ae){case"L":case"R":Q=!1;break;case"N":case"AN":break;case"EN":Q&&(ae="AN");break;case"AL":Q=!0,ae="R";break;case"WS":ae="N";break;case"CS":ie<1||ie+1>=C.length||(Ne=R[ie-1])!=="EN"&&Ne!=="AN"||(Ae=C[ie+1])!=="EN"&&Ae!=="AN"?ae="N":Q&&(Ae="AN"),ae=Ae===Ne?Ae:"N";break;case"ES":ae=(Ne=ie>0?R[ie-1]:"B")==="EN"&&ie+1<C.length&&C[ie+1]==="EN"?"EN":"N";break;case"ET":if(ie>0&&R[ie-1]==="EN"){ae="EN";break}if(Q){ae="N";break}for(ye=ie+1,re=C.length;ye<re&&C[ye]==="ET";)ye++;ae=ye<re&&C[ye]==="EN"?"EN":"N";break;case"NSM":if(l&&!u){for(re=C.length,ye=ie+1;ye<re&&C[ye]==="NSM";)ye++;if(ye<re){var ce=P[ie],X=ce>=1425&&ce<=2303||ce===64286;if(Ne=C[ye],X&&(Ne==="R"||Ne==="AL")){ae="R";break}}}ae=ie<1||(Ne=C[ie-1])==="B"?"N":R[ie-1];break;case"B":Q=!1,i=!0,ae=ne;break;case"S":o=!0,ae="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Q=!1;break;case"BN":ae="N"}return ae},q=function(P,C,R){var ie=P.split("");return R&&A(ie,R,{hiLevel:ne}),ie.reverse(),C&&C.reverse(),ie.join("")},A=function(P,C,R){var ie,Ne,Ae,ye,re,ae=-1,ce=P.length,X=0,L=[],W=ne?b:I,Y=[];for(Q=!1,i=!1,o=!1,Ne=0;Ne<ce;Ne++)Y[Ne]=me(P[Ne]);for(Ae=0;Ae<ce;Ae++){if(re=X,L[Ae]=Ee(P,Y,L,Ae),ie=240&(X=W[re][j[L[Ae]]]),X&=15,C[Ae]=ye=W[X][5],ie>0)if(ie===16){for(Ne=ae;Ne<Ae;Ne++)C[Ne]=1;ae=-1}else ae=-1;if(W[X][6])ae===-1&&(ae=Ae);else if(ae>-1){for(Ne=ae;Ne<Ae;Ne++)C[Ne]=ye;ae=-1}Y[Ae]==="B"&&(C[Ae]=0),R.hiLevel|=ye}o&&function(te,oe,ve){for(var ue=0;ue<ve;ue++)if(te[ue]==="S"){oe[ue]=ne;for(var ge=ue-1;ge>=0&&te[ge]==="WS";ge--)oe[ge]=ne}}(Y,C,ce)},N=function(P,C,R,ie,Ne){if(!(Ne.hiLevel<P)){if(P===1&&ne===1&&!i)return C.reverse(),void(R&&R.reverse());for(var Ae,ye,re,ae,ce=C.length,X=0;X<ce;){if(ie[X]>=P){for(re=X+1;re<ce&&ie[re]>=P;)re++;for(ae=X,ye=re-1;ae<ye;ae++,ye--)Ae=C[ae],C[ae]=C[ye],C[ye]=Ae,R&&(Ae=R[ae],R[ae]=R[ye],R[ye]=Ae);X=re}X++}}},O=function(P,C,R){var ie=P.split(""),Ne={hiLevel:ne};return R||(R=[]),A(ie,R,Ne),function(Ae,ye,re){if(re.hiLevel!==0&&v)for(var ae,ce=0;ce<Ae.length;ce++)ye[ce]===1&&(ae=B.indexOf(Ae[ce]))>=0&&(Ae[ce]=B[ae+1])}(ie,R,Ne),N(2,ie,C,R,Ne),N(1,ie,C,R,Ne),ie.join("")};return this.__bidiEngine__.doBidiReorder=function(P,C,R){if(function(Ne,Ae){if(Ae)for(var ye=0;ye<Ne.length;ye++)Ae[ye]=ye;u===void 0&&(u=xe(Ne)),p===void 0&&(p=xe(Ne))}(P,C),l||!h||p)if(l&&h&&u^p)ne=u?1:0,P=q(P,C,R);else if(!l&&h&&p)ne=u?1:0,P=O(P,C,R),P=q(P,C);else if(!l||u||h||p){if(l&&!h&&u^p)P=q(P,C),u?(ne=0,P=O(P,C,R)):(ne=1,P=O(P,C,R),P=q(P,C));else if(l&&u&&!h&&p)ne=1,P=O(P,C,R),P=q(P,C);else if(!l&&!h&&u^p){var ie=v;u?(ne=1,P=O(P,C,R),ne=0,v=!1,P=O(P,C,R),v=ie):(ne=0,P=O(P,C,R),P=q(P,C),ne=1,v=!1,P=O(P,C,R),v=ie,P=q(P,C))}}else ne=0,P=O(P,C,R);else ne=u?1:0,P=O(P,C,R);return P},this.__bidiEngine__.setOptions=function(P){P&&(l=P.isInputVisual,h=P.isOutputVisual,u=P.isInputRtl,p=P.isOutputRtl,v=P.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],t=new n.__bidiEngine__({isInputVisual:!0});n.API.events.push(["postProcessText",function(r){var i=r.text;r.x,r.y;var o=r.options||{};r.mutex,o.lang;var l=[];if(o.isInputVisual=typeof o.isInputVisual!="boolean"||o.isInputVisual,t.setOptions(o),Object.prototype.toString.call(i)==="[object Array]"){var u=0;for(l=[],u=0;u<i.length;u+=1)Object.prototype.toString.call(i[u])==="[object Array]"?l.push([t.doBidiReorder(i[u][0]),i[u][1],i[u][2]]):l.push([t.doBidiReorder(i[u])]);r.text=l}else r.text=t.doBidiReorder(i);t.setOptions({isInputVisual:!0})}])}(Rt),Rt.API.TTFFont=function(){function n(e){var t;if(this.rawData=e,t=this.contents=new du(e),this.contents.pos=4,t.readString(4)==="ttcf")throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new Ex(this),this.registerTTF()}return n.open=function(e){return new n(e)},n.prototype.parse=function(){return this.directory=new ux(this.contents),this.head=new hx(this),this.name=new mx(this),this.cmap=new W_(this),this.toUnicode={},this.hhea=new fx(this),this.maxp=new vx(this),this.hmtx=new yx(this),this.post=new px(this),this.os2=new dx(this),this.loca=new bx(this),this.glyf=new _x(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},n.prototype.registerTTF=function(){var e,t,r,i,o;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var l,u,h,p;for(p=[],l=0,u=(h=this.bbox).length;l<u;l++)e=h[l],p.push(Math.round(e*this.scaleFactor));return p}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),(32768&(t=i>>16))!=0&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(o=this.familyClass)===1||o===2||o===3||o===4||o===5||o===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},n.prototype.characterToGlyph=function(e){var t;return((t=this.cmap.unicode)!=null?t.codeMap[e]:void 0)||0},n.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},n.prototype.widthOfString=function(e,t,r){var i,o,l,u;for(l=0,o=0,u=(e=""+e).length;0<=u?o<u:o>u;o=0<=u?++o:--o)i=e.charCodeAt(o),l+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/t)||0;return l*(t/1e3)},n.prototype.lineHeight=function(e,t){var r;return t==null&&(t=!1),r=t?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},n}();var $o,du=function(){function n(e){this.data=e??[],this.pos=0,this.length=this.data.length}return n.prototype.readByte=function(){return this.data[this.pos++]},n.prototype.writeByte=function(e){return this.data[this.pos++]=e},n.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},n.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},n.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},n.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},n.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},n.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},n.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},n.prototype.readString=function(e){var t,r;for(r=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)r[t]=String.fromCharCode(this.readByte());return r.join("")},n.prototype.writeString=function(e){var t,r,i;for(i=[],t=0,r=e.length;0<=r?t<r:t>r;t=0<=r?++t:--t)i.push(this.writeByte(e.charCodeAt(t)));return i},n.prototype.readShort=function(){return this.readInt16()},n.prototype.writeShort=function(e){return this.writeInt16(e)},n.prototype.readLongLong=function(){var e,t,r,i,o,l,u,h;return e=this.readByte(),t=this.readByte(),r=this.readByte(),i=this.readByte(),o=this.readByte(),l=this.readByte(),u=this.readByte(),h=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^o)+65536*(255^l)+256*(255^u)+(255^h)+1):72057594037927940*e+281474976710656*t+1099511627776*r+4294967296*i+16777216*o+65536*l+256*u+h},n.prototype.writeLongLong=function(e){var t,r;return t=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},n.prototype.readInt=function(){return this.readInt32()},n.prototype.writeInt=function(e){return this.writeInt32(e)},n.prototype.read=function(e){var t,r;for(t=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)t.push(this.readByte());return t},n.prototype.write=function(e){var t,r,i,o;for(o=[],r=0,i=e.length;r<i;r++)t=e[r],o.push(this.writeByte(t));return o},n}(),ux=function(){var n;function e(t){var r,i,o;for(this.scalarType=t.readInt(),this.tableCount=t.readShort(),this.searchRange=t.readShort(),this.entrySelector=t.readShort(),this.rangeShift=t.readShort(),this.tables={},i=0,o=this.tableCount;0<=o?i<o:i>o;i=0<=o?++i:--i)r={tag:t.readString(4),checksum:t.readInt(),offset:t.readInt(),length:t.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(t){var r,i,o,l,u,h,p,v,_,I,b,j,M;for(M in b=Object.keys(t).length,h=Math.log(2),_=16*Math.floor(Math.log(b)/h),l=Math.floor(_/h),v=16*b-_,(i=new du).writeInt(this.scalarType),i.writeShort(b),i.writeShort(_),i.writeShort(l),i.writeShort(v),o=16*b,p=i.pos+o,u=null,j=[],t)for(I=t[M],i.writeString(M),i.writeInt(n(I)),i.writeInt(p),i.writeInt(I.length),j=j.concat(I),M==="head"&&(u=p),p+=I.length;p%4;)j.push(0),p++;return i.write(j),r=2981146554-n(i.data),i.pos=u+8,i.writeUInt32(r),i.data},n=function(t){var r,i,o,l;for(t=$_.call(t);t.length%4;)t.push(0);for(o=new du(t),i=0,r=0,l=t.length;r<l;r=r+=4)i+=o.readUInt32();return 4294967295&i},e}(),cx={}.hasOwnProperty,ba=function(n,e){for(var t in e)cx.call(e,t)&&(n[t]=e[t]);function r(){this.constructor=n}return r.prototype=e.prototype,n.prototype=new r,n.__super__=e.prototype,n};$o=function(){function n(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return n.prototype.parse=function(){},n.prototype.encode=function(){},n.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},n}();var hx=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="head",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.revision=t.readInt(),this.checkSumAdjustment=t.readInt(),this.magicNumber=t.readInt(),this.flags=t.readShort(),this.unitsPerEm=t.readShort(),this.created=t.readLongLong(),this.modified=t.readLongLong(),this.xMin=t.readShort(),this.yMin=t.readShort(),this.xMax=t.readShort(),this.yMax=t.readShort(),this.macStyle=t.readShort(),this.lowestRecPPEM=t.readShort(),this.fontDirectionHint=t.readShort(),this.indexToLocFormat=t.readShort(),this.glyphDataFormat=t.readShort()},e.prototype.encode=function(t){var r;return(r=new du).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(t),r.writeShort(this.glyphDataFormat),r.data},e}(),Rv=function(){function n(e,t){var r,i,o,l,u,h,p,v,_,I,b,j,M,B,V,Q,ne;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),_=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(h=0;h<256;++h)this.codeMap[h]=e.readByte();break;case 4:for(b=e.readUInt16(),I=b/2,e.pos+=6,o=function(){var me,xe;for(xe=[],h=me=0;0<=I?me<I:me>I;h=0<=I?++me:--me)xe.push(e.readUInt16());return xe}(),e.pos+=2,M=function(){var me,xe;for(xe=[],h=me=0;0<=I?me<I:me>I;h=0<=I?++me:--me)xe.push(e.readUInt16());return xe}(),p=function(){var me,xe;for(xe=[],h=me=0;0<=I?me<I:me>I;h=0<=I?++me:--me)xe.push(e.readUInt16());return xe}(),v=function(){var me,xe;for(xe=[],h=me=0;0<=I?me<I:me>I;h=0<=I?++me:--me)xe.push(e.readUInt16());return xe}(),i=(this.length-e.pos+this.offset)/2,u=function(){var me,xe;for(xe=[],h=me=0;0<=i?me<i:me>i;h=0<=i?++me:--me)xe.push(e.readUInt16());return xe}(),h=V=0,ne=o.length;V<ne;h=++V)for(B=o[h],r=Q=j=M[h];j<=B?Q<=B:Q>=B;r=j<=B?++Q:--Q)v[h]===0?l=r+p[h]:(l=u[v[h]/2+(r-j)-(I-h)]||0)!==0&&(l+=p[h]),this.codeMap[r]=65535&l}e.pos=_}return n.encode=function(e,t){var r,i,o,l,u,h,p,v,_,I,b,j,M,B,V,Q,ne,me,xe,Ee,q,A,N,O,P,C,R,ie,Ne,Ae,ye,re,ae,ce,X,L,W,Y,te,oe,ve,ue,ge,Ve,Re,Ke;switch(ie=new du,l=Object.keys(e).sort(function(Ge,st){return Ge-st}),t){case"macroman":for(M=0,B=function(){var Ge=[];for(j=0;j<256;++j)Ge.push(0);return Ge}(),Q={0:0},o={},Ne=0,ae=l.length;Ne<ae;Ne++)Q[ge=e[i=l[Ne]]]==null&&(Q[ge]=++M),o[i]={old:e[i],new:Q[e[i]]},B[i]=Q[e[i]];return ie.writeUInt16(1),ie.writeUInt16(0),ie.writeUInt32(12),ie.writeUInt16(0),ie.writeUInt16(262),ie.writeUInt16(0),ie.write(B),{charMap:o,subtable:ie.data,maxGlyphID:M+1};case"unicode":for(C=[],_=[],ne=0,Q={},r={},V=p=null,Ae=0,ce=l.length;Ae<ce;Ae++)Q[xe=e[i=l[Ae]]]==null&&(Q[xe]=++ne),r[i]={old:xe,new:Q[xe]},u=Q[xe]-i,V!=null&&u===p||(V&&_.push(V),C.push(i),p=u),V=i;for(V&&_.push(V),_.push(65535),C.push(65535),O=2*(N=C.length),A=2*Math.pow(Math.log(N)/Math.LN2,2),I=Math.log(A/2)/Math.LN2,q=2*N-A,h=[],Ee=[],b=[],j=ye=0,X=C.length;ye<X;j=++ye){if(P=C[j],v=_[j],P===65535){h.push(0),Ee.push(0);break}if(P-(R=r[P].new)>=32768)for(h.push(0),Ee.push(2*(b.length+N-j)),i=re=P;P<=v?re<=v:re>=v;i=P<=v?++re:--re)b.push(r[i].new);else h.push(R-P),Ee.push(0)}for(ie.writeUInt16(3),ie.writeUInt16(1),ie.writeUInt32(12),ie.writeUInt16(4),ie.writeUInt16(16+8*N+2*b.length),ie.writeUInt16(0),ie.writeUInt16(O),ie.writeUInt16(A),ie.writeUInt16(I),ie.writeUInt16(q),ve=0,L=_.length;ve<L;ve++)i=_[ve],ie.writeUInt16(i);for(ie.writeUInt16(0),ue=0,W=C.length;ue<W;ue++)i=C[ue],ie.writeUInt16(i);for(Ve=0,Y=h.length;Ve<Y;Ve++)u=h[Ve],ie.writeUInt16(u);for(Re=0,te=Ee.length;Re<te;Re++)me=Ee[Re],ie.writeUInt16(me);for(Ke=0,oe=b.length;Ke<oe;Ke++)M=b[Ke],ie.writeUInt16(M);return{charMap:r,subtable:ie.data,maxGlyphID:ne+1}}},n}(),W_=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="cmap",e.prototype.parse=function(t){var r,i,o;for(t.pos=this.offset,this.version=t.readUInt16(),o=t.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=o?i<o:i>o;i=0<=o?++i:--i)r=new Rv(t,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(t,r){var i,o;return r==null&&(r="macroman"),i=Rv.encode(t,r),(o=new du).writeUInt16(0),o.writeUInt16(1),i.table=o.data.concat(i.subtable),i},e}(),fx=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="hhea",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.ascender=t.readShort(),this.decender=t.readShort(),this.lineGap=t.readShort(),this.advanceWidthMax=t.readShort(),this.minLeftSideBearing=t.readShort(),this.minRightSideBearing=t.readShort(),this.xMaxExtent=t.readShort(),this.caretSlopeRise=t.readShort(),this.caretSlopeRun=t.readShort(),this.caretOffset=t.readShort(),t.pos+=8,this.metricDataFormat=t.readShort(),this.numberOfMetrics=t.readUInt16()},e}(),dx=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="OS/2",e.prototype.parse=function(t){if(t.pos=this.offset,this.version=t.readUInt16(),this.averageCharWidth=t.readShort(),this.weightClass=t.readUInt16(),this.widthClass=t.readUInt16(),this.type=t.readShort(),this.ySubscriptXSize=t.readShort(),this.ySubscriptYSize=t.readShort(),this.ySubscriptXOffset=t.readShort(),this.ySubscriptYOffset=t.readShort(),this.ySuperscriptXSize=t.readShort(),this.ySuperscriptYSize=t.readShort(),this.ySuperscriptXOffset=t.readShort(),this.ySuperscriptYOffset=t.readShort(),this.yStrikeoutSize=t.readShort(),this.yStrikeoutPosition=t.readShort(),this.familyClass=t.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(t.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(t.readInt());return i}(),this.vendorID=t.readString(4),this.selection=t.readShort(),this.firstCharIndex=t.readShort(),this.lastCharIndex=t.readShort(),this.version>0&&(this.ascent=t.readShort(),this.descent=t.readShort(),this.lineGap=t.readShort(),this.winAscent=t.readShort(),this.winDescent=t.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(t.readInt());return i}(),this.version>1))return this.xHeight=t.readShort(),this.capHeight=t.readShort(),this.defaultChar=t.readShort(),this.breakChar=t.readShort(),this.maxContext=t.readShort()},e}(),px=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="post",e.prototype.parse=function(t){var r,i,o;switch(t.pos=this.offset,this.format=t.readInt(),this.italicAngle=t.readInt(),this.underlinePosition=t.readShort(),this.underlineThickness=t.readShort(),this.isFixedPitch=t.readInt(),this.minMemType42=t.readInt(),this.maxMemType42=t.readInt(),this.minMemType1=t.readInt(),this.maxMemType1=t.readInt(),this.format){case 65536:break;case 131072:var l;for(i=t.readUInt16(),this.glyphNameIndex=[],l=0;0<=i?l<i:l>i;l=0<=i?++l:--l)this.glyphNameIndex.push(t.readUInt16());for(this.names=[],o=[];t.pos<this.offset+this.length;)r=t.readByte(),o.push(this.names.push(t.readString(r)));return o;case 151552:return i=t.readUInt16(),this.offsets=t.read(i);case 196608:break;case 262144:return this.map=(function(){var u,h,p;for(p=[],l=u=0,h=this.file.maxp.numGlyphs;0<=h?u<h:u>h;l=0<=h?++u:--u)p.push(t.readUInt32());return p}).call(this)}},e}(),gx=function(n,e){this.raw=n,this.length=n.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},mx=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="name",e.prototype.parse=function(t){var r,i,o,l,u,h,p,v,_,I,b;for(t.pos=this.offset,t.readShort(),r=t.readShort(),h=t.readShort(),i=[],l=0;0<=r?l<r:l>r;l=0<=r?++l:--l)i.push({platformID:t.readShort(),encodingID:t.readShort(),languageID:t.readShort(),nameID:t.readShort(),length:t.readShort(),offset:this.offset+h+t.readShort()});for(p={},l=_=0,I=i.length;_<I;l=++_)o=i[l],t.pos=o.offset,v=t.readString(o.length),u=new gx(v,o),p[b=o.nameID]==null&&(p[b]=[]),p[o.nameID].push(u);this.strings=p,this.copyright=p[0],this.fontFamily=p[1],this.fontSubfamily=p[2],this.uniqueSubfamily=p[3],this.fontName=p[4],this.version=p[5];try{this.postscriptName=p[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=p[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=p[7],this.manufacturer=p[8],this.designer=p[9],this.description=p[10],this.vendorUrl=p[11],this.designerUrl=p[12],this.license=p[13],this.licenseUrl=p[14],this.preferredFamily=p[15],this.preferredSubfamily=p[17],this.compatibleFull=p[18],this.sampleText=p[19]},e}(),vx=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="maxp",e.prototype.parse=function(t){return t.pos=this.offset,this.version=t.readInt(),this.numGlyphs=t.readUInt16(),this.maxPoints=t.readUInt16(),this.maxContours=t.readUInt16(),this.maxCompositePoints=t.readUInt16(),this.maxComponentContours=t.readUInt16(),this.maxZones=t.readUInt16(),this.maxTwilightPoints=t.readUInt16(),this.maxStorage=t.readUInt16(),this.maxFunctionDefs=t.readUInt16(),this.maxInstructionDefs=t.readUInt16(),this.maxStackElements=t.readUInt16(),this.maxSizeOfInstructions=t.readUInt16(),this.maxComponentElements=t.readUInt16(),this.maxComponentDepth=t.readUInt16()},e}(),yx=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="hmtx",e.prototype.parse=function(t){var r,i,o,l,u,h,p;for(t.pos=this.offset,this.metrics=[],r=0,h=this.file.hhea.numberOfMetrics;0<=h?r<h:r>h;r=0<=h?++r:--r)this.metrics.push({advance:t.readUInt16(),lsb:t.readInt16()});for(o=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var v,_;for(_=[],r=v=0;0<=o?v<o:v>o;r=0<=o?++v:--v)_.push(t.readInt16());return _}(),this.widths=(function(){var v,_,I,b;for(b=[],v=0,_=(I=this.metrics).length;v<_;v++)l=I[v],b.push(l.advance);return b}).call(this),i=this.widths[this.widths.length-1],p=[],r=u=0;0<=o?u<o:u>o;r=0<=o?++u:--u)p.push(this.widths.push(i));return p},e.prototype.forGlyph=function(t){return t in this.metrics?this.metrics[t]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[t-this.metrics.length]}},e}(),$_=[].slice,_x=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(t){var r,i,o,l,u,h,p,v,_,I;return t in this.cache?this.cache[t]:(l=this.file.loca,r=this.file.contents,i=l.indexOf(t),(o=l.lengthOf(t))===0?this.cache[t]=null:(r.pos=this.offset+i,u=(h=new du(r.read(o))).readShort(),v=h.readShort(),I=h.readShort(),p=h.readShort(),_=h.readShort(),this.cache[t]=u===-1?new Sx(h,v,I,p,_):new wx(h,u,v,I,p,_),this.cache[t]))},e.prototype.encode=function(t,r,i){var o,l,u,h,p;for(u=[],l=[],h=0,p=r.length;h<p;h++)o=t[r[h]],l.push(u.length),o&&(u=u.concat(o.encode(i)));return l.push(u.length),{table:u,offsets:l}},e}(),wx=function(){function n(e,t,r,i,o,l){this.raw=e,this.numberOfContours=t,this.xMin=r,this.yMin=i,this.xMax=o,this.yMax=l,this.compound=!1}return n.prototype.encode=function(){return this.raw.data},n}(),Sx=function(){function n(e,t,r,i,o){var l,u;for(this.raw=e,this.xMin=t,this.yMin=r,this.xMax=i,this.yMax=o,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],l=this.raw;u=l.readShort(),this.glyphOffsets.push(l.pos),this.glyphIDs.push(l.readUInt16()),32&u;)l.pos+=1&u?4:2,128&u?l.pos+=8:64&u?l.pos+=4:8&u&&(l.pos+=2)}return n.prototype.encode=function(){var e,t,r;for(t=new du($_.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)t.pos=this.glyphOffsets[e];return t.data},n}(),bx=function(n){function e(){return e.__super__.constructor.apply(this,arguments)}return ba(e,$o),e.prototype.tag="loca",e.prototype.parse=function(t){var r,i;return t.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=2)l.push(2*t.readUInt16());return l}).call(this):(function(){var o,l;for(l=[],i=0,o=this.length;i<o;i+=4)l.push(t.readUInt32());return l}).call(this)},e.prototype.indexOf=function(t){return this.offsets[t]},e.prototype.lengthOf=function(t){return this.offsets[t+1]-this.offsets[t]},e.prototype.encode=function(t,r){for(var i=new Uint32Array(this.offsets.length),o=0,l=0,u=0;u<i.length;++u)if(i[u]=o,l<r.length&&r[l]==u){++l,i[u]=o;var h=this.offsets[u],p=this.offsets[u+1]-h;p>0&&(o+=p)}for(var v=new Array(4*i.length),_=0;_<i.length;++_)v[4*_+3]=255&i[_],v[4*_+2]=(65280&i[_])>>8,v[4*_+1]=(16711680&i[_])>>16,v[4*_]=(4278190080&i[_])>>24;return v},e}(),Ex=function(){function n(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return n.prototype.generateCmap=function(){var e,t,r,i,o;for(t in i=this.font.cmap.tables[0].codeMap,e={},o=this.subset)r=o[t],e[t]=i[r];return e},n.prototype.glyphsFor=function(e){var t,r,i,o,l,u,h;for(i={},l=0,u=e.length;l<u;l++)i[o=e[l]]=this.font.glyf.glyphFor(o);for(o in t=[],i)(r=i[o])!=null&&r.compound&&t.push.apply(t,r.glyphIDs);if(t.length>0)for(o in h=this.glyphsFor(t))r=h[o],i[o]=r;return i},n.prototype.encode=function(e,t){var r,i,o,l,u,h,p,v,_,I,b,j,M,B,V;for(i in r=W_.encode(this.generateCmap(),"unicode"),l=this.glyphsFor(e),b={0:0},V=r.charMap)b[(h=V[i]).old]=h.new;for(j in I=r.maxGlyphID,l)j in b||(b[j]=I++);return v=function(Q){var ne,me;for(ne in me={},Q)me[Q[ne]]=ne;return me}(b),_=Object.keys(v).sort(function(Q,ne){return Q-ne}),M=function(){var Q,ne,me;for(me=[],Q=0,ne=_.length;Q<ne;Q++)u=_[Q],me.push(v[u]);return me}(),o=this.font.glyf.encode(l,M,b),p=this.font.loca.encode(o.offsets,M),B={cmap:this.font.cmap.raw(),glyf:o.table,loca:p,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(B["OS/2"]=this.font.os2.raw()),this.font.directory.encode(B)},n}();Rt.API.PDFObject=function(){var n;function e(){}return n=function(t,r){return(Array(r+1).join("0")+t).slice(-r)},e.convert=function(t){var r,i,o,l;if(Array.isArray(t))return"["+function(){var u,h,p;for(p=[],u=0,h=t.length;u<h;u++)r=t[u],p.push(e.convert(r));return p}().join(" ")+"]";if(typeof t=="string")return"/"+t;if(t!=null&&t.isString)return"("+t+")";if(t instanceof Date)return"(D:"+n(t.getUTCFullYear(),4)+n(t.getUTCMonth(),2)+n(t.getUTCDate(),2)+n(t.getUTCHours(),2)+n(t.getUTCMinutes(),2)+n(t.getUTCSeconds(),2)+"Z)";if({}.toString.call(t)==="[object Object]"){for(i in o=["<<"],t)l=t[i],o.push("/"+i+" "+e.convert(l));return o.push(">>"),o.join(`
`)}return""+t},e}();function G_(n,e,t,r,i){r=r||{};var o=1.15,l=i.internal.scaleFactor,u=i.internal.getFontSize()/l,h=i.getLineHeightFactor?i.getLineHeightFactor():o,p=u*h,v=/\r\n|\r|\n/g,_="",I=1;if((r.valign==="middle"||r.valign==="bottom"||r.halign==="center"||r.halign==="right")&&(_=typeof n=="string"?n.split(v):n,I=_.length||1),t+=u*(2-o),r.valign==="middle"?t-=I/2*p:r.valign==="bottom"&&(t-=I*p),r.halign==="center"||r.halign==="right"){var b=u;if(r.halign==="center"&&(b*=.5),_&&I>=1){for(var j=0;j<_.length;j++)i.text(_[j],e-i.getStringUnitWidth(_[j])*b,t),t+=p;return i}e-=i.getStringUnitWidth(n)*b}return r.halign==="justify"?i.text(n,e,t,{maxWidth:r.maxWidth||100,align:"justify"}):i.text(n,e,t),i}var Ov={},Bc=function(){function n(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return n.setDefaults=function(e,t){t===void 0&&(t=null),t?t.__autoTableDocumentDefaults=e:Ov=e},n.unifyColor=function(e){return Array.isArray(e)?e:typeof e=="number"?[e,e,e]:typeof e=="string"?[e]:null},n.prototype.applyStyles=function(e,t){var r,i,o;t===void 0&&(t=!1),e.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(e.fontStyle);var l=this.jsPDFDocument.internal.getFont(),u=l.fontStyle,h=l.fontName;if(e.font&&(h=e.font),e.fontStyle){u=e.fontStyle;var p=this.getFontList()[h];p&&p.indexOf(u)===-1&&this.jsPDFDocument.setFontStyle&&(this.jsPDFDocument.setFontStyle(p[0]),u=p[0])}if(this.jsPDFDocument.setFont(h,u),e.fontSize&&this.jsPDFDocument.setFontSize(e.fontSize),!t){var v=n.unifyColor(e.fillColor);v&&(r=this.jsPDFDocument).setFillColor.apply(r,v),v=n.unifyColor(e.textColor),v&&(i=this.jsPDFDocument).setTextColor.apply(i,v),v=n.unifyColor(e.lineColor),v&&(o=this.jsPDFDocument).setDrawColor.apply(o,v),typeof e.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(e.lineWidth)}},n.prototype.splitTextToSize=function(e,t,r){return this.jsPDFDocument.splitTextToSize(e,t,r)},n.prototype.rect=function(e,t,r,i,o){return this.jsPDFDocument.rect(e,t,r,i,o)},n.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},n.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},n.prototype.getDocument=function(){return this.jsPDFDocument},n.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},n.prototype.addPage=function(){return this.jsPDFDocument.addPage()},n.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},n.prototype.getGlobalOptions=function(){return Ov||{}},n.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},n.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return e.width==null&&(e={width:e.getWidth(),height:e.getHeight()}),e},n.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},n.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},n.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},n.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},n}(),_m=function(n,e){return _m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,r){t.__proto__=r}||function(t,r){for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])},_m(n,e)};function K_(n,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");_m(n,e);function t(){this.constructor=n}n.prototype=e===null?Object.create(e):(t.prototype=e.prototype,new t)}var Q_=function(n){K_(e,n);function e(t){var r=n.call(this)||this;return r._element=t,r}return e}(Array);function Ax(n){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/n,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}function Ix(n){var e={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return e[n]}function zd(n,e,t){t.applyStyles(e,!0);var r=Array.isArray(n)?n:[n],i=r.map(function(o){return t.getTextWidth(o)}).reduce(function(o,l){return Math.max(o,l)},0);return i}function Y_(n,e,t,r){var i=e.settings.tableLineWidth,o=e.settings.tableLineColor;n.applyStyles({lineWidth:i,lineColor:o});var l=J_(i,!1);l&&n.rect(t.x,t.y,e.getWidth(n.pageSize().width),r.y-t.y,l)}function J_(n,e){var t=n>0,r=e||e===0;return t&&r?"DF":t?"S":r?"F":null}function gp(n,e){var t,r,i,o;if(n=n||e,Array.isArray(n)){if(n.length>=4)return{top:n[0],right:n[1],bottom:n[2],left:n[3]};if(n.length===3)return{top:n[0],right:n[1],bottom:n[2],left:n[1]};if(n.length===2)return{top:n[0],right:n[1],bottom:n[0],left:n[1]};n.length===1?n=n[0]:n=e}return typeof n=="object"?(typeof n.vertical=="number"&&(n.top=n.vertical,n.bottom=n.vertical),typeof n.horizontal=="number"&&(n.right=n.horizontal,n.left=n.horizontal),{left:(t=n.left)!==null&&t!==void 0?t:e,top:(r=n.top)!==null&&r!==void 0?r:e,right:(i=n.right)!==null&&i!==void 0?i:e,bottom:(o=n.bottom)!==null&&o!==void 0?o:e}):(typeof n!="number"&&(n=e),{top:n,right:n,bottom:n,left:n})}function X_(n,e){var t=gp(e.settings.margin,0);return n.pageSize().width-(t.left+t.right)}function Tx(n,e,t,r,i){var o={},l=1.3333333333333333,u=Pg(e,function(ne){return i.getComputedStyle(ne).backgroundColor});u!=null&&(o.fillColor=u);var h=Pg(e,function(ne){return i.getComputedStyle(ne).color});h!=null&&(o.textColor=h);var p=Px(r,t);p&&(o.cellPadding=p);var v="borderTopColor",_=l*t,I=r.borderTopWidth;if(r.borderBottomWidth===I&&r.borderRightWidth===I&&r.borderLeftWidth===I){var b=(parseFloat(I)||0)/_;b&&(o.lineWidth=b)}else o.lineWidth={top:(parseFloat(r.borderTopWidth)||0)/_,right:(parseFloat(r.borderRightWidth)||0)/_,bottom:(parseFloat(r.borderBottomWidth)||0)/_,left:(parseFloat(r.borderLeftWidth)||0)/_},o.lineWidth.top||(o.lineWidth.right?v="borderRightColor":o.lineWidth.bottom?v="borderBottomColor":o.lineWidth.left&&(v="borderLeftColor"));var j=Pg(e,function(ne){return i.getComputedStyle(ne)[v]});j!=null&&(o.lineColor=j);var M=["left","right","center","justify"];M.indexOf(r.textAlign)!==-1&&(o.halign=r.textAlign),M=["middle","bottom","top"],M.indexOf(r.verticalAlign)!==-1&&(o.valign=r.verticalAlign);var B=parseInt(r.fontSize||"");isNaN(B)||(o.fontSize=B/l);var V=xx(r);V&&(o.fontStyle=V);var Q=(r.fontFamily||"").toLowerCase();return n.indexOf(Q)!==-1&&(o.font=Q),o}function xx(n){var e="";return(n.fontWeight==="bold"||n.fontWeight==="bolder"||parseInt(n.fontWeight)>=700)&&(e="bold"),(n.fontStyle==="italic"||n.fontStyle==="oblique")&&(e+="italic"),e}function Pg(n,e){var t=Z_(n,e);if(!t)return null;var r=t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var i=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])],o=parseInt(r[4]);return o===0||isNaN(i[0])||isNaN(i[1])||isNaN(i[2])?null:i}function Z_(n,e){var t=e(n);return t==="rgba(0, 0, 0, 0)"||t==="transparent"||t==="initial"||t==="inherit"?n.parentElement==null?null:Z_(n.parentElement,e):t}function Px(n,e){var t=[n.paddingTop,n.paddingRight,n.paddingBottom,n.paddingLeft],r=96/(72/e),i=(parseInt(n.lineHeight)-parseInt(n.fontSize))/e/2,o=t.map(function(u){return parseInt(u||"0")/r}),l=gp(o,0);return i>l.top&&(l.top=i),i>l.bottom&&(l.bottom=i),l}function ew(n,e,t,r,i){var o,l;r===void 0&&(r=!1),i===void 0&&(i=!1);var u;typeof e=="string"?u=t.document.querySelector(e):u=e;var h=Object.keys(n.getFontList()),p=n.scaleFactor(),v=[],_=[],I=[];if(!u)return console.error("Html table could not be found with input: ",e),{head:v,body:_,foot:I};for(var b=0;b<u.rows.length;b++){var j=u.rows[b],M=(l=(o=j==null?void 0:j.parentElement)===null||o===void 0?void 0:o.tagName)===null||l===void 0?void 0:l.toLowerCase(),B=Nx(h,p,t,j,r,i);B&&(M==="thead"?v.push(B):M==="tfoot"?I.push(B):_.push(B))}return{head:v,body:_,foot:I}}function Nx(n,e,t,r,i,o){for(var l=new Q_(r),u=0;u<r.cells.length;u++){var h=r.cells[u],p=t.getComputedStyle(h);if(i||p.display!=="none"){var v=void 0;o&&(v=Tx(n,h,e,p,t)),l.push({rowSpan:h.rowSpan,colSpan:h.colSpan,styles:v,_element:h,content:Cx(h)})}}var _=t.getComputedStyle(r);if(l.length>0&&(i||_.display!=="none"))return l}function Cx(n){var e=n.cloneNode(!0);return e.innerHTML=e.innerHTML.replace(/\n/g,"").replace(/ +/g," "),e.innerHTML=e.innerHTML.split(/<br.*?>/).map(function(t){return t.trim()}).join(`
`),e.innerText||e.textContent||""}function kx(n,e,t){for(var r=0,i=[n,e,t];r<i.length;r++){var o=i[r];o&&typeof o!="object"&&console.error("The options parameter should be of type object, is: "+typeof o),o.startY&&typeof o.startY!="number"&&(console.error("Invalid value for startY option",o.startY),delete o.startY)}}function Xa(n,e,t,r,i){if(n==null)throw new TypeError("Cannot convert undefined or null to object");for(var o=Object(n),l=1;l<arguments.length;l++){var u=arguments[l];if(u!=null)for(var h in u)Object.prototype.hasOwnProperty.call(u,h)&&(o[h]=u[h])}return o}function Lx(n,e){var t=new Bc(n),r=t.getDocumentOptions(),i=t.getGlobalOptions();kx(i,r,e);var o=Xa({},i,r,e),l;typeof window<"u"&&(l=window);var u=Rx(i,r,e),h=Ox(i,r,e),p=Dx(t,o),v=Mx(t,o,l);return{id:e.tableId,content:v,hooks:h,styles:u,settings:p}}function Rx(n,e,t){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},i=function(h){if(h==="columnStyles"){var p=n[h],v=e[h],_=t[h];r.columnStyles=Xa({},p,v,_)}else{var I=[n,e,t],b=I.map(function(j){return j[h]||{}});r[h]=Xa({},b[0],b[1],b[2])}},o=0,l=Object.keys(r);o<l.length;o++){var u=l[o];i(u)}return r}function Ox(n,e,t){for(var r=[n,e,t],i={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},o=0,l=r;o<l.length;o++){var u=l[o];u.didParseCell&&i.didParseCell.push(u.didParseCell),u.willDrawCell&&i.willDrawCell.push(u.willDrawCell),u.didDrawCell&&i.didDrawCell.push(u.didDrawCell),u.willDrawPage&&i.willDrawPage.push(u.willDrawPage),u.didDrawPage&&i.didDrawPage.push(u.didDrawPage)}return i}function Dx(n,e){var t,r,i,o,l,u,h,p,v,_,I,b,j=gp(e.margin,40/n.scaleFactor()),M=(t=Fx(n,e.startY))!==null&&t!==void 0?t:j.top,B;e.showFoot===!0?B="everyPage":e.showFoot===!1?B="never":B=(r=e.showFoot)!==null&&r!==void 0?r:"everyPage";var V;e.showHead===!0?V="everyPage":e.showHead===!1?V="never":V=(i=e.showHead)!==null&&i!==void 0?i:"everyPage";var Q=(o=e.useCss)!==null&&o!==void 0?o:!1,ne=e.theme||(Q?"plain":"striped"),me=!!e.horizontalPageBreak,xe=(l=e.horizontalPageBreakRepeat)!==null&&l!==void 0?l:null;return{includeHiddenHtml:(u=e.includeHiddenHtml)!==null&&u!==void 0?u:!1,useCss:Q,theme:ne,startY:M,margin:j,pageBreak:(h=e.pageBreak)!==null&&h!==void 0?h:"auto",rowPageBreak:(p=e.rowPageBreak)!==null&&p!==void 0?p:"auto",tableWidth:(v=e.tableWidth)!==null&&v!==void 0?v:"auto",showHead:V,showFoot:B,tableLineWidth:(_=e.tableLineWidth)!==null&&_!==void 0?_:0,tableLineColor:(I=e.tableLineColor)!==null&&I!==void 0?I:200,horizontalPageBreak:me,horizontalPageBreakRepeat:xe,horizontalPageBreakBehaviour:(b=e.horizontalPageBreakBehaviour)!==null&&b!==void 0?b:"afterAllRows"}}function Fx(n,e){var t=n.getLastAutoTable(),r=n.scaleFactor(),i=n.pageNumber(),o=!1;if(t&&t.startPageNumber){var l=t.startPageNumber+t.pageNumber-1;o=l===i}return typeof e=="number"?e:(e==null||e===!1)&&o&&(t==null?void 0:t.finalY)!=null?t.finalY+20/r:null}function Mx(n,e,t){var r=e.head||[],i=e.body||[],o=e.foot||[];if(e.html){var l=e.includeHiddenHtml;if(t){var u=ew(n,e.html,t,l,e.useCss)||{};r=u.head||r,i=u.body||r,o=u.foot||r}else console.error("Cannot parse html in non browser environment")}var h=e.columns||jx(r,i,o);return{columns:h,head:r,body:i,foot:o}}function jx(n,e,t){var r=n[0]||e[0]||t[0]||[],i=[];return Object.keys(r).filter(function(o){return o!=="_element"}).forEach(function(o){var l=1,u;Array.isArray(r)?u=r[parseInt(o)]:u=r[o],typeof u=="object"&&!Array.isArray(u)&&(l=(u==null?void 0:u.colSpan)||1);for(var h=0;h<l;h++){var p=void 0;Array.isArray(r)?p=i.length:p=o+(h>0?"_".concat(h):"");var v={dataKey:p};i.push(v)}}),i}var wm=function(){function n(e,t,r){this.table=t,this.pageNumber=t.pageNumber,this.settings=t.settings,this.cursor=r,this.doc=e.getDocument()}return n}(),Vx=function(n){K_(e,n);function e(t,r,i,o,l,u){var h=n.call(this,t,r,u)||this;return h.cell=i,h.row=o,h.column=l,h.section=o.section,h}return e}(wm),Bx=function(){function n(e,t){this.pageNumber=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return n.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,r){return t+r.getMaxCellHeight(e)},0)},n.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},n.prototype.callCellHooks=function(e,t,r,i,o,l){for(var u=0,h=t;u<h.length;u++){var p=h[u],v=new Vx(e,this,r,i,o,l),_=p(v)===!1;if(r.text=Array.isArray(r.text)?r.text:[r.text],_)return!1}return!0},n.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var r=0,i=this.hooks.didDrawPage;r<i.length;r++){var o=i[r];o(new wm(e,this,t))}},n.prototype.callWillDrawPageHooks=function(e,t){for(var r=0,i=this.hooks.willDrawPage;r<i.length;r++){var o=i[r];o(new wm(e,this,t))}},n.prototype.getWidth=function(e){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var t=this.columns.reduce(function(i,o){return i+o.wrappedWidth},0);return t}else{var r=this.settings.margin;return e-r.left-r.right}},n}(),tw=function(){function n(e,t,r,i,o){o===void 0&&(o=!1),this.height=0,this.raw=e,e instanceof Q_&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=r,this.cells=i,this.spansMultiplePages=o}return n.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(r,i){var o;return Math.max(r,((o=t.cells[i.index])===null||o===void 0?void 0:o.height)||0)},0)},n.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(r){var i=t.cells[r.index];return i?i.rowSpan>1:!1}).length>0},n.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},n.prototype.getMinimumRowHeight=function(e,t){var r=this;return e.reduce(function(i,o){var l=r.cells[o.index];if(!l)return 0;var u=t.getLineHeight(l.styles.fontSize),h=l.padding("vertical"),p=h+u;return p>i?p:i},0)},n}(),nw=function(){function n(e,t,r){var i;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=r,this.raw=e;var o=e;e!=null&&typeof e=="object"&&!Array.isArray(e)?(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,o=(i=e.content)!==null&&i!==void 0?i:e,e._element&&(this.raw=e._element)):(this.rowSpan=1,this.colSpan=1);var l=o!=null?""+o:"",u=/\r\n|\r|\n/g;this.text=l.split(u)}return n.prototype.getTextPos=function(){var e;if(this.styles.valign==="top")e=this.y+this.padding("top");else if(this.styles.valign==="bottom")e=this.y+this.height-this.padding("bottom");else{var t=this.height-this.padding("vertical");e=this.y+t/2+this.padding("top")}var r;if(this.styles.halign==="right")r=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var i=this.width-this.padding("horizontal");r=this.x+i/2+this.padding("left")}else r=this.x+this.padding("left");return{x:r,y:e}},n.prototype.getContentHeight=function(e,t){t===void 0&&(t=1.15);var r=Array.isArray(this.text)?this.text.length:1,i=this.styles.fontSize/e*t,o=r*i+this.padding("vertical");return Math.max(o,this.styles.minCellHeight)},n.prototype.padding=function(e){var t=gp(this.styles.cellPadding,0);return e==="vertical"?t.top+t.bottom:e==="horizontal"?t.left+t.right:t[e]},n}(),Ux=function(){function n(e,t,r){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=r}return n.prototype.getMaxCustomCellWidth=function(e){for(var t=0,r=0,i=e.allRows();r<i.length;r++){var o=i[r],l=o.cells[this.index];l&&typeof l.styles.cellWidth=="number"&&(t=Math.max(t,l.styles.cellWidth))}return t},n}();function zx(n,e){qx(n,e);var t=[],r=0;e.columns.forEach(function(o){var l=o.getMaxCustomCellWidth(e);l?o.width=l:(o.width=o.wrappedWidth,t.push(o)),r+=o.width});var i=e.getWidth(n.pageSize().width)-r;i&&(i=Sm(t,i,function(o){return Math.max(o.minReadableWidth,o.minWidth)})),i&&(i=Sm(t,i,function(o){return o.minWidth})),i=Math.abs(i),!e.settings.horizontalPageBreak&&i>.1/n.scaleFactor()&&(i=i<1?i:Math.round(i),console.warn("Of the table content, ".concat(i," units width could not fit page"))),Wx(e),$x(e,n),Hx(e)}function qx(n,e){var t=n.scaleFactor(),r=e.settings.horizontalPageBreak,i=X_(n,e);e.allRows().forEach(function(o){for(var l=0,u=e.columns;l<u.length;l++){var h=u[l],p=o.cells[h.index];if(p){var v=e.hooks.didParseCell;e.callCellHooks(n,v,p,o,h,null);var _=p.padding("horizontal");p.contentWidth=zd(p.text,p.styles,n)+_;var I=zd(p.text.join(" ").split(/[^\S\u00A0]+/),p.styles,n);if(p.minReadableWidth=I+p.padding("horizontal"),typeof p.styles.cellWidth=="number")p.minWidth=p.styles.cellWidth,p.wrappedWidth=p.styles.cellWidth;else if(p.styles.cellWidth==="wrap"||r===!0)p.contentWidth>i?(p.minWidth=i,p.wrappedWidth=i):(p.minWidth=p.contentWidth,p.wrappedWidth=p.contentWidth);else{var b=10/t;p.minWidth=p.styles.minCellWidth||b,p.wrappedWidth=p.contentWidth,p.minWidth>p.wrappedWidth&&(p.wrappedWidth=p.minWidth)}}}}),e.allRows().forEach(function(o){for(var l=0,u=e.columns;l<u.length;l++){var h=u[l],p=o.cells[h.index];if(p&&p.colSpan===1)h.wrappedWidth=Math.max(h.wrappedWidth,p.wrappedWidth),h.minWidth=Math.max(h.minWidth,p.minWidth),h.minReadableWidth=Math.max(h.minReadableWidth,p.minReadableWidth);else{var v=e.styles.columnStyles[h.dataKey]||e.styles.columnStyles[h.index]||{},_=v.cellWidth||v.minCellWidth;_&&typeof _=="number"&&(h.minWidth=_,h.wrappedWidth=_)}p&&(p.colSpan>1&&!h.minWidth&&(h.minWidth=p.minWidth),p.colSpan>1&&!h.wrappedWidth&&(h.wrappedWidth=p.minWidth))}})}function Sm(n,e,t){for(var r=e,i=n.reduce(function(b,j){return b+j.wrappedWidth},0),o=0;o<n.length;o++){var l=n[o],u=l.wrappedWidth/i,h=r*u,p=l.width+h,v=t(l),_=p<v?v:p;e-=_-l.width,l.width=_}if(e=Math.round(e*1e10)/1e10,e){var I=n.filter(function(b){return e<0?b.width>t(b):!0});I.length&&(e=Sm(I,e,t))}return e}function Hx(n){for(var e={},t=1,r=n.allRows(),i=0;i<r.length;i++)for(var o=r[i],l=0,u=n.columns;l<u.length;l++){var h=u[l],p=e[h.index];if(t>1)t--,delete o.cells[h.index];else if(p)p.cell.height+=o.height,t=p.cell.colSpan,delete o.cells[h.index],p.left--,p.left<=1&&delete e[h.index];else{var v=o.cells[h.index];if(!v)continue;if(v.height=o.height,v.rowSpan>1){var _=r.length-i,I=v.rowSpan>_?_:v.rowSpan;e[h.index]={cell:v,left:I,row:o}}}}}function Wx(n){for(var e=n.allRows(),t=0;t<e.length;t++)for(var r=e[t],i=null,o=0,l=0,u=0;u<n.columns.length;u++){var h=n.columns[u];if(l-=1,l>1&&n.columns[u+1])o+=h.width,delete r.cells[h.index];else if(i){var p=i;delete r.cells[h.index],i=null,p.width=h.width+o}else{var p=r.cells[h.index];if(!p)continue;if(l=p.colSpan,o=0,p.colSpan>1){i=p,o+=h.width;continue}p.width=h.width+o}}}function $x(n,e){for(var t={count:0,height:0},r=0,i=n.allRows();r<i.length;r++){for(var o=i[r],l=0,u=n.columns;l<u.length;l++){var h=u[l],p=o.cells[h.index];if(p){e.applyStyles(p.styles,!0);var v=p.width-p.padding("horizontal");if(p.styles.overflow==="linebreak")p.text=e.splitTextToSize(p.text,v+1/e.scaleFactor(),{fontSize:p.styles.fontSize});else if(p.styles.overflow==="ellipsize")p.text=Dv(p.text,v,p.styles,e,"...");else if(p.styles.overflow==="hidden")p.text=Dv(p.text,v,p.styles,e,"");else if(typeof p.styles.overflow=="function"){var _=p.styles.overflow(p.text,v);typeof _=="string"?p.text=[_]:p.text=_}p.contentHeight=p.getContentHeight(e.scaleFactor(),e.getLineHeightFactor());var I=p.contentHeight/p.rowSpan;p.rowSpan>1&&t.count*t.height<I*p.rowSpan?t={height:I,count:p.rowSpan}:t&&t.count>0&&t.height>I&&(I=t.height),I>o.height&&(o.height=I)}}t.count--}}function Dv(n,e,t,r,i){return n.map(function(o){return Gx(o,e,t,r,i)})}function Gx(n,e,t,r,i){var o=1e4*r.scaleFactor();if(e=Math.ceil(e*o)/o,e>=zd(n,t,r))return n;for(;e<zd(n+i,t,r)&&!(n.length<=1);)n=n.substring(0,n.length-1);return n.trim()+i}function Kx(n,e){var t=new Bc(n),r=Qx(e,t.scaleFactor()),i=new Bx(e,r);return zx(t,i),t.applyStyles(t.userStyles),i}function Qx(n,e){var t=n.content,r=Jx(t.columns);if(t.head.length===0){var i=Fv(r,"head");i&&t.head.push(i)}if(t.foot.length===0){var i=Fv(r,"foot");i&&t.foot.push(i)}var o=n.settings.theme,l=n.styles;return{columns:r,head:Ng("head",t.head,r,l,o,e),body:Ng("body",t.body,r,l,o,e),foot:Ng("foot",t.foot,r,l,o,e)}}function Ng(n,e,t,r,i,o){var l={},u=e.map(function(h,p){for(var v=0,_={},I=0,b=0,j=0,M=t;j<M.length;j++){var B=M[j];if(l[B.index]==null||l[B.index].left===0)if(b===0){var V=void 0;Array.isArray(h)?V=h[B.index-I-v]:V=h[B.dataKey];var Q={};typeof V=="object"&&!Array.isArray(V)&&(Q=(V==null?void 0:V.styles)||{});var ne=Xx(n,B,p,i,r,o,Q),me=new nw(V,ne,n);_[B.dataKey]=me,_[B.index]=me,b=me.colSpan-1,l[B.index]={left:me.rowSpan-1,times:b}}else b--,I++;else l[B.index].left--,b=l[B.index].times,v++}return new tw(h,p,n,_)});return u}function Fv(n,e){var t={};return n.forEach(function(r){if(r.raw!=null){var i=Yx(e,r.raw);i!=null&&(t[r.dataKey]=i)}}),Object.keys(t).length>0?t:null}function Yx(n,e){if(n==="head"){if(typeof e=="object")return e.header||null;if(typeof e=="string"||typeof e=="number")return e}else if(n==="foot"&&typeof e=="object")return e.footer;return null}function Jx(n){return n.map(function(e,t){var r,i;return typeof e=="object"?i=(r=e.dataKey)!==null&&r!==void 0?r:t:i=t,new Ux(i,e,t)})}function Xx(n,e,t,r,i,o,l){var u=Ix(r),h;n==="head"?h=i.headStyles:n==="body"?h=i.bodyStyles:n==="foot"&&(h=i.footStyles);var p=Xa({},u.table,u[n],i.styles,h),v=i.columnStyles[e.dataKey]||i.columnStyles[e.index]||{},_=n==="body"?v:{},I=n==="body"&&t%2===0?Xa({},u.alternateRow,i.alternateRowStyles):{},b=Ax(o),j=Xa({},b,p,I,_);return Xa(j,l)}function Zx(n,e,t){var r;t===void 0&&(t={});var i=X_(n,e),o=new Map,l=[],u=[],h=[];Array.isArray(e.settings.horizontalPageBreakRepeat)?h=e.settings.horizontalPageBreakRepeat:(typeof e.settings.horizontalPageBreakRepeat=="string"||typeof e.settings.horizontalPageBreakRepeat=="number")&&(h=[e.settings.horizontalPageBreakRepeat]),h.forEach(function(I){var b=e.columns.find(function(j){return j.dataKey===I||j.index===I});b&&!o.has(b.index)&&(o.set(b.index,!0),l.push(b.index),u.push(e.columns[b.index]),i-=b.wrappedWidth)});for(var p=!0,v=(r=t==null?void 0:t.start)!==null&&r!==void 0?r:0;v<e.columns.length;){if(o.has(v)){v++;continue}var _=e.columns[v].wrappedWidth;if(p||i>=_)p=!1,l.push(v),u.push(e.columns[v]),i-=_;else break;v++}return{colIndexes:l,columns:u,lastIndex:v-1}}function eP(n,e){for(var t=[],r=0;r<e.columns.length;r++){var i=Zx(n,e,{start:r});i.columns.length&&(t.push(i),r=i.lastIndex)}return t}function tP(n,e){var t=e.settings,r=t.startY,i=t.margin,o={x:i.left,y:r},l=e.getHeadHeight(e.columns)+e.getFootHeight(e.columns),u=r+i.bottom+l;if(t.pageBreak==="avoid"){var h=e.body,p=h.reduce(function(I,b){return I+b.height},0);u+=p}var v=new Bc(n);(t.pageBreak==="always"||t.startY!=null&&u>v.pageSize().height)&&(iw(v),o.y=i.top),e.callWillDrawPageHooks(v,o);var _=Xa({},o);e.startPageNumber=v.pageNumber(),t.horizontalPageBreak?nP(v,e,_,o):(v.applyStyles(v.userStyles),(t.showHead==="firstPage"||t.showHead==="everyPage")&&e.head.forEach(function(I){return sl(v,e,I,o,e.columns)}),v.applyStyles(v.userStyles),e.body.forEach(function(I,b){var j=b===e.body.length-1;qd(v,e,I,j,_,o,e.columns)}),v.applyStyles(v.userStyles),(t.showFoot==="lastPage"||t.showFoot==="everyPage")&&e.foot.forEach(function(I){return sl(v,e,I,o,e.columns)})),Y_(v,e,_,o),e.callEndPageHooks(v,o),e.finalY=o.y,n.lastAutoTable=e,v.applyStyles(v.userStyles)}function nP(n,e,t,r){var i=eP(n,e),o=e.settings;if(o.horizontalPageBreakBehaviour==="afterAllRows")i.forEach(function(p,v){n.applyStyles(n.userStyles),v>0?Mh(n,e,t,r,p.columns,!0):Mv(n,e,r,p.columns),rP(n,e,t,r,p.columns),Cg(n,e,r,p.columns)});else for(var l=-1,u=i[0],h=function(){var p=l;if(u){n.applyStyles(n.userStyles);var v=u.columns;l>=0?Mh(n,e,t,r,v,!0):Mv(n,e,r,v),p=jv(n,e,l+1,r,v),Cg(n,e,r,v)}var _=p-l;i.slice(1).forEach(function(I){n.applyStyles(n.userStyles),Mh(n,e,t,r,I.columns,!0),jv(n,e,l+1,r,I.columns,_),Cg(n,e,r,I.columns)}),l=p};l<e.body.length-1;)h()}function Mv(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showHead==="firstPage"||i.showHead==="everyPage")&&e.head.forEach(function(o){return sl(n,e,o,t,r)})}function rP(n,e,t,r,i){n.applyStyles(n.userStyles),e.body.forEach(function(o,l){var u=l===e.body.length-1;qd(n,e,o,u,t,r,i)})}function jv(n,e,t,r,i,o){n.applyStyles(n.userStyles),o=o??e.body.length;var l=Math.min(t+o,e.body.length),u=-1;return e.body.slice(t,l).forEach(function(h,p){var v=t+p===e.body.length-1,_=rw(n,e,v,r);h.canEntireRowFit(_,i)&&(sl(n,e,h,r,i),u=t+p)}),u}function Cg(n,e,t,r){var i=e.settings;n.applyStyles(n.userStyles),(i.showFoot==="lastPage"||i.showFoot==="everyPage")&&e.foot.forEach(function(o){return sl(n,e,o,t,r)})}function iP(n,e,t){var r=t.getLineHeight(n.styles.fontSize),i=n.padding("vertical"),o=Math.floor((e-i)/r);return Math.max(0,o)}function sP(n,e,t,r){var i={};n.spansMultiplePages=!0,n.height=0;for(var o=0,l=0,u=t.columns;l<u.length;l++){var h=u[l],p=n.cells[h.index];if(p){Array.isArray(p.text)||(p.text=[p.text]);var v=new nw(p.raw,p.styles,p.section);v=Xa(v,p),v.text=[];var _=iP(p,e,r);p.text.length>_&&(v.text=p.text.splice(_,p.text.length));var I=r.scaleFactor(),b=r.getLineHeightFactor();p.contentHeight=p.getContentHeight(I,b),p.contentHeight>=e&&(p.contentHeight=e,v.styles.minCellHeight-=e),p.contentHeight>n.height&&(n.height=p.contentHeight),v.contentHeight=v.getContentHeight(I,b),v.contentHeight>o&&(o=v.contentHeight),i[h.index]=v}}var j=new tw(n.raw,-1,n.section,i,!0);j.height=o;for(var M=0,B=t.columns;M<B.length;M++){var h=B[M],v=j.cells[h.index];v&&(v.height=j.height);var p=n.cells[h.index];p&&(p.height=n.height)}return j}function oP(n,e,t,r){var i=n.pageSize().height,o=r.settings.margin,l=o.top+o.bottom,u=i-l;e.section==="body"&&(u-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var h=e.getMinimumRowHeight(r.columns,n),p=h<t;if(h>u)return console.error("Will not be able to print row ".concat(e.index," correctly since it's minimum height is larger than page height")),!0;if(!p)return!1;var v=e.hasRowSpan(r.columns),_=e.getMaxCellHeight(r.columns)>u;return _?(v&&console.error("The content of row ".concat(e.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(v||r.settings.rowPageBreak==="avoid")}function qd(n,e,t,r,i,o,l){var u=rw(n,e,r,o);if(t.canEntireRowFit(u,l))sl(n,e,t,o,l);else if(oP(n,t,u,e)){var h=sP(t,u,e,n);sl(n,e,t,o,l),Mh(n,e,i,o,l),qd(n,e,h,r,i,o,l)}else Mh(n,e,i,o,l),qd(n,e,t,r,i,o,l)}function sl(n,e,t,r,i){r.x=e.settings.margin.left;for(var o=0,l=i;o<l.length;o++){var u=l[o],h=t.cells[u.index];if(!h){r.x+=u.width;continue}n.applyStyles(h.styles),h.x=r.x,h.y=r.y;var p=e.callCellHooks(n,e.hooks.willDrawCell,h,t,u,r);if(p===!1){r.x+=u.width;continue}aP(n,h,r);var v=h.getTextPos();G_(h.text,v.x,v.y,{halign:h.styles.halign,valign:h.styles.valign,maxWidth:Math.ceil(h.width-h.padding("left")-h.padding("right"))},n.getDocument()),e.callCellHooks(n,e.hooks.didDrawCell,h,t,u,r),r.x+=u.width}r.y+=t.height}function aP(n,e,t){var r=e.styles;if(n.getDocument().setFillColor(n.getDocument().getFillColor()),typeof r.lineWidth=="number"){var i=J_(r.lineWidth,r.fillColor);i&&n.rect(e.x,t.y,e.width,e.height,i)}else typeof r.lineWidth=="object"&&(r.fillColor&&n.rect(e.x,t.y,e.width,e.height,"F"),lP(n,e,t,r.lineWidth))}function lP(n,e,t,r){var i,o,l,u;r.top&&(i=t.x,o=t.y,l=t.x+e.width,u=t.y,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),h(r.top,i,o,l,u)),r.bottom&&(i=t.x,o=t.y+e.height,l=t.x+e.width,u=t.y+e.height,r.right&&(l+=.5*r.right),r.left&&(i-=.5*r.left),h(r.bottom,i,o,l,u)),r.left&&(i=t.x,o=t.y,l=t.x,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),h(r.left,i,o,l,u)),r.right&&(i=t.x+e.width,o=t.y,l=t.x+e.width,u=t.y+e.height,r.top&&(o-=.5*r.top),r.bottom&&(u+=.5*r.bottom),h(r.right,i,o,l,u));function h(p,v,_,I,b){n.getDocument().setLineWidth(p),n.getDocument().line(v,_,I,b,"S")}}function rw(n,e,t,r){var i=e.settings.margin.bottom,o=e.settings.showFoot;return(o==="everyPage"||o==="lastPage"&&t)&&(i+=e.getFootHeight(e.columns)),n.pageSize().height-r.y-i}function Mh(n,e,t,r,i,o){i===void 0&&(i=[]),o===void 0&&(o=!1),n.applyStyles(n.userStyles),e.settings.showFoot==="everyPage"&&!o&&e.foot.forEach(function(u){return sl(n,e,u,r,i)}),e.callEndPageHooks(n,r);var l=e.settings.margin;Y_(n,e,t,r),iw(n),e.pageNumber++,r.x=l.left,r.y=l.top,t.y=l.top,e.callWillDrawPageHooks(n,r),e.settings.showHead==="everyPage"&&(e.head.forEach(function(u){return sl(n,e,u,r,i)}),n.applyStyles(n.userStyles))}function iw(n){var e=n.pageNumber();n.setPage(e+1);var t=n.pageNumber();return t===e?(n.addPage(),!0):!1}function uP(n){n.API.autoTable=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e[0],i=Lx(this,r),o=Kx(this,i);return tP(this,o),this},n.API.lastAutoTable=!1,n.API.autoTableText=function(e,t,r,i){G_(e,t,r,i,this)},n.API.autoTableSetDefaults=function(e){return Bc.setDefaults(e,this),this},n.autoTableSetDefaults=function(e,t){Bc.setDefaults(e,t)},n.API.autoTableHtmlToJson=function(e,t){var r;if(t===void 0&&(t=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var i=new Bc(this),o=ew(i,e,window,t,!1),l=o.head,u=o.body,h=((r=l[0])===null||r===void 0?void 0:r.map(function(p){return p.content}))||[];return{columns:h,rows:u,data:u}}}var kg;try{if(typeof window<"u"&&window){var Vv=window,Bv=Vv.jsPDF||((kg=Vv.jspdf)===null||kg===void 0?void 0:kg.jsPDF);Bv&&uP(Bv)}}catch(n){console.error("Could not apply autoTable plugin",n)}var yd={exports:{}};/* @license
Papa Parse
v5.5.2
https://github.com/mholt/PapaParse
License: MIT
*/var cP=yd.exports,Uv;function hP(){return Uv||(Uv=1,function(n,e){((t,r)=>{n.exports=r()})(cP,function t(){var r=typeof self<"u"?self:typeof window<"u"?window:r!==void 0?r:{},i,o=!r.document&&!!r.postMessage,l=r.IS_PAPA_WORKER||!1,u={},h=0,p={};function v(A){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},(function(N){var O=xe(N);O.chunkSize=parseInt(O.chunkSize),N.step||N.chunk||(O.chunkSize=null),this._handle=new M(O),(this._handle.streamer=this)._config=O}).call(this,A),this.parseChunk=function(N,O){var P=parseInt(this._config.skipFirstNLines)||0;if(this.isFirstChunk&&0<P){let R=this._config.newline;R||(C=this._config.quoteChar||'"',R=this._handle.guessLineEndings(N,C)),N=[...N.split(R).slice(P)].join(R)}this.isFirstChunk&&q(this._config.beforeFirstChunk)&&(C=this._config.beforeFirstChunk(N))!==void 0&&(N=C),this.isFirstChunk=!1,this._halted=!1;var P=this._partialLine+N,C=(this._partialLine="",this._handle.parse(P,this._baseIndex,!this._finished));if(!this._handle.paused()&&!this._handle.aborted()){if(N=C.meta.cursor,P=(this._finished||(this._partialLine=P.substring(N-this._baseIndex),this._baseIndex=N),C&&C.data&&(this._rowCount+=C.data.length),this._finished||this._config.preview&&this._rowCount>=this._config.preview),l)r.postMessage({results:C,workerId:p.WORKER_ID,finished:P});else if(q(this._config.chunk)&&!O){if(this._config.chunk(C,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);this._completeResults=C=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(C.data),this._completeResults.errors=this._completeResults.errors.concat(C.errors),this._completeResults.meta=C.meta),this._completed||!P||!q(this._config.complete)||C&&C.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),P||C&&C.meta.paused||this._nextChunk(),C}this._halted=!0},this._sendError=function(N){q(this._config.error)?this._config.error(N):l&&this._config.error&&r.postMessage({workerId:p.WORKER_ID,error:N,finished:!1})}}function _(A){var N;(A=A||{}).chunkSize||(A.chunkSize=p.RemoteChunkSize),v.call(this,A),this._nextChunk=o?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(O){this._input=O,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(N=new XMLHttpRequest,this._config.withCredentials&&(N.withCredentials=this._config.withCredentials),o||(N.onload=Ee(this._chunkLoaded,this),N.onerror=Ee(this._chunkError,this)),N.open(this._config.downloadRequestBody?"POST":"GET",this._input,!o),this._config.downloadRequestHeaders){var O,P=this._config.downloadRequestHeaders;for(O in P)N.setRequestHeader(O,P[O])}var C;this._config.chunkSize&&(C=this._start+this._config.chunkSize-1,N.setRequestHeader("Range","bytes="+this._start+"-"+C));try{N.send(this._config.downloadRequestBody)}catch(R){this._chunkError(R.message)}o&&N.status===0&&this._chunkError()}},this._chunkLoaded=function(){N.readyState===4&&(N.status<200||400<=N.status?this._chunkError():(this._start+=this._config.chunkSize||N.responseText.length,this._finished=!this._config.chunkSize||this._start>=(O=>(O=O.getResponseHeader("Content-Range"))!==null?parseInt(O.substring(O.lastIndexOf("/")+1)):-1)(N),this.parseChunk(N.responseText)))},this._chunkError=function(O){O=N.statusText||O,this._sendError(new Error(O))}}function I(A){(A=A||{}).chunkSize||(A.chunkSize=p.LocalChunkSize),v.call(this,A);var N,O,P=typeof FileReader<"u";this.stream=function(C){this._input=C,O=C.slice||C.webkitSlice||C.mozSlice,P?((N=new FileReader).onload=Ee(this._chunkLoaded,this),N.onerror=Ee(this._chunkError,this)):N=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var C=this._input,R=(this._config.chunkSize&&(R=Math.min(this._start+this._config.chunkSize,this._input.size),C=O.call(C,this._start,R)),N.readAsText(C,this._config.encoding));P||this._chunkLoaded({target:{result:R}})},this._chunkLoaded=function(C){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(C.target.result)},this._chunkError=function(){this._sendError(N.error)}}function b(A){var N;v.call(this,A=A||{}),this.stream=function(O){return N=O,this._nextChunk()},this._nextChunk=function(){var O,P;if(!this._finished)return O=this._config.chunkSize,N=O?(P=N.substring(0,O),N.substring(O)):(P=N,""),this._finished=!N,this.parseChunk(P)}}function j(A){v.call(this,A=A||{});var N=[],O=!0,P=!1;this.pause=function(){v.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){v.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(C){this._input=C,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){P&&N.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),N.length?this.parseChunk(N.shift()):O=!0},this._streamData=Ee(function(C){try{N.push(typeof C=="string"?C:C.toString(this._config.encoding)),O&&(O=!1,this._checkIsFinished(),this.parseChunk(N.shift()))}catch(R){this._streamError(R)}},this),this._streamError=Ee(function(C){this._streamCleanUp(),this._sendError(C)},this),this._streamEnd=Ee(function(){this._streamCleanUp(),P=!0,this._streamData("")},this),this._streamCleanUp=Ee(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function M(A){var N,O,P,C,R=Math.pow(2,53),ie=-R,Ne=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,Ae=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,ye=this,re=0,ae=0,ce=!1,X=!1,L=[],W={data:[],errors:[],meta:{}};function Y(ue){return A.skipEmptyLines==="greedy"?ue.join("").trim()==="":ue.length===1&&ue[0].length===0}function te(){if(W&&P&&(ve("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+p.DefaultDelimiter+"'"),P=!1),A.skipEmptyLines&&(W.data=W.data.filter(function(Re){return!Y(Re)})),oe()){let Re=function(Ke,Ge){q(A.transformHeader)&&(Ke=A.transformHeader(Ke,Ge)),L.push(Ke)};if(W)if(Array.isArray(W.data[0])){for(var ue=0;oe()&&ue<W.data.length;ue++)W.data[ue].forEach(Re);W.data.splice(0,1)}else W.data.forEach(Re)}function ge(Re,Ke){for(var Ge=A.header?{}:[],st=0;st<Re.length;st++){var Ce=st,Z=Re[st],Z=((bt,We)=>(ze=>(A.dynamicTypingFunction&&A.dynamicTyping[ze]===void 0&&(A.dynamicTyping[ze]=A.dynamicTypingFunction(ze)),(A.dynamicTyping[ze]||A.dynamicTyping)===!0))(bt)?We==="true"||We==="TRUE"||We!=="false"&&We!=="FALSE"&&((ze=>{if(Ne.test(ze)&&(ze=parseFloat(ze),ie<ze&&ze<R))return 1})(We)?parseFloat(We):Ae.test(We)?new Date(We):We===""?null:We):We)(Ce=A.header?st>=L.length?"__parsed_extra":L[st]:Ce,Z=A.transform?A.transform(Z,Ce):Z);Ce==="__parsed_extra"?(Ge[Ce]=Ge[Ce]||[],Ge[Ce].push(Z)):Ge[Ce]=Z}return A.header&&(st>L.length?ve("FieldMismatch","TooManyFields","Too many fields: expected "+L.length+" fields but parsed "+st,ae+Ke):st<L.length&&ve("FieldMismatch","TooFewFields","Too few fields: expected "+L.length+" fields but parsed "+st,ae+Ke)),Ge}var Ve;W&&(A.header||A.dynamicTyping||A.transform)&&(Ve=1,!W.data.length||Array.isArray(W.data[0])?(W.data=W.data.map(ge),Ve=W.data.length):W.data=ge(W.data,0),A.header&&W.meta&&(W.meta.fields=L),ae+=Ve)}function oe(){return A.header&&L.length===0}function ve(ue,ge,Ve,Re){ue={type:ue,code:ge,message:Ve},Re!==void 0&&(ue.row=Re),W.errors.push(ue)}q(A.step)&&(C=A.step,A.step=function(ue){W=ue,oe()?te():(te(),W.data.length!==0&&(re+=ue.data.length,A.preview&&re>A.preview?O.abort():(W.data=W.data[0],C(W,ye))))}),this.parse=function(ue,ge,Ve){var Re=A.quoteChar||'"',Re=(A.newline||(A.newline=this.guessLineEndings(ue,Re)),P=!1,A.delimiter?q(A.delimiter)&&(A.delimiter=A.delimiter(ue),W.meta.delimiter=A.delimiter):((Re=((Ke,Ge,st,Ce,Z)=>{var bt,We,ze,Xe;Z=Z||[",","	","|",";",p.RECORD_SEP,p.UNIT_SEP];for(var nt=0;nt<Z.length;nt++){for(var tt,pt=Z[nt],gt=0,At=0,ct=0,mt=(ze=void 0,new V({comments:Ce,delimiter:pt,newline:Ge,preview:10}).parse(Ke)),jt=0;jt<mt.data.length;jt++)st&&Y(mt.data[jt])?ct++:(tt=mt.data[jt].length,At+=tt,ze===void 0?ze=tt:0<tt&&(gt+=Math.abs(tt-ze),ze=tt));0<mt.data.length&&(At/=mt.data.length-ct),(We===void 0||gt<=We)&&(Xe===void 0||Xe<At)&&1.99<At&&(We=gt,bt=pt,Xe=At)}return{successful:!!(A.delimiter=bt),bestDelimiter:bt}})(ue,A.newline,A.skipEmptyLines,A.comments,A.delimitersToGuess)).successful?A.delimiter=Re.bestDelimiter:(P=!0,A.delimiter=p.DefaultDelimiter),W.meta.delimiter=A.delimiter),xe(A));return A.preview&&A.header&&Re.preview++,N=ue,O=new V(Re),W=O.parse(N,ge,Ve),te(),ce?{meta:{paused:!0}}:W||{meta:{paused:!1}}},this.paused=function(){return ce},this.pause=function(){ce=!0,O.abort(),N=q(A.chunk)?"":N.substring(O.getCharIndex())},this.resume=function(){ye.streamer._halted?(ce=!1,ye.streamer.parseChunk(N,!0)):setTimeout(ye.resume,3)},this.aborted=function(){return X},this.abort=function(){X=!0,O.abort(),W.meta.aborted=!0,q(A.complete)&&A.complete(W),N=""},this.guessLineEndings=function(Ke,Re){Ke=Ke.substring(0,1048576);var Re=new RegExp(B(Re)+"([^]*?)"+B(Re),"gm"),Ve=(Ke=Ke.replace(Re,"")).split("\r"),Re=Ke.split(`
`),Ke=1<Re.length&&Re[0].length<Ve[0].length;if(Ve.length===1||Ke)return`
`;for(var Ge=0,st=0;st<Ve.length;st++)Ve[st][0]===`
`&&Ge++;return Ge>=Ve.length/2?`\r
`:"\r"}}function B(A){return A.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function V(A){var N=(A=A||{}).delimiter,O=A.newline,P=A.comments,C=A.step,R=A.preview,ie=A.fastMode,Ne=null,Ae=!1,ye=A.quoteChar==null?'"':A.quoteChar,re=ye;if(A.escapeChar!==void 0&&(re=A.escapeChar),(typeof N!="string"||-1<p.BAD_DELIMITERS.indexOf(N))&&(N=","),P===N)throw new Error("Comment character same as delimiter");P===!0?P="#":(typeof P!="string"||-1<p.BAD_DELIMITERS.indexOf(P))&&(P=!1),O!==`
`&&O!=="\r"&&O!==`\r
`&&(O=`
`);var ae=0,ce=!1;this.parse=function(X,L,W){if(typeof X!="string")throw new Error("Input must be a string");var Y=X.length,te=N.length,oe=O.length,ve=P.length,ue=q(C),ge=[],Ve=[],Re=[],Ke=ae=0;if(!X)return gt();if(ie||ie!==!1&&X.indexOf(ye)===-1){for(var Ge=X.split(O),st=0;st<Ge.length;st++){if(Re=Ge[st],ae+=Re.length,st!==Ge.length-1)ae+=O.length;else if(W)return gt();if(!P||Re.substring(0,ve)!==P){if(ue){if(ge=[],Xe(Re.split(N)),At(),ce)return gt()}else Xe(Re.split(N));if(R&&R<=st)return ge=ge.slice(0,R),gt(!0)}}return gt()}for(var Ce=X.indexOf(N,ae),Z=X.indexOf(O,ae),bt=new RegExp(B(re)+B(ye),"g"),We=X.indexOf(ye,ae);;)if(X[ae]===ye)for(We=ae,ae++;;){if((We=X.indexOf(ye,We+1))===-1)return W||Ve.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:ge.length,index:ae}),tt();if(We===Y-1)return tt(X.substring(ae,We).replace(bt,ye));if(ye===re&&X[We+1]===re)We++;else if(ye===re||We===0||X[We-1]!==re){Ce!==-1&&Ce<We+1&&(Ce=X.indexOf(N,We+1));var ze=nt((Z=Z!==-1&&Z<We+1?X.indexOf(O,We+1):Z)===-1?Ce:Math.min(Ce,Z));if(X.substr(We+1+ze,te)===N){Re.push(X.substring(ae,We).replace(bt,ye)),X[ae=We+1+ze+te]!==ye&&(We=X.indexOf(ye,ae)),Ce=X.indexOf(N,ae),Z=X.indexOf(O,ae);break}if(ze=nt(Z),X.substring(We+1+ze,We+1+ze+oe)===O){if(Re.push(X.substring(ae,We).replace(bt,ye)),pt(We+1+ze+oe),Ce=X.indexOf(N,ae),We=X.indexOf(ye,ae),ue&&(At(),ce))return gt();if(R&&ge.length>=R)return gt(!0);break}Ve.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:ge.length,index:ae}),We++}}else if(P&&Re.length===0&&X.substring(ae,ae+ve)===P){if(Z===-1)return gt();ae=Z+oe,Z=X.indexOf(O,ae),Ce=X.indexOf(N,ae)}else if(Ce!==-1&&(Ce<Z||Z===-1))Re.push(X.substring(ae,Ce)),ae=Ce+te,Ce=X.indexOf(N,ae);else{if(Z===-1)break;if(Re.push(X.substring(ae,Z)),pt(Z+oe),ue&&(At(),ce))return gt();if(R&&ge.length>=R)return gt(!0)}return tt();function Xe(ct){ge.push(ct),Ke=ae}function nt(ct){var mt=0;return mt=ct!==-1&&(ct=X.substring(We+1,ct))&&ct.trim()===""?ct.length:mt}function tt(ct){return W||(ct===void 0&&(ct=X.substring(ae)),Re.push(ct),ae=Y,Xe(Re),ue&&At()),gt()}function pt(ct){ae=ct,Xe(Re),Re=[],Z=X.indexOf(O,ae)}function gt(ct){if(A.header&&!L&&ge.length&&!Ae){var mt=ge[0],jt={},It=new Set(mt);let Ot=!1;for(let it=0;it<mt.length;it++){let rn=mt[it];if(jt[rn=q(A.transformHeader)?A.transformHeader(rn,it):rn]){let Ht,_r=jt[rn];for(;Ht=rn+"_"+_r,_r++,It.has(Ht););It.add(Ht),mt[it]=Ht,jt[rn]++,Ot=!0,(Ne=Ne===null?{}:Ne)[Ht]=rn}else jt[rn]=1,mt[it]=rn;It.add(rn)}Ot&&console.warn("Duplicate headers found and renamed."),Ae=!0}return{data:ge,errors:Ve,meta:{delimiter:N,linebreak:O,aborted:ce,truncated:!!ct,cursor:Ke+(L||0),renamedHeaders:Ne}}}function At(){C(gt()),ge=[],Ve=[]}},this.abort=function(){ce=!0},this.getCharIndex=function(){return ae}}function Q(A){var N=A.data,O=u[N.workerId],P=!1;if(N.error)O.userError(N.error,N.file);else if(N.results&&N.results.data){var C={abort:function(){P=!0,ne(N.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:me,resume:me};if(q(O.userStep)){for(var R=0;R<N.results.data.length&&(O.userStep({data:N.results.data[R],errors:N.results.errors,meta:N.results.meta},C),!P);R++);delete N.results}else q(O.userChunk)&&(O.userChunk(N.results,C,N.file),delete N.results)}N.finished&&!P&&ne(N.workerId,N.results)}function ne(A,N){var O=u[A];q(O.userComplete)&&O.userComplete(N),O.terminate(),delete u[A]}function me(){throw new Error("Not implemented.")}function xe(A){if(typeof A!="object"||A===null)return A;var N,O=Array.isArray(A)?[]:{};for(N in A)O[N]=xe(A[N]);return O}function Ee(A,N){return function(){A.apply(N,arguments)}}function q(A){return typeof A=="function"}return p.parse=function(A,N){var O=(N=N||{}).dynamicTyping||!1;if(q(O)&&(N.dynamicTypingFunction=O,O={}),N.dynamicTyping=O,N.transform=!!q(N.transform)&&N.transform,!N.worker||!p.WORKERS_SUPPORTED)return O=null,p.NODE_STREAM_INPUT,typeof A=="string"?(A=(P=>P.charCodeAt(0)!==65279?P:P.slice(1))(A),O=new(N.download?_:b)(N)):A.readable===!0&&q(A.read)&&q(A.on)?O=new j(N):(r.File&&A instanceof File||A instanceof Object)&&(O=new I(N)),O.stream(A);(O=(()=>{var P;return!!p.WORKERS_SUPPORTED&&(P=(()=>{var C=r.URL||r.webkitURL||null,R=t.toString();return p.BLOB_URL||(p.BLOB_URL=C.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",R,")();"],{type:"text/javascript"})))})(),(P=new r.Worker(P)).onmessage=Q,P.id=h++,u[P.id]=P)})()).userStep=N.step,O.userChunk=N.chunk,O.userComplete=N.complete,O.userError=N.error,N.step=q(N.step),N.chunk=q(N.chunk),N.complete=q(N.complete),N.error=q(N.error),delete N.worker,O.postMessage({input:A,config:N,workerId:O.id})},p.unparse=function(A,N){var O=!1,P=!0,C=",",R=`\r
`,ie='"',Ne=ie+ie,Ae=!1,ye=null,re=!1,ae=((()=>{if(typeof N=="object"){if(typeof N.delimiter!="string"||p.BAD_DELIMITERS.filter(function(L){return N.delimiter.indexOf(L)!==-1}).length||(C=N.delimiter),typeof N.quotes!="boolean"&&typeof N.quotes!="function"&&!Array.isArray(N.quotes)||(O=N.quotes),typeof N.skipEmptyLines!="boolean"&&typeof N.skipEmptyLines!="string"||(Ae=N.skipEmptyLines),typeof N.newline=="string"&&(R=N.newline),typeof N.quoteChar=="string"&&(ie=N.quoteChar),typeof N.header=="boolean"&&(P=N.header),Array.isArray(N.columns)){if(N.columns.length===0)throw new Error("Option columns is empty");ye=N.columns}N.escapeChar!==void 0&&(Ne=N.escapeChar+ie),N.escapeFormulae instanceof RegExp?re=N.escapeFormulae:typeof N.escapeFormulae=="boolean"&&N.escapeFormulae&&(re=/^[=+\-@\t\r].*$/)}})(),new RegExp(B(ie),"g"));if(typeof A=="string"&&(A=JSON.parse(A)),Array.isArray(A)){if(!A.length||Array.isArray(A[0]))return ce(null,A,Ae);if(typeof A[0]=="object")return ce(ye||Object.keys(A[0]),A,Ae)}else if(typeof A=="object")return typeof A.data=="string"&&(A.data=JSON.parse(A.data)),Array.isArray(A.data)&&(A.fields||(A.fields=A.meta&&A.meta.fields||ye),A.fields||(A.fields=Array.isArray(A.data[0])?A.fields:typeof A.data[0]=="object"?Object.keys(A.data[0]):[]),Array.isArray(A.data[0])||typeof A.data[0]=="object"||(A.data=[A.data])),ce(A.fields||[],A.data||[],Ae);throw new Error("Unable to serialize unrecognized input");function ce(L,W,Y){var te="",oe=(typeof L=="string"&&(L=JSON.parse(L)),typeof W=="string"&&(W=JSON.parse(W)),Array.isArray(L)&&0<L.length),ve=!Array.isArray(W[0]);if(oe&&P){for(var ue=0;ue<L.length;ue++)0<ue&&(te+=C),te+=X(L[ue],ue);0<W.length&&(te+=R)}for(var ge=0;ge<W.length;ge++){var Ve=(oe?L:W[ge]).length,Re=!1,Ke=oe?Object.keys(W[ge]).length===0:W[ge].length===0;if(Y&&!oe&&(Re=Y==="greedy"?W[ge].join("").trim()==="":W[ge].length===1&&W[ge][0].length===0),Y==="greedy"&&oe){for(var Ge=[],st=0;st<Ve;st++){var Ce=ve?L[st]:st;Ge.push(W[ge][Ce])}Re=Ge.join("").trim()===""}if(!Re){for(var Z=0;Z<Ve;Z++){0<Z&&!Ke&&(te+=C);var bt=oe&&ve?L[Z]:Z;te+=X(W[ge][bt],Z)}ge<W.length-1&&(!Y||0<Ve&&!Ke)&&(te+=R)}}return te}function X(L,W){var Y,te;return L==null?"":L.constructor===Date?JSON.stringify(L).slice(1,25):(te=!1,re&&typeof L=="string"&&re.test(L)&&(L="'"+L,te=!0),Y=L.toString().replace(ae,Ne),(te=te||O===!0||typeof O=="function"&&O(L,W)||Array.isArray(O)&&O[W]||((oe,ve)=>{for(var ue=0;ue<ve.length;ue++)if(-1<oe.indexOf(ve[ue]))return!0;return!1})(Y,p.BAD_DELIMITERS)||-1<Y.indexOf(C)||Y.charAt(0)===" "||Y.charAt(Y.length-1)===" ")?ie+Y+ie:Y)}},p.RECORD_SEP="",p.UNIT_SEP="",p.BYTE_ORDER_MARK="\uFEFF",p.BAD_DELIMITERS=["\r",`
`,'"',p.BYTE_ORDER_MARK],p.WORKERS_SUPPORTED=!o&&!!r.Worker,p.NODE_STREAM_INPUT=1,p.LocalChunkSize=10485760,p.RemoteChunkSize=5242880,p.DefaultDelimiter=",",p.Parser=V,p.ParserHandle=M,p.NetworkStreamer=_,p.FileStreamer=I,p.StringStreamer=b,p.ReadableStreamStreamer=j,r.jQuery&&((i=r.jQuery).fn.parse=function(A){var N=A.config||{},O=[];return this.each(function(R){if(!(i(this).prop("tagName").toUpperCase()==="INPUT"&&i(this).attr("type").toLowerCase()==="file"&&r.FileReader)||!this.files||this.files.length===0)return!0;for(var ie=0;ie<this.files.length;ie++)O.push({file:this.files[ie],inputElem:this,instanceConfig:i.extend({},N)})}),P(),this;function P(){if(O.length===0)q(A.complete)&&A.complete();else{var R,ie,Ne,Ae,ye=O[0];if(q(A.before)){var re=A.before(ye.file,ye.inputElem);if(typeof re=="object"){if(re.action==="abort")return R="AbortError",ie=ye.file,Ne=ye.inputElem,Ae=re.reason,void(q(A.error)&&A.error({name:R},ie,Ne,Ae));if(re.action==="skip")return void C();typeof re.config=="object"&&(ye.instanceConfig=i.extend(ye.instanceConfig,re.config))}else if(re==="skip")return void C()}var ae=ye.instanceConfig.complete;ye.instanceConfig.complete=function(ce){q(ae)&&ae(ce,ye.file,ye.inputElem),C()},p.parse(ye.file,ye.instanceConfig)}}function C(){O.splice(0,1),P()}}),l&&(r.onmessage=function(A){A=A.data,p.WORKER_ID===void 0&&A&&(p.WORKER_ID=A.workerId),typeof A.input=="string"?r.postMessage({workerId:p.WORKER_ID,results:p.parse(A.input,A.config),finished:!0}):(r.File&&A.input instanceof File||A.input instanceof Object)&&(A=p.parse(A.input,A.config))&&r.postMessage({workerId:p.WORKER_ID,results:A,finished:!0})}),(_.prototype=Object.create(v.prototype)).constructor=_,(I.prototype=Object.create(v.prototype)).constructor=I,(b.prototype=Object.create(b.prototype)).constructor=b,(j.prototype=Object.create(v.prototype)).constructor=j,p})}(yd)),yd.exports}var fP=hP();const dP=bm(fP),Hd="tps_history";function w1(n){const e=new Date,t={...n,salvoEm:e.toISOString(),dataHoraBusca:e.toISOString()},r=JSON.parse(localStorage.getItem(Hd))||[],i=[t,...r];localStorage.setItem(Hd,JSON.stringify(i)),eI(L5(A_,"historicoTPS"),{tipo:t.tipo||"desconhecido",data:nI(),total:Number(t.total||0),mensagem:t.mensagem||"",dataHoraBusca:t.dataHoraBusca,salvoEm:t.salvoEm}).then(()=>console.log(" Histrico salvo no Firestore")).catch(o=>console.error(" Firebase erro:",o))}function pP(){return JSON.parse(localStorage.getItem(Hd))||[]}function gP(){localStorage.removeItem(Hd)}function mP(){const[n,e]=ot.useState([]),[t,r]=ot.useState("Todos"),[i,o]=ot.useState(""),[l,u]=ot.useState("desc"),[h,p]=ot.useState(!1),[v,_]=ot.useState(""),I="1234";ot.useEffect(()=>{async function Ee(){const q=pP()||[],N=(await ZA(L5(A_,"historicoTPS"))).docs.map(C=>({...C.data(),id:C.id})),O=[...q,...N],P=Array.from(new Map(O.map(C=>[`${C.mensagem}-${C.salvoEm}`,C])).values());e(P)}Ee()},[]);const b=()=>{gP(),e([])},j=Ee=>r(Ee.target.value),M=Ee=>o(Ee.target.value),B=Ee=>u(Ee.target.value),V=()=>{const Ee=new Blob([JSON.stringify(me,null,2)],{type:"application/json"}),q=URL.createObjectURL(Ee),A=document.createElement("a");A.href=q,A.download="historico_tps.json",A.click(),URL.revokeObjectURL(q)},Q=()=>{const Ee=new Rt,q=me.map(A=>{var N,O;return[A.tipo||"-",A.total||"-",((N=A.mensagem)==null?void 0:N.slice(0,40))||"-",new Date(A.salvoEm||((O=A.data)==null?void 0:O.seconds)*1e3).toLocaleString()]});Ee.text("Histrico TPS",14,15),Ee.autoTable({startY:20,head:[["Tipo","Total","Mensagem","Data"]],body:q}),Ee.save("historico_tps.pdf")},ne=()=>{const Ee=dP.unparse(me.map(O=>{var P;return{tipo:O.tipo,total:O.total,mensagem:O.mensagem,data:new Date(O.salvoEm||((P=O.data)==null?void 0:P.seconds)*1e3).toLocaleString()}})),q=new Blob([Ee],{type:"text/csv;charset=utf-8;"}),A=URL.createObjectURL(q),N=document.createElement("a");N.href=A,N.download="historico_tps.csv",N.click(),URL.revokeObjectURL(A)},me=n.filter(Ee=>{var N;const q=t==="Todos"||((N=Ee.tipo)==null?void 0:N.toLowerCase())===t.toLowerCase(),A=JSON.stringify(Ee).toLowerCase().includes(i.toLowerCase());return q&&A}).sort((Ee,q)=>{var O,P;const A=new Date(Ee.salvoEm||((O=Ee.data)==null?void 0:O.seconds)*1e3),N=new Date(q.salvoEm||((P=q.data)==null?void 0:P.seconds)*1e3);return l==="asc"?A-N:N-A}),xe=()=>{v===I?p(!0):alert("Senha incorreta.")};return h?Be.jsxs("div",{className:"min-h-screen bg-black text-white p-4 md:p-8",children:[Be.jsxs("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6 space-y-4 md:space-y-0",children:[Be.jsx("h1",{className:"text-2xl font-bold",children:" Histrico de Simulaes"}),Be.jsx("button",{onClick:b,className:"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded",children:"Limpar Histrico Local"})]}),Be.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:space-x-4 mb-6 space-y-4 md:space-y-0",children:[Be.jsxs("select",{value:t,onChange:j,className:"text-black px-3 py-1 rounded",children:[Be.jsx("option",{children:"Todos"}),Be.jsx("option",{children:"Hotel"}),Be.jsx("option",{children:"Voo"}),Be.jsx("option",{children:"Carro"}),Be.jsx("option",{children:"Seguro"})]}),Be.jsx("input",{type:"text",value:i,onChange:M,placeholder:"Buscar por palavra-chave",className:"text-black px-3 py-1 rounded"}),Be.jsxs("select",{value:l,onChange:B,className:"text-black px-3 py-1 rounded",children:[Be.jsx("option",{value:"desc",children:"Mais recente"}),Be.jsx("option",{value:"asc",children:"Mais antigo"})]}),Be.jsx("button",{onClick:V,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Exportar JSON"}),Be.jsx("button",{onClick:Q,className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded",children:"Gerar PDF"}),Be.jsx("button",{onClick:ne,className:"bg-yellow-500 hover:bg-yellow-600 text-white px-4 py-2 rounded",children:"Exportar CSV"})]}),me.length===0?Be.jsx("p",{className:"text-gray-400",children:"Nenhum histrico encontrado."}):Be.jsx("ul",{className:"space-y-4",children:me.map((Ee,q)=>Be.jsx("li",{className:"border-b border-gray-700 pb-2",children:Be.jsx("pre",{className:"text-sm whitespace-pre-wrap",children:JSON.stringify(Ee,null,2)})},q))})]}):Be.jsx("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:Be.jsxs("div",{className:"bg-gray-800 p-8 rounded shadow-md w-80",children:[Be.jsx("h2",{className:"text-xl font-bold mb-4",children:" Acesso Restrito"}),Be.jsx("input",{type:"password",value:v,onChange:Ee=>_(Ee.target.value),className:"w-full px-3 py-2 rounded text-black mb-4",placeholder:"Digite a senha..."}),Be.jsx("button",{onClick:xe,className:"w-full bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded",children:"Entrar"})]})})}const Lg=[{name:"The Manhattan Stay",location:"Midtown, NYC",price:210,rating:8.5,link:"https://www.booking.com"},{name:"Central Park Lodge",location:"Upper West Side, NYC",price:185,rating:9.1,link:"https://www.booking.com"},{name:"Times Square Inn",location:"Times Square, NYC",price:230,rating:8,link:"https://www.booking.com"},{name:"SoHo Boutique Hotel",location:"SoHo, NYC",price:195,rating:8.9,link:"https://www.booking.com"},{name:"Harlem Comfort Suites",location:"Harlem, NYC",price:165,rating:7.8,link:"https://www.booking.com"}];function vP(){return ot.useEffect(()=>{const n=new Date().toISOString();w1({tipo:"hotel",data:new Date().toLocaleString(),total:Lg.length,mensagem:`Foram simulados ${Lg.length} hotis.`,dataHoraBusca:n})},[]),Be.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[Be.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Resultados de Hotis"}),Be.jsx("div",{className:"space-y-4",children:Lg.map((n,e)=>Be.jsxs("div",{className:"border p-4",children:[Be.jsx("h2",{className:"text-xl font-semibold",children:n.name}),Be.jsx("p",{children:n.location}),Be.jsxs("p",{children:[" $",n.price,"/night"]}),Be.jsxs("p",{children:[" ",n.rating]}),Be.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"Ver no Booking"})]},e))}),Be.jsx("div",{className:"mt-6",children:Be.jsx("a",{href:"/",className:"text-blue-400 underline",children:" Voltar ao incio"})})]})}function yP(){const n=[{airline:"LATAM Airlines",route:"GRU  JFK",date:"10/06/2025",price:"R$ 2.950",rating:4.6,url:"#"},{airline:"American Airlines",route:"GRU  JFK",date:"10/06/2025",price:"R$ 3.120",rating:4.4,url:"#"},{airline:"Delta",route:"GRU  JFK",date:"10/06/2025",price:"R$ 3.080",rating:4.5,url:"#"}];return Be.jsxs("div",{className:"min-h-screen bg-black text-white p-8",children:[Be.jsx("h1",{className:"text-2xl font-bold mb-6",children:"Sugestes de Voos"}),n.map((e,t)=>Be.jsxs("div",{className:"mb-6 border p-4",children:[Be.jsx("h2",{className:"text-xl font-semibold",children:e.airline}),Be.jsxs("p",{children:[e.route," (",e.date,")"]}),Be.jsx("p",{children:e.price}),Be.jsxs("p",{children:["Nota: ",e.rating]}),Be.jsx("a",{href:e.url,className:"text-blue-400 underline",children:"Ver no site"})]},t)),Be.jsx(Qa,{to:"/",className:"text-blue-400 underline mt-4 block",children:" Voltar ao incio"})]})}const nd=[{model:"Fiat Mobi",price:95,location:"Recife Airport",rating:8.3,link:"https://www.localiza.com"},{model:"Chevrolet Onix",price:110,location:"Boa Viagem",rating:8.9,link:"https://www.localiza.com"},{model:"Hyundai HB20",price:105,location:"Recife Center",rating:8.5,link:"https://www.localiza.com"}];function _P(){return ot.useEffect(()=>{const n=new Date;w1({tipo:"carro",data:n.toLocaleString(),dataHoraBusca:n.toISOString(),total:nd.length,mensagem:`Foram simulados ${nd.length} carros em Recife.`,resultados:nd})},[]),Be.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[Be.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Carros Disponveis em Recife"}),Be.jsx("div",{className:"space-y-4",children:nd.map((n,e)=>Be.jsxs("div",{className:"border border-gray-700 rounded p-4",children:[Be.jsx("h2",{className:"text-xl font-semibold",children:n.model}),Be.jsxs("p",{children:[" ",n.location]}),Be.jsxs("p",{children:[" R$ ",n.price,"/dia"]}),Be.jsxs("p",{children:[" ",n.rating]}),Be.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"Ver na Localiza"})]},e))}),Be.jsx("div",{className:"mt-6",children:Be.jsx("a",{href:"/",className:"text-blue-400 underline",children:" Voltar ao incio"})})]})}const rd=[{provider:"TravelSecure",coverage:"Cobertura mdica at R$ 150.000",price:180,link:"https://www.seguroviagem.com"},{provider:"MundoSeguro",coverage:"Cobertura completa + bagagem",price:220,link:"https://www.seguroviagem.com"},{provider:"Viagem Protegida",coverage:"Assistncia mdica e jurdica",price:195,link:"https://www.seguroviagem.com"}];function wP(){return ot.useEffect(()=>{const n=new Date;w1({tipo:"seguro",data:n.toLocaleString(),dataHoraBusca:n.toISOString(),total:rd.length,mensagem:`Foram simuladas ${rd.length} opes de seguro.`,resultados:rd})},[]),Be.jsxs("div",{className:"min-h-screen bg-black text-white p-6",children:[Be.jsx("h1",{className:"text-2xl font-bold mb-6",children:" Seguros de Viagem Disponveis"}),Be.jsx("div",{className:"space-y-4",children:rd.map((n,e)=>Be.jsxs("div",{className:"border border-gray-700 rounded p-4",children:[Be.jsx("h2",{className:"text-xl font-semibold",children:n.provider}),Be.jsx("p",{children:n.coverage}),Be.jsxs("p",{children:[" R$ ",n.price]}),Be.jsx("a",{href:n.link,target:"_blank",rel:"noopener noreferrer",className:"text-blue-400 underline",children:"Ver detalhes"})]},e))}),Be.jsx("div",{className:"mt-6",children:Be.jsx("a",{href:"/",className:"text-blue-400 underline",children:" Voltar ao incio"})})]})}function SP(){const n=$d(),e=()=>{Dh.signOut().then(()=>n("/login"))};return Be.jsxs("nav",{className:"bg-gray-900 text-white p-4 flex justify-between items-center",children:[Be.jsxs("div",{className:"space-x-4",children:[Be.jsx(Qa,{to:"/home",className:"hover:underline",children:" Incio"}),Be.jsx(Qa,{to:"/results",className:"hover:underline",children:" Resultados"}),Be.jsx(Qa,{to:"/history",className:"hover:underline",children:" Histrico"})]}),Be.jsx("button",{onClick:e,className:"bg-red-600 px-3 py-1 rounded hover:bg-red-700",children:"Sair"})]})}function bP(){const[n,e]=Ph.useState(null),[t,r]=Ph.useState(!0);return Ph.useEffect(()=>{f_(Dh,i=>{e(i),r(!1)})},[]),t?Be.jsx("div",{className:"text-white p-8",children:"Carregando..."}):Be.jsxs(W4,{children:[n&&Be.jsx(SP,{}),Be.jsxs(j4,{children:[Be.jsx(ha,{path:"/login",element:Be.jsx(b6,{})}),Be.jsx(ha,{path:"/home",element:n?Be.jsx(E6,{}):Be.jsx(Ka,{to:"/login"})}),Be.jsx(ha,{path:"/results",element:n?Be.jsx(A6,{}):Be.jsx(Ka,{to:"/login"})}),Be.jsx(ha,{path:"/history",element:n?Be.jsx(mP,{}):Be.jsx(Ka,{to:"/login"})}),Be.jsx(ha,{path:"/hotels",element:n?Be.jsx(vP,{}):Be.jsx(Ka,{to:"/login"})}),Be.jsx(ha,{path:"/flights",element:n?Be.jsx(yP,{}):Be.jsx(Ka,{to:"/login"})}),Be.jsx(ha,{path:"/cars",element:n?Be.jsx(_P,{}):Be.jsx(Ka,{to:"/login"})}),Be.jsx(ha,{path:"/insurance",element:n?Be.jsx(wP,{}):Be.jsx(Ka,{to:"/login"})}),Be.jsx(ha,{path:"*",element:Be.jsx(Ka,{to:n?"/home":"/login"})})]})]})}Gw.createRoot(document.getElementById("root")).render(Be.jsx(Ph.StrictMode,{children:Be.jsx(bP,{})}));export{kn as _,EP as c,bm as g};
